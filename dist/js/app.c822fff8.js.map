{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/pages/profile/profile.vue?8f37","webpack:///./src/App.vue?5b2d","webpack:///./src/pages/auth/login.vue?0882","webpack:///./src/pages/shop/shop.vue?78ef","webpack:///./src/pages/menu/menu.vue?518b","webpack:///./src/services/supabase-client.js","webpack:///./src/components/item-shop/item-shop.vue?e475","webpack:///./src/pages/create-room/create-room.vue?49b8","webpack:///./src/components/auction-panel/auction-panel.vue?7669","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/App.vue?774d","webpack:///./src/App.vue?3746","webpack:///./src/services/auction-service.js","webpack:///./src/services/auction-persist-service.js","webpack:///./src/services/item-service.js","webpack:///./src/services/game-state-service.js","webpack:///./src/store/index.js","webpack:///./src/pages/index/index.vue","webpack:///./src/components/auction-panel/auction-panel.vue","webpack:///src/components/auction-panel/auction-panel.vue","webpack:///./src/components/auction-panel/auction-panel.vue?28c8","webpack:///./src/components/auction-panel/auction-panel.vue?9a02","webpack:///./src/components/player-avatar/player-avatar.vue","webpack:///src/components/player-avatar/player-avatar.vue","webpack:///./src/components/player-avatar/player-avatar.vue?071b","webpack:///./src/components/player-avatar/player-avatar.vue?7c34","webpack:///./src/components/item-shop/item-shop.vue","webpack:///src/components/item-shop/item-shop.vue","webpack:///./src/components/item-shop/item-shop.vue?877a","webpack:///./src/components/item-shop/item-shop.vue?9064","webpack:///src/pages/index/index.vue","webpack:///./src/pages/index/index.vue?c166","webpack:///./src/pages/index/index.vue?975f","webpack:///./src/pages/card-detail/card-detail.vue","webpack:///src/pages/card-detail/card-detail.vue","webpack:///./src/pages/card-detail/card-detail.vue?6981","webpack:///./src/pages/card-detail/card-detail.vue?010e","webpack:///./src/pages/shop/shop.vue","webpack:///src/pages/shop/shop.vue","webpack:///./src/pages/shop/shop.vue?7ec9","webpack:///./src/pages/shop/shop.vue?0dc5","webpack:///./src/pages/collection/collection.vue","webpack:///src/pages/collection/collection.vue","webpack:///./src/pages/collection/collection.vue?449e","webpack:///./src/pages/collection/collection.vue?3837","webpack:///./src/pages/auth/login.vue","webpack:///./src/services/auth-service.js","webpack:///src/pages/auth/login.vue","webpack:///./src/pages/auth/login.vue?295c","webpack:///./src/pages/auth/login.vue?1ff3","webpack:///./src/pages/rooms/rooms.vue","webpack:///src/pages/rooms/rooms.vue","webpack:///./src/pages/rooms/rooms.vue?6f9d","webpack:///./src/pages/rooms/rooms.vue?2da9","webpack:///./src/pages/create-room/create-room.vue","webpack:///src/pages/create-room/create-room.vue","webpack:///./src/pages/create-room/create-room.vue?f5b4","webpack:///./src/pages/create-room/create-room.vue?c2a9","webpack:///./src/pages/player/player.vue","webpack:///src/pages/player/player.vue","webpack:///./src/pages/player/player.vue?6fbe","webpack:///./src/pages/player/player.vue?d589","webpack:///./src/pages/menu/menu.vue","webpack:///src/pages/menu/menu.vue","webpack:///./src/pages/menu/menu.vue?ecdf","webpack:///./src/pages/menu/menu.vue?dab4","webpack:///./src/pages/profile/profile.vue","webpack:///src/pages/profile/profile.vue","webpack:///./src/pages/profile/profile.vue?52b2","webpack:///./src/pages/profile/profile.vue?83ea","webpack:///./src/router/index.js","webpack:///./src/services/cleanup-service.js","webpack:///./src/main.js","webpack:///./src/pages/index/index.vue?63fd","webpack:///./src/pages/player/player.vue?e8c3","webpack:///./src/pages/collection/collection.vue?eeeb","webpack:///./src/pages/card-detail/card-detail.vue?997c","webpack:///./src/services/room-service.js","webpack:///./src/components/player-avatar/player-avatar.vue?c4b3","webpack:///./src/pages/rooms/rooms.vue?6df2"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","supabaseClient","getSupabase","url","process","anonKey","console","warn","createClient","realtime","params","eventsPerSecond","render","_vm","this","_c","_self","attrs","staticRenderFns","component","AuctionService","constructor","currentAuctions","auctionHistory","defaultTimeLimit","startAuction","artifact","timeLimit","auction","id","Date","now","Math","random","toString","highestBid","highestBidder","timeRemaining","bids","startTime","status","_timer","startCountdown","placeBid","auctionId","playerId","playerName","bidAmount","getAuctionById","Error","bid","amount","timestamp","endAuction","endTime","clearInterval","winner","winningBid","filter","a","setInterval","getCurrentAuctions","find","getAuctionHistory","AuctionPersistService","roomId","supabase","error","from","upsert","artifact_id","highest_bid","highest_bidder","time_remaining","update","eq","uerr","herr","insert","auction_id","winning_bid","aerr","room_id","owner_user_id","derr","delete","ItemService","items","playerItems","Map","loadItems","select","Array","isArray","getItems","getItemById","itemId","item","buyItem","playerEnergy","price","playerItemCount","getPlayerItemCount","sameTypeCount","getPlayerItemCountByType","type","has","set","purchaseTime","success","remainingEnergy","useItem","target","playerItemList","playerItem","validateUseTiming","executeItemEffect","index","findIndex","effect","executeReturnArtifact","executeCancelAuction","executeExtendTime","executeStealEnergy","executeDoubleAuction","message","extendTime","stealAmount","getPlayerItems","GameStateService","gameState","gameId","phase","players","currentAuction","deck","usedItems","gameLog","initializeGame","playerNames","generateGameId","map","energy","artifacts","collections","initializeDeck","addGameLog","substr","require","default","shuffleArray","array","newArray","floor","startAuctionPhase","startItemPhase","endGame","calculateFinalScores","forEach","player","totalScore","keys","collectionName","collection","getCollectionByName","requiredCount","rewardPoints","artifactId","getArtifactById","baseValue","finalScore","sort","b","list","updateCollectionProgress","collectionTags","tag","getGameState","getPlayer","updatePlayerEnergy","energyChange","max","addArtifactToPlayer","removeArtifactFromPlayer","indexOf","Vue","use","Vuex","store","Store","state","gamePhase","showCardDetail","selectedCard","showShop","currentPlayer","playerArtifacts","user","mutations","SET_GAME_PHASE","SET_PLAYERS","SET_CURRENT_AUCTIONS","auctions","ADD_OR_UPDATE_AUCTION","idx","REMOVE_AUCTION","ADD_GAME_LOG","log","SET_SHOW_CARD_DETAIL","show","SET_SELECTED_CARD","card","SET_SHOW_SHOP","SET_CURRENT_PLAYER","SET_PLAYER_ENERGY","SET_PLAYER_ARTIFACTS","SET_PLAYER_ITEMS","SET_USER","previous","next","undefined","username","avatar","SET_ROOM_ID","actions","commit","gameStateService","auctionService","auctionPersist","upsertAuction","updated","updateBid","endedAuction","nextArtifacts","itemService","hideCardDetail","hideShop","updateGameState","newState","getters","isGameActive","isAuctionPhase","isItemPhase","currentAuctionsInfo","bidCount","currentPlayerInfo","recentGameLog","staticClass","class","_m","_v","_s","email","on","$event","$router","room","short_id","playerCount","seatCount","ownerName","_e","gamePhaseText","$store","toggleReady","currentUserReady","isOwner","allReady","startGame","openShop","leaveRoom","_l","room_players","user_id","showPlayerHand","getAvatarFor","is_ready","getNameFor","auctionCountdown","showArtifactDetailFromAuction","prepCountdown","style","gridTemplateColumns","seats","seat","occupied","moveToSeat","aid","showArtifactDetail","artifactMap","image","completed","isCollectionCompleted","description","width","getCollectionProgress","getCurrentCollectionCount","ref","chatMessages","userId","formatMessageTime","content","directives","rawName","newMessage","expression","domProps","_k","keyCode","sendMessage","arguments","composing","trim","era","location","story","closeShop","showHandPopup","hideHand","handPlayer","showGameEndDialog","closeGameEndDialog","stayInRoom","goToRooms","auctionsList","countdown","$emit","getBidderAvatar","getBidderName","getCountdownPercentShared","bidAmounts","$set","onBidInput","parseInt","props","Number","computed","mapState","mapGetters","__dummy","watch","newVal","methods","canBid","total","remain","percent","min","round","raw","String","cleaned","replace","isFinite","alert","dispatch","$parent","code","toUpperCase","bg","fg","svg","encodeURIComponent","required","canBuyItem","components","AuctionPanel","PlayerAvatar","ItemShop","profileMap","refreshTimer","auctionTimer","chatChannel","owner_id","every","me","max_players","seat_index","emptyIdx","phaseMap","$route","query","loadRoomState","subscribeRoomRealtime","beforeDestroy","unsubscribeRoomRealtime","loadArtifacts","reduce","acc","loadCollections","rid","roomChannel","channel","event","schema","table","subscribe","broadcastChannel","payload","startAuctionCountdown","art","duration","startUnifiedAuctionTimer","$nextTick","chatContainer","$refs","scrollTop","scrollHeight","e","unsubscribe","mod","roomService","getRoom","ai","bi","dbAuctions","existingIds","Set","row","setTimeout","handleGameEnd","ids","Boolean","profs","in","uid","owned","aids","setReady","myOld","setSeat","path","gameEnded","send","picks","candidate","collection_tags","base_value","playerData","formatTime","date","getHours","padStart","getMinutes","prof","response","fetch","json","currentCount","count","includes","current","autoStartAuction","onAuctionTimeUp","Promise","resolve","diff","toLocaleTimeString","hour","minute","goBack","onImageError","loadArtifact","uni","showToast","title","icon","request","getRequiredCount","requirements","navigateBack","categories","category","active","selectedCategory","selectCategory","filteredItems","getBuyButtonText","selectedItem","cancelBuy","confirmBuy","loadData","loadPlayerItems","buyConfirmPopup","open","close","showModal","res","confirm","completionRate","getProgressWidth","getCurrentCount","selectedArtifact","hideArtifactDetail","completedCount","loadPlayerArtifacts","allArtifacts","percentage","artifactDetailPopup","preventDefault","stopPropagation","account","password","isSubmitting","handleSignIn","handleSignUp","toggleRegister","errorMessage","AuthService","isEmail","test","auth","signUp","maybeSingle","signInWithPassword","signOut","getUser","profile","single","onAuthStateChange","callback","async","_event","session","baseUser","merged","_","authService","signUpAccount","signInAccount","roomIdInput","joinById","rooms","selectedRoomId","selectRoom","getStatusText","current_players","created_at","joinSelectedRoom","loadRooms","listRooms","joinRoom","input","statusMap","toLocaleDateString","currentRoom","maxPlayers","decreasePlayers","modifiers","_n","$forceUpdate","increasePlayers","isCreating","handleCreate","copyRoomId","inviteLink","copyInviteLink","copyAllInfo","loadCurrentRoom","createRoom","origin","successSection","document","querySelector","scrollIntoView","behavior","navigator","clipboard","writeText","showCopySuccess","text","toast","createElement","textContent","cssText","body","appendChild","removeChild","back","getUserAvatar","getUserName","logout","quickStart","scrollToGame","goRooms","hasRoom","canStart","loadRoom","goRoom","quickJoinRandomRoom","gameSection","split","changeAvatar","userProfile","defaultAvatar","handleAvatarError","isUploading","isEditing","formatDate","saveProfile","cancelEdit","toggleEdit","gameStats","totalGames","wins","totalArtifacts","totalEnergy","successMessage","originalProfile","loadUserData","loadUserProfile","loadGameStats","updateData","newUser","accept","display","onchange","file","files","size","startsWith","uploadAvatar","click","fileExt","pop","fileName","filePath","uploadError","storage","upload","cacheControl","getPublicUrl","publicUrl","src","dateString","year","month","day","VueRouter","routes","alias","Menu","CardDetail","Shop","Collection","Login","Rooms","CreateRoom","PlayerPage","GameIndex","Profile","redirect","router","base","publicPaths","beforeEach","to","CleanupService","cleanupInterval","isRunning","startCleanup","intervalMinutes","performCleanup","stopCleanup","cleanupEmptyRooms","config","productionTip","cleanupService","h","App","$mount","generateShortId","isShortIdExists","shortId","generateUniqueShortId","attempts","RoomService","ownerId","role","existingRooms","checkError","existingRoom","resetErr","currentPlayers","taken","seatIndex","upsertErr","onConflict","ignoreDuplicates","order","ascending","waiting","pick","newRoom","isReady","rerr","perr","perr2","roomErr","playersErr","deleteErr","remainingPlayers","remainingCount","deleteEmptyRoom","catch","newOwner","actingUserId","roomsErr"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,sGCvJT,W,2GCAA,W,oCCAA,W,2PCAA,W,kCCAA,W,oCCAA,mEAEA,IAAIyC,EAAiB,KAEd,SAASC,IACd,IAAKD,EAAgB,CACnB,MAAME,EAAMC,2CACNC,EAAUD,mNACXD,GAAQE,GACXC,QAAQC,KAAK,0EAEfN,EAAiBO,eAAaL,EAAKE,EAAS,CAAEI,SAAU,CAAEC,OAAQ,CAAEC,gBAAiB,OAEvF,OAAOV,I,kCCbT,W,kCCAA,W,6DCAA,W,2DCAIW,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,gBAAgB,IAEjHG,EAAkB,GCKP,GACf1C,KAAA,OCR6T,I,wBCQzT2C,EAAY,eACd,EACAP,EACAM,GACA,EACA,KACA,KACA,MAIa,EAAAC,E,oBChBf,MAAMC,EACJC,cACEP,KAAKQ,gBAAkB,GACvBR,KAAKS,eAAiB,GACtBT,KAAKU,iBAAmB,GAQ1BC,aAAaC,EAAUC,EAAYb,KAAKU,kBACtC,MAAMI,EAAU,CACdC,GAAI,GAAGC,KAAKC,SAASC,KAAKC,SAASC,SAAS,IAAIlC,MAAM,KACtD0B,SAAUA,EACVS,WAAY,EACZC,cAAe,KACfC,cAAeV,EACfA,UAAWA,EACXW,KAAM,GACNC,UAAWT,KAAKC,MAChBS,OAAQ,SACRC,OAAQ,MAKV,OAHA3B,KAAKQ,gBAAgBpE,KAAK0E,GAE1Bd,KAAK4B,eAAed,GACbA,EASTe,SAASC,EAAWC,EAAUC,EAAYC,GACxC,MAAMnB,EAAUd,KAAKkC,eAAeJ,GACpC,IAAKhB,GAA8B,WAAnBA,EAAQY,OACtB,MAAM,IAAIS,MAAM,aAElB,GAAIF,GAAanB,EAAQO,WACvB,MAAM,IAAIc,MAAM,eAElB,MAAMC,EAAM,CAAEL,WAAUC,aAAYK,OAAQJ,EAAWK,UAAWtB,KAAKC,OAIvE,OAHAH,EAAQU,KAAKpF,KAAKgG,GAClBtB,EAAQO,WAAaY,EACrBnB,EAAQQ,cAAgBS,EACjBK,EAMRG,WAAWT,GACV,MAAMhB,EAAUd,KAAKkC,eAAeJ,GACpC,IAAKhB,EAAS,OAAO,KACrBA,EAAQY,OAAS,QACjBZ,EAAQ0B,QAAUxB,KAAKC,MACnBH,EAAQa,SACVc,cAAc3B,EAAQa,QACtBb,EAAQa,OAAS,MAGnB3B,KAAKS,eAAerE,KAAK,IAAK0E,IAC9B,MAAMnE,EAAS,CACboE,GAAID,EAAQC,GACZ2B,OAAQ5B,EAAQQ,cAChBqB,WAAY7B,EAAQO,WACpBT,SAAUE,EAAQF,UAIpB,OADAZ,KAAKQ,gBAAkBR,KAAKQ,gBAAgBoC,OAAOC,GAAKA,EAAE9B,KAAOe,GAC1DnF,EAMTiF,eAAed,GACRA,IACLA,EAAQa,OAASmB,YAAY,KAC3B,IAAKhC,GAA8B,WAAnBA,EAAQY,OAGtB,OAFAe,cAAc3B,EAAQa,aACtBb,EAAQa,OAAS,MAGnBb,EAAQS,gBACJT,EAAQS,eAAiB,IAC3BkB,cAAc3B,EAAQa,QACtBb,EAAQa,OAAS,KACjB3B,KAAKuC,WAAWzB,EAAQC,MAEzB,MAMLgC,qBACE,OAAO/C,KAAKQ,gBAGd0B,eAAeJ,GACb,OAAO9B,KAAKQ,gBAAgBwC,KAAKH,GAAKA,EAAE9B,KAAOe,GAMjDmB,oBACE,OAAOjD,KAAKS,gBAID,UAAIH,E,YCrHnB,MAAM4C,EACJ,oBAAoBC,EAAQrC,GAC1B,MAAMsC,EAAWhE,4BACX,MAAEiE,SAAgBD,EACrBE,KAAK,YACLC,OAAO,CACNxC,GAAID,EAAQC,GACZyC,YAAa1C,EAAQF,SAASG,GAC9BH,SAAUE,EAAQF,SAClB6C,YAAa3C,EAAQO,WACrBqC,eAAgB5C,EAAQQ,cACxBqC,eAAgB7C,EAAQS,cACxBG,OAAQZ,EAAQY,SAEpB,GAAI2B,EAAO,MAAMA,EACjB,OAAOvC,EAGT,gBAAgBqC,EAAQrB,EAAWT,EAAYC,GAC7C,MAAM8B,EAAWhE,4BACX,MAAEiE,SAAgBD,EACrBE,KAAK,YACLM,OAAO,CAAEH,YAAapC,EAAYqC,eAAgBpC,IAClDuC,GAAG,KAAM/B,GACZ,GAAIuB,EAAO,MAAMA,EAGnB,iBAAiBF,EAAQrC,GACvB,MAAMsC,EAAWhE,4BAETiE,MAAOS,SAAeV,EAC3BE,KAAK,YACLM,OAAO,CAAElC,OAAQ,QAASiC,eAAgB,IAC1CE,GAAG,KAAM/C,EAAQC,IACpB,GAAI+C,EAAM,MAAMA,EAEhB,MAAQT,MAAOU,SAAeX,EAC3BE,KAAK,mBACLU,OAAO,CACNC,WAAYnD,EAAQC,GACpByC,YAAa1C,EAAQF,SAASG,GAC9BH,SAAUE,EAAQF,SAClB8B,OAAQ5B,EAAQQ,cAChB4C,YAAapD,EAAQO,aAEzB,GAAI0C,EAAM,MAAMA,EAEhB,GAAIjD,EAAQQ,cAAe,CACzB,MAAQ+B,MAAOc,SAAef,EAC3BE,KAAK,kBACLU,OAAO,CACNI,QAASjB,EACTkB,cAAevD,EAAQQ,cACvBkC,YAAa1C,EAAQF,SAASG,KAElC,GAAIoD,EAAM,MAAMA,EAKlB,MAAQd,MAAOiB,SAAelB,EAC3BE,KAAK,YACLiB,SACAV,GAAG,KAAM/C,EAAQC,IACpB,GAAIuD,EAAM,MAAMA,GAIL,UAAIpB,ECnEnB,MAAMsB,EACJjE,cACEP,KAAKyE,MAAQ,GACbzE,KAAK0E,YAAc,IAAIC,IACvB3E,KAAK4E,YAMP,kBACE,IACE,MAAM,YAAExF,SAAsB,4CACxBgE,EAAWhE,KACX,KAAE9D,EAAI,MAAE+H,SAAgBD,EAASE,KAAK,SAASuB,OAAO,KAC5D,GAAIxB,EAAO,MAAMA,EACjBrD,KAAKyE,MAAQK,MAAMC,QAAQzJ,GAAQA,EAAO,GAC1C,MAAO+H,GACP7D,QAAQ6D,MAAM,YAAaA,GAC3BrD,KAAKyE,MAAQ,IAOjBO,WACE,OAAOhF,KAAKyE,MAMdQ,YAAYC,GACV,OAAOlF,KAAKyE,MAAMzB,KAAKmC,GAAQA,EAAKpE,KAAOmE,GAS7CE,QAAQrD,EAAUmD,EAAQG,GACxB,MAAMF,EAAOnF,KAAKiF,YAAYC,GAC9B,IAAKC,EACH,MAAM,IAAIhD,MAAM,SAGlB,GAAIkD,EAAeF,EAAKG,MACtB,MAAM,IAAInD,MAAM,QAIlB,MAAMoD,EAAkBvF,KAAKwF,mBAAmBzD,GAChD,GAAIwD,GAAmB,EACrB,MAAM,IAAIpD,MAAM,SAIlB,MAAMsD,EAAgBzF,KAAK0F,yBAAyB3D,EAAUoD,EAAKQ,MACnE,GAAIF,GAAiB,EACnB,MAAM,IAAItD,MAAM,cAalB,OATKnC,KAAK0E,YAAYkB,IAAI7D,IACxB/B,KAAK0E,YAAYmB,IAAI9D,EAAU,IAGjC/B,KAAK0E,YAAY3G,IAAIgE,GAAU3F,KAAK,IAC/B+I,EACHW,aAAc9E,KAAKC,QAGd,CACL8E,SAAS,EACTZ,KAAMA,EACNa,gBAAiBX,EAAeF,EAAKG,OAUzCW,QAAQlE,EAAUmD,EAAQgB,EAAS,MACjC,MAAMC,EAAiBnG,KAAK0E,YAAY3G,IAAIgE,IAAa,GACnDqE,EAAaD,EAAenD,KAAKmC,GAAQA,EAAKpE,KAAOmE,GAE3D,IAAKkB,EACH,MAAM,IAAIjE,MAAM,SAIlB,IAAKnC,KAAKqG,kBAAkBD,EAAYF,GACtC,MAAM,IAAI/D,MAAM,eAIlB,MAAMxF,EAASqD,KAAKsG,kBAAkBF,EAAYF,GAG5CK,EAAQJ,EAAeK,UAAUrB,GAAQA,EAAKpE,KAAOmE,GAG3D,OAFAiB,EAAenJ,OAAOuJ,EAAO,GAEtB5J,EAMT0J,kBAAkBlB,EAAMe,GAEtB,OAAO,EAMTI,kBAAkBnB,EAAMe,GACtB,OAAQf,EAAKsB,QACX,IAAK,kBACH,OAAOzG,KAAK0G,sBAAsBvB,EAAMe,GAC1C,IAAK,iBACH,OAAOlG,KAAK2G,qBAAqBxB,EAAMe,GACzC,IAAK,cACH,OAAOlG,KAAK4G,kBAAkBzB,EAAMe,GACtC,IAAK,eACH,OAAOlG,KAAK6G,mBAAmB1B,EAAMe,GACvC,IAAK,iBACH,OAAOlG,KAAK8G,qBAAqB3B,EAAMe,GACzC,QACE,MAAM,IAAI/D,MAAM,YAOtBuE,sBAAsBvB,EAAMe,GAC1B,MAAO,CACLO,OAAQ,kBACRM,QAAS,mBACTb,OAAQA,GAOZS,qBAAqBxB,EAAMe,GACzB,MAAO,CACLO,OAAQ,iBACRM,QAAS,eACTb,OAAQA,GAOZU,kBAAkBzB,EAAMe,GACtB,MAAO,CACLO,OAAQ,cACRM,QAAS,iBACTb,OAAQA,EACRc,WAAY,IAOhBH,mBAAmB1B,EAAMe,GACvB,MAAO,CACLO,OAAQ,eACRM,QAAS,oBACTb,OAAQA,EACRe,YAAa,GAOjBH,qBAAqB3B,EAAMe,GACzB,MAAO,CACLO,OAAQ,iBACRM,QAAS,mBACTb,OAAQA,GAOZV,mBAAmBzD,GACjB,MAAMoE,EAAiBnG,KAAK0E,YAAY3G,IAAIgE,IAAa,GACzD,OAAOoE,EAAerK,OAMxB4J,yBAAyB3D,EAAU4D,GACjC,MAAMQ,EAAiBnG,KAAK0E,YAAY3G,IAAIgE,IAAa,GACzD,OAAOoE,EAAevD,OAAOuC,GAAQA,EAAKQ,OAASA,GAAM7J,OAM3DoL,eAAenF,GACb,OAAO/B,KAAK0E,YAAY3G,IAAIgE,IAAa,IAI9B,UAAIyC,EC5NnB,MAAM2C,EACJ5G,cACEP,KAAKoH,UAAY,CACfC,OAAQ,KACRC,MAAO,cACPC,QAAS,GACTC,eAAgB,KAChBC,KAAM,GACNC,UAAW,GACXC,QAAS,IAQbC,eAAeC,GAqBb,OApBA7H,KAAKoH,UAAUC,OAASrH,KAAK8H,iBAC7B9H,KAAKoH,UAAUE,MAAQ,cACvBtH,KAAKoH,UAAUG,QAAUM,EAAYE,IAAI,CAACrK,EAAM6I,KAAU,CACxDxF,GAAI,WAAUwF,EAAQ,GACtB7I,KAAMA,EACNsK,OAAQ,GACRC,UAAW,GACXxD,MAAO,GACPyD,YAAa,CACX,OAAQ,EACR,OAAQ,EACR,OAAQ,EACR,OAAQ,MAIZlI,KAAKoH,UAAUK,KAAOzH,KAAKmI,iBAC3BnI,KAAKoH,UAAUO,QAAU,GAEzB3H,KAAKoI,WAAW,sBACTpI,KAAKoH,UAMdU,iBACE,MAAO,QAAQ9G,KAAKC,SAASC,KAAKC,SAASC,SAAS,IAAIiH,OAAO,EAAG,KAMpE,uBACE,IACE,MAAM/M,EAAOgN,EAAQ,QACfL,EAAYnD,MAAMC,QAAQzJ,GAAQA,EAAQA,EAAKiN,SAAW,GAChE,OAAOvI,KAAKwI,aAAa,IAAIP,IAC7B,MAAO5E,GAEP,OADA7D,QAAQ6D,MAAM,YAAaA,GACpB,IAOXmF,aAAaC,GACX,MAAMC,EAAW,IAAID,GACrB,IAAK,IAAI7M,EAAI8M,EAAS5M,OAAS,EAAGF,EAAI,EAAGA,IAAK,CAC5C,MAAMkB,EAAIoE,KAAKyH,MAAMzH,KAAKC,UAAYvF,EAAI,KACzC8M,EAAS9M,GAAI8M,EAAS5L,IAAM,CAAC4L,EAAS5L,GAAI4L,EAAS9M,IAEtD,OAAO8M,EAMTE,oBAGE,OAFA5I,KAAKoH,UAAUE,MAAQ,UACvBtH,KAAKoI,WAAW,WACTpI,KAAKoH,UAMdyB,iBAGE,OAFA7I,KAAKoH,UAAUE,MAAQ,OACvBtH,KAAKoI,WAAW,sBACTpI,KAAKoH,UAMd0B,UAIE,OAHA9I,KAAKoH,UAAUE,MAAQ,aACvBtH,KAAK+I,uBACL/I,KAAKoI,WAAW,eACTpI,KAAKoH,UAMd2B,uBACE/I,KAAKoH,UAAUG,QAAQyB,QAAQC,IAC7B,IAAIC,EAAa,EAGjBnN,OAAOoN,KAAKF,EAAOf,aAAac,QAAQI,IACtC,MAAMC,EAAarJ,KAAKsJ,oBAAoBF,GACxCC,GAAcJ,EAAOf,YAAYkB,IAAmBC,EAAWE,gBACjEL,GAAcG,EAAWG,gBAK7BP,EAAOhB,UAAUe,QAAQS,IACvB,MAAM7I,EAAWZ,KAAK0J,gBAAgBD,GAClC7I,IACFsI,GAAchI,KAAKyH,MAAM/H,EAAS+I,UAAY,MAIlDV,EAAOW,WAAaV,IAItBlJ,KAAKoH,UAAUG,QAAQsC,KAAK,CAAChH,EAAGiH,IAAMA,EAAEF,WAAa/G,EAAE+G,YAMzD,0BAA0BR,GACxB,IACE,MAAM9N,EAAOgN,EAAQ,QACfyB,EAAOjF,MAAMC,QAAQzJ,GAAQA,EAAQA,EAAKiN,SAAW,GAC3D,OAAOwB,EAAK/G,KAAKqG,GAAcA,EAAW3L,OAAS0L,GACnD,MAAO/F,GAEP,OADA7D,QAAQ6D,MAAM,aAAcA,GACrB,MAOX,sBAAsBoG,GACpB,IACE,MAAMnO,EAAOgN,EAAQ,QACfyB,EAAOjF,MAAMC,QAAQzJ,GAAQA,EAAQA,EAAKiN,SAAW,GAC3D,OAAOwB,EAAK/G,KAAKpC,GAAYA,EAASG,KAAO0I,GAC7C,MAAOpG,GAEP,OADA7D,QAAQ6D,MAAM,YAAaA,GACpB,MAOX2G,yBAAyBjI,EAAUnB,GACjC,MAAMqI,EAASjJ,KAAKoH,UAAUG,QAAQvE,KAAKlE,GAAKA,EAAEiC,KAAOgB,GACpDkH,GAGLrI,EAASqJ,eAAejB,QAAQkB,IAC1BjB,EAAOf,YAAYjM,eAAeiO,IACpCjB,EAAOf,YAAYgC,OAQzB9B,WAAWrB,GACT/G,KAAKoH,UAAUO,QAAQvL,KAAK,CAC1BkG,UAAWtB,KAAKC,MAChB8F,QAASA,IAOboD,eACE,OAAOnK,KAAKoH,UAMdgD,UAAUrI,GACR,OAAO/B,KAAKoH,UAAUG,QAAQvE,KAAKlE,GAAKA,EAAEiC,KAAOgB,GAMnDsI,mBAAmBtI,EAAUuI,GAC3B,MAAMrB,EAASjJ,KAAKoK,UAAUrI,GAC1BkH,IACFA,EAAOjB,OAAS9G,KAAKqJ,IAAI,EAAGtB,EAAOjB,OAASsC,GAC5CtK,KAAKoI,WAAW,GAAGa,EAAOvL,eAAe4M,EAAe,EAAI,IAAM,KAAKA,MAO3EE,oBAAoBzI,EAAUnB,GAC5B,MAAMqI,EAASjJ,KAAKoK,UAAUrI,GAC1BkH,IACFA,EAAOhB,UAAU7L,KAAKwE,EAASG,IAC/Bf,KAAKgK,yBAAyBjI,EAAUnB,GACxCZ,KAAKoI,WAAW,GAAGa,EAAOvL,eAAekD,EAASlD,SAOtD+M,yBAAyB1I,EAAU0H,GACjC,MAAMR,EAASjJ,KAAKoK,UAAUrI,GAC9B,GAAIkH,EAAQ,CACV,MAAM1C,EAAQ0C,EAAOhB,UAAUyC,QAAQjB,GACnClD,GAAS,IACX0C,EAAOhB,UAAUjL,OAAOuJ,EAAO,GAC/BvG,KAAKoI,WAAca,EAAOvL,KAAV,aAMT,UAAIyJ,ECzOnBwD,OAAIC,IAAIC,QAER,MAAMC,EAAQ,IAAID,OAAKE,MAAM,CAC3BC,MAAO,CAELC,UAAW,cACX1D,QAAS,GACT/G,gBAAiB,GACjBmH,QAAS,GAGTuD,gBAAgB,EAChBC,aAAc,KACdC,UAAU,EAGVC,cAAe,KACfhG,aAAc,GACdiG,gBAAiB,GACjB5G,YAAa,GAGb6G,KAAM,KACNpI,OAAQ,MAGVqI,UAAW,CAETC,eAAeT,EAAO1D,GACpB0D,EAAMC,UAAY3D,GAGpBoE,YAAYV,EAAOzD,GACjByD,EAAMzD,QAAUA,GAGlBoE,qBAAqBX,EAAOY,GAC1BZ,EAAMxK,gBAAkBoL,GAE1BC,sBAAsBb,EAAOlK,GAC3B,MAAMgL,EAAMd,EAAMxK,gBAAgBgG,UAAU3D,GAAKA,EAAE9B,KAAOD,EAAQC,IAC9D+K,GAAO,EAAGnB,OAAI9E,IAAImF,EAAMxK,gBAAiBsL,EAAKhL,GAC7CkK,EAAMxK,gBAAgBpE,KAAK0E,IAElCiL,eAAef,EAAOlJ,GACpBkJ,EAAMxK,gBAAkBwK,EAAMxK,gBAAgBoC,OAAOC,GAAKA,EAAE9B,KAAOe,IAGrEkK,aAAahB,EAAOiB,GAClBjB,EAAMrD,QAAQvL,KAAK6P,IAIrBC,qBAAqBlB,EAAOmB,GAC1BnB,EAAME,eAAiBiB,GAGzBC,kBAAkBpB,EAAOqB,GACvBrB,EAAMG,aAAekB,GAGvBC,cAActB,EAAOmB,GACnBnB,EAAMI,SAAWe,GAInBI,mBAAmBvB,EAAO/B,GACxB+B,EAAMK,cAAgBpC,GAGxBuD,kBAAkBxB,EAAOhD,GACvBgD,EAAM3F,aAAe2C,GAGvByE,qBAAqBzB,EAAO/C,GAC1B+C,EAAMM,gBAAkBrD,GAG1ByE,iBAAiB1B,EAAOvG,GACtBuG,EAAMtG,YAAcD,GAGtBkI,SAAS3B,EAAOO,GACd,IAAKA,EAEH,YADAP,EAAMO,KAAO,MAGf,MAAMqB,EAAW5B,EAAMO,MAAQ,GACzBsB,EAAO,IAAKD,KAAarB,QAETuB,IAAlBvB,EAAKwB,UAA4C,OAAlBxB,EAAKwB,WACtCF,EAAKE,SAAWH,EAASG,eAEPD,IAAhBvB,EAAKyB,QAAwC,OAAhBzB,EAAKyB,SACpCH,EAAKG,OAASJ,EAASI,QAEzBhC,EAAMO,KAAOsB,GAGfI,YAAYjC,EAAO7H,GACjB6H,EAAM7H,OAASA,IAInB+J,QAAS,CAEP,sBAAqB,OAAEC,GAAUtF,GAC/B,MAAMT,EAAYgG,EAAiBxF,eAAeC,GAKlD,OAJAsF,EAAO,iBAAkB/F,EAAUE,OACnC6F,EAAO,cAAe/F,EAAUG,SAChC4F,EAAO,qBAAsB/F,EAAUG,QAAQ,IAC/C4F,EAAO,oBAAqB,IACrB/F,GAIT,oBAAmB,OAAE+F,EAAM,MAAEnC,GAASpK,GACpC,MAAME,EAAUuM,EAAe1M,aAAaC,GAK5C,OAJAuM,EAAO,wBAAyBrM,GAChCqM,EAAO,iBAAkB,WAErBnC,EAAM7H,cAAcmK,EAAeC,cAAcvC,EAAM7H,OAAQrC,GAC5DA,GAIT,gBAAe,OAAEqM,EAAM,MAAEnC,IAAS,UAAElJ,EAAS,SAAEC,EAAQ,WAAEC,EAAU,UAAEC,IACnE,IACE,MAAMG,EAAMiL,EAAexL,SAASC,EAAWC,EAAUC,EAAYC,GAC/DuL,EAAUH,EAAenL,eAAeJ,GAG9C,OAFAqL,EAAO,wBAAyBK,GAC5BxC,EAAM7H,cAAcmK,EAAeG,UAAUzC,EAAM7H,OAAQrB,EAAW0L,EAAQnM,WAAYmM,EAAQlM,eAC/Fc,EACP,MAAOiB,GACP,MAAMA,IAKV,kBAAiB,OAAE8J,EAAM,MAAEnC,GAASlJ,GAClC,MAAMnF,EAAS0Q,EAAe9K,WAAWT,GACzC,GAAInF,EAAQ,CACV,MAAM+Q,EAAe,CAAE3M,GAAIpE,EAAOoE,GAAIH,SAAUjE,EAAOiE,SAAUS,WAAY1E,EAAOgG,WAAYrB,cAAe3E,EAAO+F,OAAQhB,OAAQ,QAASH,cAAe,GAC1JyJ,EAAM7H,cAAcmK,EAAe/K,WAAWyI,EAAM7H,OAAQuK,GAEhE,MAAMhL,EAASsI,EAAMzD,QAAQvE,KAAKlE,GAAKA,EAAEiC,KAAOpE,EAAO+F,QAMvD,GALIA,IACFA,EAAOuF,UAAU7L,KAAKO,EAAOiE,SAASG,IACtCqM,EAAiBpD,yBAAyBrN,EAAO+F,OAAQ/F,EAAOiE,WAG9DoK,EAAMK,eAAiBL,EAAMK,cAActK,KAAOpE,EAAO+F,OAAQ,CACnE,MAAMiL,EAAgB7I,MAAMC,QAAQiG,EAAMK,cAAcpD,WAAa,IAAI+C,EAAMK,cAAcpD,UAAWtL,EAAOiE,SAASG,IAAM,CAACpE,EAAOiE,SAASG,IAC/IiK,EAAMK,cAAgB,IAAKL,EAAMK,cAAepD,UAAW0F,GAC3DR,EAAO,uBAAwBQ,GAC/BP,EAAiBpD,yBAAyBrN,EAAO+F,OAAQ/F,EAAOiE,UAGlEuM,EAAO,eAAgB,CAAE7K,UAAWtB,KAAKC,MAAO8F,QAAS,GAAGrE,EAASA,EAAOhF,KAAO,YAAYf,EAAOgG,oBAAoBhG,EAAOiE,SAASlD,SAC1IyP,EAAO,iBAAkBxQ,EAAOoE,IAChCoM,EAAO,iBAAkB,QAE3B,OAAOxQ,GAIT,eAAc,OAAEwQ,EAAM,MAAEnC,IAAS,SAAEjJ,EAAQ,OAAEmD,IAC3C,IACE,MAAMvI,EAASiR,EAAYxI,QAAQrD,EAAUmD,EAAQ8F,EAAM3F,cAE3D,OADA8H,EAAO,oBAAqBxQ,EAAOqJ,iBAC5BrJ,EACP,MAAO0G,GACP,MAAMA,IAKV,eAAc,OAAE8J,EAAM,MAAEnC,IAAS,SAAEjJ,EAAQ,OAAEmD,EAAM,OAAEgB,IACnD,IACE,MAAMvJ,EAASiR,EAAY3H,QAAQlE,EAAUmD,EAAQgB,GACrD,OAAOvJ,EACP,MAAO0G,GACP,MAAMA,IAKV6H,gBAAe,OAAEiC,GAAUd,GACzBc,EAAO,oBAAqBd,GAC5Bc,EAAO,wBAAwB,IAIjCU,gBAAe,OAAEV,IACfA,EAAO,wBAAwB,GAC/BA,EAAO,oBAAqB,OAI9B/B,UAAS,OAAE+B,IACTA,EAAO,iBAAiB,IAI1BW,UAAS,OAAEX,IACTA,EAAO,iBAAiB,IAI1BY,iBAAgB,OAAEZ,GAAUa,GACtBA,EAAS1G,OAAO6F,EAAO,iBAAkBa,EAAS1G,OAClD0G,EAASzG,SAAS4F,EAAO,cAAea,EAASzG,SACjDyG,EAASxN,iBAAiB2M,EAAO,uBAAwBa,EAASxN,mBAI1EyN,QAAS,CAEPC,aAAclD,GAA6B,eAApBA,EAAMC,UAC7BkD,eAAgBnD,GAA6B,YAApBA,EAAMC,UAC/BmD,YAAapD,GAA6B,SAApBA,EAAMC,UAG5BoD,oBAAqBrD,IACXA,EAAMxK,iBAAmB,IAAIuH,IAAIlF,IAAK,CAC5C9B,GAAI8B,EAAE9B,GACNH,SAAUiC,EAAEjC,SACZS,WAAYwB,EAAExB,WACdE,cAAesB,EAAEtB,cACjB+M,SAAUzL,EAAErB,KAAK1F,UAKrByS,kBAAmBvD,GACZA,EAAMK,cACJ,CACLtK,GAAIiK,EAAMK,cAActK,GACxBrD,KAAMsN,EAAMK,cAAc3N,KAC1BsK,OAAQgD,EAAM3F,aACd4C,UAAW+C,EAAMM,gBACjB7G,MAAOuG,EAAMtG,aANkB,KAWnC8J,cAAexD,GAASA,EAAMrD,QAAQzI,OAAO,OAIlC4L,Q,YCjQXhL,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,iBAAiBC,MAAM,CAAE,aAAgC,gBAAlB3O,EAAIkL,YAA+B,CAAChL,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI4O,GAAG,GAAI5O,EAAIwL,KAAMtL,EAAG,MAAM,CAACwO,YAAY,SAAS,CAACxO,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIwL,KAAKuD,UAAU7O,EAAG,SAAS,CAACwO,YAAY,aAAaM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIkP,QAAQ7S,KAAK,eAAe,CAAC2D,EAAI6O,GAAG,YAAY3O,EAAG,MAAM,CAACwO,YAAY,SAAS,CAACxO,EAAG,SAAS,CAACwO,YAAY,qBAAqBM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIkP,QAAQ7S,KAAK,aAAa,CAAC2D,EAAI6O,GAAG,iBAAiB3O,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,OAAO,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAImP,KAAQnP,EAAImP,KAAKxR,MAAQ,QAAW,YAAYuC,EAAG,OAAO,CAACwO,YAAY,WAAW,CAAC1O,EAAI6O,GAAG,OAAO7O,EAAI8O,GAAG9O,EAAImP,KAAQnP,EAAImP,KAAKC,UAAYpP,EAAImP,KAAKnO,GAAM,QAAShB,EAAImP,KAAMjP,EAAG,OAAO,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG,MAAM7O,EAAI8O,GAAG9O,EAAIqP,aAAa,IAAIrP,EAAI8O,GAAG9O,EAAIsP,WAAW,SAAStP,EAAI8O,GAAG9O,EAAIuP,cAAcvP,EAAIwP,OAAOtP,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIyP,kBAAmBzP,EAAIsL,cAAepL,EAAG,MAAM,CAACwO,YAAY,qBAAqB,CAACxO,EAAG,OAAO,CAACwO,YAAY,QAAQ,CAAC1O,EAAI6O,GAAG,OAAO3O,EAAG,OAAO,CAACwO,YAAY,SAAS,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,OAAO,CAACwO,YAAY,SAAS,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI0P,OAAOzE,MAAM3F,mBAAmBtF,EAAIwP,KAAKtP,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAAoB,gBAAlB1O,EAAIkL,UAA6BhL,EAAG,SAAS,CAACwO,YAAY,iBAAiBM,GAAG,CAAC,MAAQhP,EAAI2P,cAAc,CAAC3P,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI4P,iBAAmB,OAAS,SAAS5P,EAAIwP,KAAwB,gBAAlBxP,EAAIkL,WAA+BlL,EAAI6P,SAAW7P,EAAI8P,SAAU5P,EAAG,SAAS,CAACwO,YAAY,iBAAiBM,GAAG,CAAC,MAAQhP,EAAI+P,YAAY,CAAC/P,EAAI6O,GAAG,UAAU7O,EAAIwP,KAAwGxP,EAAIwP,KAAwB,SAAlBxP,EAAIkL,UAAsBhL,EAAG,SAAS,CAACwO,YAAY,iBAAiBM,GAAG,CAAC,MAAQhP,EAAIgQ,WAAW,CAAChQ,EAAI6O,GAAG,UAAU7O,EAAIwP,KAAKtP,EAAG,SAAS,CAACwO,YAAY,wBAAwBM,GAAG,CAAC,MAAQhP,EAAIiQ,YAAY,CAACjQ,EAAI6O,GAAG,cAAe7O,EAAIqP,YAAc,GAAuB,gBAAlBrP,EAAIkL,UAA6BhL,EAAG,MAAM,CAACwO,YAAY,mBAAmB1O,EAAIkQ,GAAKlQ,EAAImP,KAAOnP,EAAImP,KAAKgB,aAAe,IAAK,SAASpR,GAAG,OAAOmB,EAAG,MAAM,CAACxB,IAAIK,EAAEqR,QAAQ1B,YAAY,cAAcM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIqQ,eAAetR,MAAM,CAACmB,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgBtO,MAAM,CAAC,IAAMJ,EAAIsQ,aAAavR,EAAEqR,YAAYlQ,EAAG,OAAO,CAACwO,YAAY,kBAAkBC,MAAM,CAAEK,KAAMjQ,EAAEwR,cAAerQ,EAAG,MAAM,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIwQ,WAAWzR,EAAEqR,kBAAiB,GAAGpQ,EAAIwP,KAAKtP,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAAoB,YAAlB1O,EAAIkL,WAA2BlL,EAAI0P,OAAOzE,MAAMxK,iBAAmBT,EAAI0P,OAAOzE,MAAMxK,gBAAgB1E,OAAQmE,EAAG,gBAAgB,CAACE,MAAM,CAAC,SAAWJ,EAAI0P,OAAOzE,MAAMxK,gBAAgB,UAAYT,EAAIyQ,kBAAkBzB,GAAG,CAAC,iBAAiBhP,EAAI0Q,iCAAkC1Q,EAAI2Q,cAAgB,EAAGzQ,EAAG,MAAM,CAACwO,YAAY,mBAAmB,CAACxO,EAAG,MAAM,CAACwO,YAAY,qBAAqB,CAACxO,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAAC1O,EAAI6O,GAAG,OAAO3O,EAAG,KAAK,CAACwO,YAAY,mBAAmB,CAAC1O,EAAI6O,GAAG,YAAY3O,EAAG,MAAM,CAACwO,YAAY,mBAAmB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI2Q,kBAAkBzQ,EAAG,IAAI,CAACwO,YAAY,sBAAsB,CAAC1O,EAAI6O,GAAG,iBAAiB3O,EAAG,MAAM,CAACwO,YAAY,qBAAqB,CAAC1O,EAAI6O,GAAG,qBAAqB,GAAI7O,EAAIsP,UAAY,GAAuB,gBAAlBtP,EAAIkL,UAA6BhL,EAAG,MAAM,CAACwO,YAAY,QAAQkC,MAAO,CAAEC,oBAAqB,UAAY7Q,EAAIsP,UAAY,WAAatP,EAAIkQ,GAAIlQ,EAAI8Q,OAAO,SAASC,EAAKhF,GAAK,OAAO7L,EAAG,MAAM,CAACxB,IAAIqN,EAAI2C,YAAY,OAAOC,MAAM,CAAEqC,WAAYD,EAAK7H,QAAS8F,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIiR,WAAWlF,MAAQ,CAAC7L,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG/C,EAAM,GAAG,IAAI/L,EAAI8O,GAAG9O,EAAIsP,cAAcpP,EAAG,MAAM,CAACwO,YAAY,aAAa,CAAEqC,EAAK7H,OAAQhJ,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAActO,MAAM,CAAC,IAAMJ,EAAIsQ,aAAaS,EAAK7H,OAAOkH,YAAaW,EAAK7H,OAAOqH,SAAUrQ,EAAG,OAAO,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG,OAAO7O,EAAIwP,OAAOtP,EAAG,MAAM,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIwQ,WAAWO,EAAK7H,OAAOkH,eAAelQ,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,eAAc,GAAG7O,EAAIwP,KAAwB,gBAAlBxP,EAAIkL,UAA6BhL,EAAG,MAAM,CAACwO,YAAY,WAAW,CAACxO,EAAG,KAAK,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,MAAM,CAACwO,YAAY,aAAa1O,EAAIkQ,GAAKlQ,EAAIsL,cAAgBtL,EAAIsL,cAAcpD,UAAY,IAAK,SAASgJ,GAAK,OAAOhR,EAAG,MAAM,CAACxB,IAAIwS,EAAIxC,YAAY,YAAYM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAImR,mBAAmBD,MAAQ,CAAChR,EAAG,MAAM,CAACwO,YAAY,aAAatO,MAAM,CAAC,IAAMJ,EAAIoR,YAAYF,GAAOlR,EAAIoR,YAAYF,GAAKG,MAAQ,mDAAmDnR,EAAG,MAAM,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIoR,YAAYF,GAAOlR,EAAIoR,YAAYF,GAAKvT,KAAOuT,WAAY,KAAKlR,EAAIwP,KAAwB,gBAAlBxP,EAAIkL,UAA6BhL,EAAG,MAAM,CAACwO,YAAY,qBAAqB,CAACxO,EAAG,MAAM,CAACwO,YAAY,uBAAuB,CAACxO,EAAG,KAAK,CAACwO,YAAY,qBAAqB,CAAC1O,EAAI6O,GAAG,WAAW3O,EAAG,MAAM,CAACwO,YAAY,oBAAoB1O,EAAIkQ,GAAIlQ,EAAImI,aAAa,SAASmB,GAAY,OAAOpJ,EAAG,MAAM,CAACxB,IAAI4K,EAAWtI,GAAG0N,YAAY,2BAA2BC,MAAM,CAAE2C,UAAWtR,EAAIuR,sBAAsBjI,KAAe,CAACpJ,EAAG,MAAM,CAACwO,YAAY,qBAAqB,CAACxO,EAAG,MAAM,CAACwO,YAAY,mBAAmB,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,MAAM,CAACwO,YAAY,mBAAmB,CAACxO,EAAG,MAAM,CAACwO,YAAY,mBAAmB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAGxF,EAAW3L,SAASuC,EAAG,MAAM,CAACwO,YAAY,0BAA0B,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAGxF,EAAWkI,kBAAmBxR,EAAIuR,sBAAsBjI,GAAapJ,EAAG,MAAM,CAACwO,YAAY,qBAAqB,CAACxO,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,SAAS7O,EAAIwP,OAAOtP,EAAG,MAAM,CAACwO,YAAY,sBAAsB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgBkC,MAAO,CAAEa,MAAOzR,EAAI0R,sBAAsBpI,GAAc,SAAWpJ,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,IAAI7O,EAAI8O,GAAG9O,EAAI2R,0BAA0BrI,IAAa,IAAItJ,EAAI8O,GAAGxF,EAAWE,eAAe,cAAa,OAAOxJ,EAAIwP,KAAwB,gBAAlBxP,EAAIkL,UAA6BhL,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI4O,GAAG,GAAG1O,EAAG,MAAM,CAAC0R,IAAI,gBAAgBlD,YAAY,iBAAiB1O,EAAIkQ,GAAIlQ,EAAI6R,cAAc,SAAS7K,GAAS,OAAO9G,EAAG,MAAM,CAACxB,IAAIsI,EAAQhG,GAAG0N,YAAY,eAAeC,MAAM,CAAE,cAAe3H,EAAQ8K,UAAY9R,EAAIwL,MAAQxL,EAAIwL,KAAKxK,MAAO,CAACd,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,OAAO,CAACwO,YAAY,oBAAoB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9H,EAAQgG,aAAa9M,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI+R,kBAAkB/K,EAAQzE,iBAAiBrC,EAAG,MAAM,CAACwO,YAAY,mBAAmB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9H,EAAQgL,iBAAgB,GAAG9R,EAAG,MAAM,CAACwO,YAAY,cAAc,CAACxO,EAAG,QAAQ,CAAC+R,WAAW,CAAC,CAACtU,KAAK,QAAQuU,QAAQ,UAAU9T,MAAO4B,EAAImS,WAAYC,WAAW,eAAe1D,YAAY,gBAAgBtO,MAAM,CAAC,YAAc,WAAWiS,SAAS,CAAC,MAASrS,EAAImS,YAAanD,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOrJ,KAAK+E,QAAQ,QAAQ3K,EAAIsS,GAAGrD,EAAOsD,QAAQ,QAAQ,GAAGtD,EAAOvQ,IAAI,SAAgB,KAAYsB,EAAIwS,YAAY9V,MAAM,KAAM+V,YAAY,MAAQ,SAASxD,GAAWA,EAAO9I,OAAOuM,YAAiB1S,EAAImS,WAAWlD,EAAO9I,OAAO/H,WAAU8B,EAAG,SAAS,CAACwO,YAAY,cAActO,MAAM,CAAC,UAAYJ,EAAImS,WAAWQ,QAAQ3D,GAAG,CAAC,MAAQhP,EAAIwS,cAAc,CAACtS,EAAG,OAAO,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG,cAAc7O,EAAIwP,KAAMxP,EAAImL,eAAgBjL,EAAG,MAAM,CAACwO,YAAY,qBAAqB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgBM,GAAG,CAAC,MAAQhP,EAAI8N,kBAAmB9N,EAAIoL,aAAclL,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,MAAM,CAACwO,YAAY,eAAetO,MAAM,CAAC,IAAMJ,EAAIoL,aAAaiG,MAAM,IAAM,UAAUnR,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,KAAK,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIoL,aAAazN,SAASuC,EAAG,IAAI,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIoL,aAAawH,KAAK,MAAM5S,EAAI8O,GAAG9O,EAAIoL,aAAayH,aAAa3S,EAAG,IAAI,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIoL,aAAa0H,UAAU5S,EAAG,MAAM,CAACwO,YAAY,eAAe1O,EAAIkQ,GAAIlQ,EAAIoL,aAAalB,gBAAgB,SAASC,GAAK,OAAOjK,EAAG,OAAO,CAACxB,IAAIyL,EAAIuE,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,IAAI7O,EAAI8O,GAAG3E,GAAK,UAAS,GAAGjK,EAAG,IAAI,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,SAAS7O,EAAI8O,GAAG9O,EAAIoL,aAAaxB,gBAAgB1J,EAAG,SAAS,CAACwO,YAAY,eAAeM,GAAG,CAAC,MAAQhP,EAAI8N,iBAAiB,CAAC9N,EAAI6O,GAAG,UAAU7O,EAAIwP,OAAOxP,EAAIwP,KAAMxP,EAAIqL,SAAUnL,EAAG,MAAM,CAACwO,YAAY,cAAc,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgBM,GAAG,CAAC,MAAQhP,EAAI+S,aAAa7S,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,aAAaA,EAAG,SAAS,CAACwO,YAAY,eAAeM,GAAG,CAAC,MAAQhP,EAAI+S,YAAY,CAAC/S,EAAI6O,GAAG,WAAW,KAAK7O,EAAIwP,KAAMxP,EAAIgT,cAAe9S,EAAG,MAAM,CAACwO,YAAY,cAAc,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgBM,GAAG,CAAC,MAAQhP,EAAIiT,YAAY/S,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,KAAK,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIkT,WAAalT,EAAIkT,WAAWvV,KAAO,OAAS,SAASuC,EAAG,MAAM,CAACwO,YAAY,aAAa1O,EAAIkQ,GAAKlQ,EAAIkT,WAAalT,EAAIkT,WAAWhL,UAAY,IAAK,SAASgJ,GAAK,OAAOhR,EAAG,MAAM,CAACxB,IAAIwS,EAAIxC,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,aAAatO,MAAM,CAAC,IAAMJ,EAAIoR,YAAYF,GAAOlR,EAAIoR,YAAYF,GAAKG,MAAQ,mDAAmDnR,EAAG,MAAM,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIoR,YAAYF,GAAOlR,EAAIoR,YAAYF,GAAKvT,KAAOuT,WAAY,GAAGhR,EAAG,SAAS,CAACwO,YAAY,eAAeM,GAAG,CAAC,MAAQhP,EAAIiT,WAAW,CAACjT,EAAI6O,GAAG,YAAY7O,EAAIwP,KAAMxP,EAAImT,kBAAmBjT,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgBM,GAAG,CAAC,MAAQhP,EAAIoT,sBAAsBlT,EAAG,MAAM,CAACwO,YAAY,kCAAkC,CAAC1O,EAAI4O,GAAG,GAAG1O,EAAG,MAAM,CAACwO,YAAY,oBAAoB,CAACxO,EAAG,SAAS,CAACwO,YAAY,wBAAwBM,GAAG,CAAC,MAAQhP,EAAIqT,aAAa,CAACnT,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI6O,GAAG,YAAY3O,EAAG,SAAS,CAACwO,YAAY,0BAA0BM,GAAG,CAAC,MAAQhP,EAAIsT,YAAY,CAACpT,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI6O,GAAG,oBAAoB7O,EAAIwP,QAEv1TnP,EAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,QAAQ,CAACxO,EAAG,OAAO,CAACwO,YAAY,SAAS,CAAC1O,EAAI6O,GAAG,gBAC5I,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,KAAK,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,OAAO,CAACwO,YAAY,eAAexO,EAAG,OAAO,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG,aACrQ,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,mBAAmB,CAACxO,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,KAAK,CAACwO,YAAY,kBAAkB,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,IAAI,CAACwO,YAAY,qBAAqB,CAAC1O,EAAI6O,GAAG,sBCJzP9O,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAAC1O,EAAI4O,GAAG,GAAI5O,EAAIuT,aAAaxX,OAAS,EAAGmE,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAAC1O,EAAI6O,GAAG,OAAO3O,EAAG,OAAO,CAACwO,YAAY,kBAAkB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIwT,WAAW,SAASxT,EAAIwP,OAAQxP,EAAIuT,aAAaxX,OAAS,EAAGmE,EAAG,MAAM,CAACwO,YAAY,mBAAmB,CAA4D1O,EAAIwP,KAAMxP,EAAIuT,aAAaxX,OAAS,EAAGmE,EAAG,MAAM,CAACwO,YAAY,gBAAgB1O,EAAIkQ,GAAIlQ,EAAIuT,cAAc,SAASzQ,EAAEiJ,GAAK,OAAO7L,EAAG,MAAM,CAACxB,IAAIoE,EAAE9B,GAAG0N,YAAY,gBAAgB,CAACxO,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,MAAM,CAACwO,YAAY,4BAA4B,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgBtO,MAAM,CAAC,IAAM0C,EAAEjC,SAASwQ,MAAM,IAAM,OAAOrC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIyT,MAAM,iBAAkB3Q,EAAEjC,gBAAgBX,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,KAAK,CAACwO,YAAY,gBAAgBtO,MAAM,CAAC,MAAQ0C,EAAEjC,SAASlD,OAAO,CAACqC,EAAI6O,GAAG7O,EAAI8O,GAAGhM,EAAEjC,SAASlD,SAASuC,EAAG,IAAI,CAACwO,YAAY,eAAetO,MAAM,CAAC,MAAQ0C,EAAEjC,SAAS+R,MAAM,CAAC5S,EAAI6O,GAAG7O,EAAI8O,GAAGhM,EAAEjC,SAAS+R,QAAQ1S,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAAC1O,EAAIkQ,IAAKpN,EAAEjC,SAASqJ,gBAAkB,IAAI/K,MAAM,EAAG,IAAI,SAASgL,GAAK,OAAOjK,EAAG,OAAO,CAACxB,IAAIyL,EAAIuE,YAAY,eAAetO,MAAM,CAAC,MAAQ+J,IAAM,CAACnK,EAAI6O,GAAG7O,EAAI8O,GAAG3E,UAAYrH,EAAEjC,SAASqJ,gBAAkB,IAAInO,OAAS,EAAGmE,EAAG,OAAO,CAACwO,YAAY,yBAAyB,CAAC1O,EAAI6O,GAAG,IAAI7O,EAAI8O,IAAIhM,EAAEjC,SAASqJ,gBAAkB,IAAInO,OAAS,MAAMiE,EAAIwP,MAAM,OAAOtP,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAGhM,EAAExB,eAAepB,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,QAAS/L,EAAEvB,cAAerB,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgBtO,MAAM,CAAC,IAAMJ,EAAI0T,gBAAgB5Q,EAAEvB,eAAe,IAAMvB,EAAI2T,cAAc7Q,EAAEvB,kBAAkBrB,EAAG,OAAO,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI2T,cAAc7Q,EAAEvB,qBAAqBvB,EAAIwP,OAAQxP,EAAIuT,aAAaxX,OAAS,EAAGmE,EAAG,MAAM,CAACwO,YAAY,sBAAsB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgBkC,MAAO,CAAEa,MAAOzR,EAAI4T,4BAA8B,SAAW5T,EAAIwP,KAAKtP,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,mBAAmB,CAACxO,EAAG,QAAQ,CAAC+R,WAAW,CAAC,CAACtU,KAAK,QAAQuU,QAAQ,UAAU9T,MAAO4B,EAAI6T,WAAW/Q,EAAE9B,IAAKoR,WAAW,qBAAqB1D,YAAY,YAAYtO,MAAM,CAAC,KAAO,OAAO,UAAY,UAAU,QAAU,UAAUiS,SAAS,CAAC,MAASrS,EAAI6T,WAAW/Q,EAAE9B,KAAMgO,GAAG,CAAC,MAAQ,CAAC,SAASC,GAAWA,EAAO9I,OAAOuM,WAAiB1S,EAAI8T,KAAK9T,EAAI6T,WAAY/Q,EAAE9B,GAAIiO,EAAO9I,OAAO/H,QAAQ,SAAS6Q,GAAQ,OAAOjP,EAAI+T,WAAWjR,EAAE9B,MAAM,QAAU,SAASiO,GAAQ,OAAIA,EAAOrJ,KAAK+E,QAAQ,QAAQ3K,EAAIsS,GAAGrD,EAAOsD,QAAQ,QAAQ,GAAGtD,EAAOvQ,IAAI,SAAgB,KAAYsB,EAAI8B,SAASgB,OAAO5C,EAAG,OAAO,CAACwO,YAAY,kBAAkB,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,SAAS,CAACwO,YAAY,aAAatO,MAAM,CAAC,WAAa4T,SAAShU,EAAI6T,WAAW/Q,EAAE9B,KAAK,GAAK8B,EAAExB,YAAc0S,SAAShU,EAAI6T,WAAW/Q,EAAE9B,KAAK,KAAOhB,EAAIwO,kBAAoBxO,EAAIwO,kBAAkBvG,OAAS,IAAmB,WAAbnF,EAAEnB,SAAsBqN,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAI8B,SAASgB,MAAM,CAAC5C,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI6O,GAAG,iBAAgB,GAAG7O,EAAIwP,OAAOtP,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI4O,GAAG,QAEhvGvO,EAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,yBAAyB,CAACxO,EAAG,KAAK,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,cAAc3O,EAAG,IAAI,CAACwO,YAAY,oBAAoB,CAAC1O,EAAI6O,GAAG,sBACjO,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,MAAM,CAACwO,YAAY,4BAA4B,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgBtO,MAAM,CAAC,IAAM,8CAA8C,IAAM,SAASF,EAAG,MAAM,CAACwO,YAAY,oBAAoBxO,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,KAAK,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,IAAI,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,eAC9gB,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,sBAAsB,CAACxO,EAAG,MAAM,CAACwO,YAAY,mBAAmB,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,IAAI,CAACwO,YAAY,mBAAmB,CAAC1O,EAAI6O,GAAG,eAAe3O,EAAG,IAAI,CAACwO,YAAY,uBAAuB,CAAC1O,EAAI6O,GAAG,sBCuG1P,GACflR,KAAA,eACAsW,MAAA,CACAxM,eAAA,CACA7B,KAAA5J,OACAwM,QAAA,MAEAqD,SAAA,CACAjG,KAAAb,MACAyD,YAAA,IAEAgL,UAAA,CACA5N,KAAAsO,OACA1L,QAAA,IAGAjN,OACA,OACAsY,WAAA,KAGAM,SAAA,IACAC,eAAA,gBACAC,eAAA,uBACAd,eACA,YAAA1H,UAAA,KAAAA,SAAA9P,OAAA,KAAA8P,SACA,KAAApE,eAAA,MAAAA,gBAAA,IAGA6M,UAAA,cAEAC,MAAA,CACAf,UAAAgB,MAIAC,QAAA,CACAC,OAAA5R,GACA,MAAAR,EAAA0R,SAAA,KAAAH,WAAA/Q,EAAA9B,KAAA,GACA,OAAA8B,GAAA,WAAAA,EAAAnB,QAAA,KAAA6M,mBAAA,KAAAA,kBAAAvG,QAAA3F,GAEAsR,4BAEA,MAAAe,EAAA,GACAC,EAAAV,OAAA,KAAAV,YAAA,EACA,GAAAmB,GAAA,WACA,MAAAE,GAAAF,EAAAC,GAAAD,EAAA,IACA,OAAAxT,KAAAqJ,IAAA,EAAArJ,KAAA2T,IAAA,IAAA3T,KAAA4T,MAAAF,MAEAd,WAAAhS,GAEA,MAAAiT,EAAAC,OAAA,KAAApB,WAAA9R,IAAA,IACAmT,EAAAF,EAAAG,QAAA,aACA,KAAArB,KAAA,KAAAD,WAAA9R,EAAAmT,IAEA,eAAApS,GACA,MAAAR,EAAA0R,SAAA,KAAAH,WAAA/Q,EAAA9B,KAAA,GACA,IAAAkT,OAAAkB,SAAA9S,OAAA,EAAA+S,MAAA,iBACA,GAAA/S,GAAA,KAAAkM,kBAAA,KAAAA,kBAAAvG,OAAA,GAAAoN,MAAA,aACA,GAAA/S,GAAAQ,EAAAxB,WAAA+T,MAAA,oBACA,GAAAvS,GAAA,WAAAA,EAAAnB,OACA,UACA,KAAA+N,OAAA4F,SAAA,YACAvT,UAAAe,EAAA9B,GACAgB,SAAA,KAAAwM,kBAAAxN,GACAiB,WAAA,KAAAuM,kBAAA7Q,KACAuE,UAAAI,IAEA,KAAAoN,OAAAtC,OAAA,yBAAAoB,kBAAAvG,OAAA3F,GACA,KAAAwR,KAAA,KAAAD,WAAA/Q,EAAA9B,GAAA,IACAqU,MAAA,QACA,MAAA/R,GACA+R,MAAA/R,EAAA0D,SAAA,aAZAqO,MAAA,aAgBA1B,cAAA3R,GACA,MAAAkH,EAAA,KAAA1B,QAAAvE,KAAAlE,KAAAiC,KAAAgB,GACA,OAAAkH,IAAAvL,KAAA,QAGA+V,gBAAA1R,GAEA,QAAAuT,SAAA,KAAAA,QAAAjF,aACA,YAAAiF,QAAAjF,aAAAtO,GAGA,MAAAwT,GAAAxT,GAAA,KAAA7C,MAAA,KAAAsW,cACAC,EAAA,SACAC,EAAA,SACAC,EAAAC,mBAAA,0GAAAH,mGAAAC,sCAAAH,kBACA,0CAAAI,KCtMqW,ICQjW,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX7V,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,gBAAgBM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIkP,QAAQ7S,KAAK,WAAW2D,EAAIkJ,OAAOlI,OAAS,CAACd,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,SAAStO,MAAM,CAAC,IAAM,2CAA2C,IAAM,YAAYF,EAAG,OAAO,CAACwO,YAAY,UAAU,CAAC1O,EAAI6O,GAAG,KAAK7O,EAAI8O,GAAG9O,EAAIkJ,OAAOjB,aAAa/H,EAAG,MAAM,CAACwO,YAAY,QAAQ,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIkJ,OAAOvL,YAE9c0C,EAAkB,GCSP,GACf1C,KAAA,eACAsW,MAAA,CACA/K,OAAA,CAAAtD,KAAA5J,OAAA8Z,UAAA,KCdqW,ICQjW,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX/V,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,KAAK,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,WAAW3O,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIsF,qBAAqBpF,EAAG,MAAM,CAACwO,YAAY,gBAAgB1O,EAAIkQ,GAAIlQ,EAAI0E,OAAO,SAASU,GAAM,OAAOlF,EAAG,MAAM,CAACxB,IAAI0G,EAAKpE,GAAG0N,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,KAAK,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG1J,EAAKzH,SAASuC,EAAG,IAAI,CAACwO,YAAY,oBAAoB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG1J,EAAKoM,gBAAgBtR,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG1J,EAAKG,OAAO,SAASrF,EAAG,OAAO,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG1J,EAAKQ,aAAa1F,EAAG,SAAS,CAACwO,YAAY,aAAatO,MAAM,CAAC,UAAYJ,EAAI+V,WAAW3Q,IAAO4J,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIqF,QAAQD,MAAS,CAACpF,EAAI6O,GAAG,eAAc,MAEhiCxO,EAAkB,GCsCP,GACf1C,KAAA,WACApC,OACA,OACAmJ,MAAA,CACA,CACA1D,GAAA,WACArD,KAAA,OACA4H,MAAA,GACAiM,YAAA,kBACA5L,KAAA,MAEA,CACA5E,GAAA,WACArD,KAAA,OACA4H,MAAA,GACAiM,YAAA,YACA5L,KAAA,MAEA,CACA5E,GAAA,WACArD,KAAA,OACA4H,MAAA,GACAiM,YAAA,cACA5L,KAAA,SAKAuO,SAAA,IACAC,eAAA,mCAEAK,QAAA,CACAsB,WAAA3Q,GACA,YAAAE,cAAAF,EAAAG,OAGA,cAAAH,GACA,QAAA2Q,WAAA3Q,GAKA,IACA,MAAAxI,QAAA,KAAA8S,OAAA4F,SAAA,WACAtT,SAAA,KAAAsJ,cAAAtK,GACAmE,OAAAC,EAAApE,KAGA,KAAA0O,OAAAtC,OAAA,oBAAAxQ,EAAAqJ,iBAEAoP,MAAA,QACA,MAAA/R,GACA+R,MAAA/R,EAAA0D,SAAA,aAdAqO,MAAA,WC/EiW,ICQ7V,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QC6OA,GACf1X,KAAA,YACAqY,WAAA,CACAC,eACAC,eACAC,YAEA5a,OACA,OACA6P,aAAA,KACA4H,eAAA,EACAE,WAAA,KACA9B,YAAA,GACAjC,KAAA,KACAiH,WAAA,GACAC,aAAA,KACAlO,YAAA,GACAgL,mBAAA,EACAxC,cAAA,EACAF,iBAAA,EACA6F,aAAA,KACA7O,eAAA,KACAoK,aAAA,GACAM,WAAA,GACAoE,YAAA,OAGApC,SAAA,IACAC,eAAA,qEAEA9I,gBAAA,YAAAoE,OAAAzE,MAAAK,eACAuE,UAAA,YAAAV,MAAA,KAAA3D,MAAA,KAAA2D,KAAAqH,WAAA,KAAAhL,KAAAxK,IACA8O,WACA,MAAAtI,EAAA,KAAA2H,MAAA,KAAAA,KAAAgB,aAAA,KAAAhB,KAAAgB,aAAA,GACA,OAAA3I,EAAAzL,OAAA,GAAAyL,EAAAiP,MAAA1X,OAAAwR,WAEAX,mBACA,MAAApE,EAAA,KAAAA,KACAhE,EAAA,KAAA2H,MAAA,KAAAA,KAAAgB,aAAA,KAAAhB,KAAAgB,aAAA,GACA,IAAA3E,EAAA,SACA,MAAAkL,EAAAlP,EAAAvE,KAAAlE,KAAAqR,UAAA5E,EAAAxK,IACA,SAAA0V,MAAAnG,WAEAlB,cACA,YAAAF,MAAA,KAAAA,KAAAgB,aAAA,KAAAhB,KAAAgB,aAAApU,OAAA,GAEAwT,YACA,YAAAJ,KACA,KAAAqB,WAAA,KAAArB,KAAAqH,UADA,KAGAlH,YAAA,YAAAH,MAAA+E,OAAA,KAAA/E,KAAAwH,aAAAzC,OAAA,KAAA/E,KAAAwH,aAAA,GACA7F,QACA,MAAAtJ,EAAA,KAAA2H,MAAA,KAAAA,KAAAgB,aAAA,KAAAhB,KAAAgB,aAAA,GACA3F,EAAA,KAAA8E,UACAwB,EAAA/L,MAAAxB,KAAA,CAAAxH,OAAAyO,GAAA,MAAAtB,OAAA,QAWA,OATA1B,EAAAyB,QAAAlK,IACA,MAAAgN,EAAA,kBAAAhN,EAAA6X,WAAA7X,EAAA6X,YAAA,EACA7K,GAAA,GAAAA,EAAAvB,IAAAsG,EAAA/E,GAAA7C,SAAA4H,EAAA/E,GAAA7C,OAAAnK,KAGAyI,EAAA3E,OAAA9D,GAAA,kBAAAA,EAAA6X,YAAA7X,EAAA6X,WAAA,GAAA3N,QAAAlK,IACA,MAAA8X,EAAA/F,EAAArK,UAAAtJ,MAAA+L,QACA2N,GAAA,IAAA/F,EAAA+F,GAAA3N,OAAAnK,KAEA+R,GAEArB,gBACA,MAAAqH,EAAA,CACA,mBACA,eACA,YACA,mBAEA,OAAAA,EAAA,KAAA5L,YAAA,SAGA,gBACA,MAAA9H,EAAA,KAAA2T,OAAAC,MAAA5T,OACAA,GAAA,KAAAsM,OAAAtC,OAAA,cAAAhK,SACA,KAAAyE,uBACA,KAAAoP,sBACA,KAAAC,yBAEAC,gBACA,KAAAC,0BACA,KAAAf,eAAA3T,cAAA,KAAA2T,cAAA,KAAAA,aAAA,OAEA5B,QAAA,CAEA,uBACA,MAAAvM,QAAA,KAAAmP,gBACA,KAAAjG,YAAAlJ,EAAAoP,OAAA,CAAAC,EAAAzU,KAAAyU,EAAAzU,EAAA9B,IAAA8B,EAAAyU,GAAA,UACA,KAAAC,mBAEA,8BACA,IACA,MAAAC,EAAA,KAAA/H,OAAAzE,MAAA7H,OACA,IAAAqU,EAAA,OACA,kBAAApY,SAAA,4CACAgE,EAAAhE,IAEA,KAAAqY,YAAArU,EACAsU,QAAA,WAAAF,GACAzI,GAAA,oBAAA4I,MAAA,IAAAC,OAAA,SAAAC,MAAA,eAAAjV,OAAA,cAAA4U,GAAA,qBAAAR,kBACAjI,GAAA,oBAAA4I,MAAA,SAAAC,OAAA,SAAAC,MAAA,QAAAjV,OAAA,SAAA4U,GAAA,qBAAAR,kBACAc,YAEA,KAAAC,iBAAA3U,EACAsU,QAAA,aAAAF,GACAzI,GAAA,aAAA4I,MAAA,oCAAAX,kBACAjI,GAAA,aAAA4I,MAAA,qCAAAX,kBACAjI,GAAA,aAAA4I,MAAA,0BACAnY,QAAAyM,IAAA,yCAAA+L,GACA,KAAAvI,OAAAtC,OAAA,iBAAA6K,UAAA/M,WAEA,MAAAwL,GAAA,KAAAvH,MAAA,KAAAA,KAAAgB,aAAA,KAAAhB,KAAAgB,aAAA,IAAAlN,KAAAlE,KAAAqR,UAAA,KAAAV,OAAAzE,MAAAO,KAAAxK,IACA0V,GACA,KAAAhH,OAAAtC,OAAA,sBACApM,GAAA0V,EAAAtG,QACAzS,KAAA,KAAA6S,WAAAkG,EAAAtG,SACAnI,OAAA,GACAC,UAAA,GACAxD,MAAA,KAIA,KAAAwT,0BAEAlJ,GAAA,aAAA4I,MAAA,6BACAnY,QAAAyM,IAAA,4CAAA+L,GACA,MAAAjO,EAAAiO,UAAA/P,YAAA+P,UAAApX,SAAA,CAAAoX,UAAApX,UAAA,IACA,UAAAsX,KAAAnO,QACA,KAAA0F,OAAA4F,SAAA,eAAA6C,GAGA,MAAAC,EAAAlE,OAAA+D,UAAAG,WAAA,GACA,KAAAC,yBAAAD,KAEApJ,GAAA,aAAA4I,MAAA,0BACAnY,QAAAyM,IAAA,yCAAA+L,GACA,KAAApG,aAAAxV,KAAA4b,WAEA,KAAAK,UAAA,KACA,MAAAC,EAAA,KAAAC,MAAAD,cACAA,IACAA,EAAAE,UAAAF,EAAAG,kBAIAX,YAEA,KAAA1B,eACA,KAAAA,aAAAtT,YAAA,KAAAkU,cAAA,MAEA,MAAA0B,GAAAlZ,QAAAC,KAAA,mCAAAiZ,GAAA,KAAAtC,eAAA,KAAAA,aAAAtT,YAAA,KAAAkU,cAAA,QAEAG,0BACA,QAAAM,YAAA,UAAAA,YAAAkB,cAAA,MAAAD,IAAA,KAAAjB,YAAA,KACA,QAAAM,iBAAA,UAAAA,iBAAAY,cAAA,MAAAD,IAAA,KAAAX,iBAAA,OAEA,sBACA,IACA,MAAAP,EAAA,KAAA/H,OAAAzE,MAAA7H,OACA,IAAAqU,EAAA,iBAAAtI,KAAA,MACA,MAAA0J,QAAA,4CACAC,EAAAD,EAAArQ,QACA2G,QAAA2J,EAAAC,QAAAtB,GACAjQ,EAAA2H,KAAAgB,aAAA,IAAAhB,EAAAgB,cAAA,GAcA,GAZA3I,EAAAsC,KAAA,CAAAhH,EAAAiH,KACA,MAAAiP,EAAA,kBAAAlW,EAAA8T,WAAA9T,EAAA8T,WAAA,KACAqC,EAAA,kBAAAlP,EAAA6M,WAAA7M,EAAA6M,WAAA,KACA,OAAAoC,EAAAC,IAEA9J,EAAAgB,aAAA3I,EACA,KAAA2H,OAEAA,GAAA,YAAAA,EAAAxN,QACA,KAAA+N,OAAAtC,OAAA,gCAGA+B,GAAA,YAAAA,EAAAxN,OACA,IACA,kBAAAtC,SAAA,4CACAgE,EAAAhE,KACA9D,KAAA2d,SAAA7V,EACAE,KAAA,YACAuB,OAAA,KACAhB,GAAA,mBACAA,GAAA,mBACAqV,EAAA,IAAAC,KAAA,KAAA1J,OAAAzE,MAAAxK,iBAAA,IAAAuH,IAAAlF,KAAA9B,KACA,UAAAqY,KAAAH,GAAA,IACA,GAAAC,EAAAtT,IAAAwT,EAAArY,IAAA,SACA,MAAAH,EAAAwY,EAAAxY,UAAA,KAAAuQ,YAAAiI,EAAA5V,cAAA,CAAAzC,GAAAqY,EAAA5V,YAAA9F,KAAA0b,EAAA5V,aACA1C,EAAA,CACAC,GAAAqY,EAAArY,GACAH,WACAS,WAAA+X,EAAA3V,aAAA,EACAnC,cAAA8X,EAAA1V,gBAAA,KACAnC,cAAA,kBAAA6X,EAAAzV,eAAAyV,EAAAzV,eAAA,GACAnC,KAAA,GACAC,UAAAT,KAAAC,MACAS,OAAA,SACAC,OAAA,MAEA,KAAA8N,OAAAtC,OAAA,wBAAArM,IAEAmY,GAAA,IAAAnd,OAAA,GACA,KAAA2T,OAAAtC,OAAA,4BAEA,MAAAuL,GACAlZ,QAAAC,KAAA,qCAAAiZ,GAKA,UAAAxJ,EAAAxN,SACA,KAAA+N,OAAAtC,OAAA,+BAEA,KAAA+F,mBAAA,EACAmG,WAAA,UAAAC,iBAAA,MAIA,MAAAC,EAAAzU,MAAAxB,KAAA,IAAA6V,IAAA5R,EAAAQ,IAAAjJ,KAAAqR,SAAAvN,OAAA4W,WACA,GAAAD,EAAAzd,OAAA,GACA,kBAAAsD,SAAA,4CACAgE,EAAAhE,KACA9D,KAAAme,SAAArW,EAAAE,KAAA,YAAAuB,OAAA,wBAAA6U,GAAA,KAAAH,GACAxR,EAAA,IACA0R,GAAA,IAAAzQ,QAAAlK,IAAAiJ,EAAAjJ,EAAAiC,IAAA,CAAAgM,SAAAjO,EAAAiO,SAAAC,OAAAlO,EAAAkO,UACA,KAAAmJ,WAAApO,OAEA,KAAAoO,WAAA,GAGA,IACA,MAAAwD,EAAA,KAAAlK,OAAAzE,MAAAO,MAAA,KAAAkE,OAAAzE,MAAAO,KAAAxK,GACA,GAAAyW,GAAAmC,EAAA,CACA,kBAAAva,SAAA,4CACAgE,EAAAhE,KACA9D,KAAAse,SAAAxW,EACAE,KAAA,kBACAuB,OAAA,eACAhB,GAAA,UAAA2T,GACA3T,GAAA,gBAAA8V,GACAE,GAAAD,GAAA,IAAA7R,IAAA/J,KAAAwF,aAEAiT,GAAA,KAAAvH,MAAA,KAAAA,KAAAgB,aAAA,KAAAhB,KAAAgB,aAAA,IAAAlN,KAAAlE,KAAAqR,UAAAwJ,GACA,GAAAlD,EAAA,CACA,MAAA5J,EAAA,CACA9L,GAAA0V,EAAAtG,QACAzS,KAAA,KAAA6S,WAAAkG,EAAAtG,SACAnI,OAAA,GACAC,UAAA4R,EACApV,MAAA,IAEA,KAAAgL,OAAAtC,OAAA,qBAAAN,GACA,KAAA4C,OAAAtC,OAAA,uBAAA0M,KAGA,MAAAnB,GACAlZ,QAAAC,KAAA,yCAAAiZ,IAEA,MAAAA,GAAAlZ,QAAAC,KAAA,8BAAAiZ,KAEA,oBACA,IACA,MAAAlB,EAAA,KAAA/H,OAAAzE,MAAA7H,OACAwW,EAAA,KAAAlK,OAAAzE,MAAAO,MAAA,KAAAkE,OAAAzE,MAAAO,KAAAxK,GACA,IAAAyW,IAAAmC,EAAA,OACA,MAAAlD,GAAA,KAAAvH,MAAA,KAAAA,KAAAgB,aAAA,KAAAhB,KAAAgB,aAAA,IAAAlN,KAAAlE,KAAAqR,UAAAwJ,GACA9M,IAAA4J,KAAAnG,UACAsI,QAAA,4CACAC,EAAAD,EAAArQ,cACAsQ,EAAAiB,SAAAtC,EAAAmC,EAAA9M,SACA,KAAAmK,gBACA,MAAA0B,GAAAlZ,QAAAC,KAAA,4BAAAiZ,KAEA,iBAAA5M,GACA,IACA,MAAA0L,EAAA,KAAA/H,OAAAzE,MAAA7H,OACAwW,EAAA,KAAAlK,OAAAzE,MAAAO,MAAA,KAAAkE,OAAAzE,MAAAO,KAAAxK,GACA,IAAAyW,IAAAmC,EAAA,OACA,MAAA9I,EAAA,KAAAA,MACA4F,GAAA,KAAAvH,MAAA,KAAAA,KAAAgB,aAAA,KAAAhB,KAAAgB,aAAA,IAAAlN,KAAAlE,KAAAqR,UAAAwJ,GACAI,EAAAtD,GAAA,kBAAAA,EAAAE,WAAAF,EAAAE,YAAA,EACAzQ,EAAA2K,EAAA/E,IAAA+E,EAAA/E,GAAA7C,OACA2P,QAAA,4CACAC,EAAAD,EAAArQ,QACArC,KAAAiK,UAAAwJ,SAEAd,EAAAmB,QAAAxC,EAAAtR,EAAAiK,QAAA,YACA0I,EAAAmB,QAAAxC,EAAAmC,EAAA7N,GACAiO,GAAA,SAAAlB,EAAAmB,QAAAxC,EAAAtR,EAAAiK,QAAA4J,UAGAlB,EAAAmB,QAAAxC,EAAAmC,EAAA7N,GAGA2K,MAAAE,WAAA7K,SACA,KAAAkL,gBACA,MAAA0B,GAAAlZ,QAAAC,KAAA,2BAAAiZ,KAEA,kBACA,IACA,MAAAlB,EAAA,KAAA/H,OAAAzE,MAAA7H,OACAwW,EAAA,KAAAlK,OAAAzE,MAAAO,MAAA,KAAAkE,OAAAzE,MAAAO,KAAAxK,GACA,IAAAyW,IAAAmC,EAAA,OACA,MAAAf,QAAA,4CACAC,EAAAD,EAAArQ,cACAsQ,EAAA7I,UAAAwH,EAAAmC,GACA,KAAAxC,0BACA,KAAA1H,OAAAtC,OAAA,oBACA,KAAA+B,KAAA,KACA,KAAAD,QAAA7S,KAAA,UACA,MAAAsc,GACAlZ,QAAAC,KAAA,0BAAAiZ,KAKA,sBACA,IACA,MAAAlB,EAAA,KAAA/H,OAAAzE,MAAA7H,OACA,GAAAqU,EAAA,CAEA,kBAAApY,SAAA,4CACAgE,EAAAhE,UACAgE,EAAAE,KAAA,SAAAM,OAAA,CAAAlC,OAAA,YAAAmC,GAAA,KAAA2T,GAEA,KAAAvI,QAAA7S,KAAA,CAAA6d,KAAA,QAAAlD,MAAA,CAAA5T,OAAAqU,EAAA0C,UAAA,eAEA,KAAAjL,QAAA7S,KAAA,UAEA,MAAAsc,GACAlZ,QAAAC,KAAA,8BAAAiZ,GAEA,KAAAzJ,QAAA7S,KAAA,YAGA,kBACA,IACA,MAAAob,EAAA,KAAA/H,OAAAzE,MAAA7H,OACAwW,EAAA,KAAAlK,OAAAzE,MAAAO,MAAA,KAAAkE,OAAAzE,MAAAO,KAAAxK,GACA,IAAAyW,IAAAmC,IAAA,KAAA/J,UAAA,KAAAC,SAAA,OACA,MAAA+I,QAAA,4CACAC,EAAAD,EAAArQ,cACAsQ,EAAA/I,UAAA0H,EAAAmC,GAEA,KAAAlK,OAAAtC,OAAA,gCACA,KAAAsC,OAAAtC,OAAA,gBAAA7K,UAAAtB,KAAAC,MAAA8F,QAAA,uBAEA,MAAA0P,GAAA,KAAAvH,MAAA,KAAAA,KAAAgB,aAAA,KAAAhB,KAAAgB,aAAA,IAAAlN,KAAAlE,KAAAqR,UAAAwJ,GACAlD,GACA,KAAAhH,OAAAtC,OAAA,sBACApM,GAAA0V,EAAAtG,QACAzS,KAAA,KAAA6S,WAAAkG,EAAAtG,SACAnI,OAAA,GACAC,UAAA,GACAxD,MAAA,KAIA,IACA,kBAAArF,SAAA,4CACAgE,EAAAhE,UACAgE,EAAAsU,QAAA,aAAAF,GAAA2C,KAAA,CACAxU,KAAA,YACAgS,MAAA,eACAK,QAAA,CAAA/M,UAAA,iBAEA,MAAAyN,GACAlZ,QAAAC,KAAA,uCAAAiZ,GAIA,KAAAT,wBACA,MAAAS,GAAAlZ,QAAAC,KAAA,0BAAAiZ,KAGA,qBAEA,MAAAzQ,QAAA,KAAAmP,gBACA,GAAAnP,EAAAnM,OAAA,GACA,MAAAse,EAAA,GACA,MAAAA,EAAAte,OAAAoF,KAAA2T,IAAA,EAAA5M,EAAAnM,QAAA,CACA,MAAAue,EAAApS,EAAA/G,KAAAyH,MAAAzH,KAAAC,SAAA8G,EAAAnM,SACAse,EAAApX,KAAAlE,KAAAiC,KAAAsZ,EAAAtZ,KAAAqZ,EAAAhe,KAAAie,GAEA,UAAAnC,KAAAkC,QACA,KAAA3K,OAAA4F,SAAA,eAAA6C,KAKA,sBACA,IACA,kBAAA9Y,SAAA,4CACAgE,EAAAhE,KACA,KAAA9D,EAAA,MAAA+H,SAAAD,EACAE,KAAA,aACAuB,OAAA,KACA,GAAAxB,EAAA,MAAAA,EAEA,OAAA/H,GAAA,IAAAyM,IAAAqR,IAAA,CACArY,GAAAqY,EAAArY,GACArD,KAAA0b,EAAA1b,KACAiV,IAAAyG,EAAAzG,IACAC,SAAAwG,EAAAxG,SACAC,MAAAuG,EAAAvG,MACA5I,eAAAmP,EAAAkB,iBAAA,GACA3Q,UAAAyP,EAAAmB,YAAA,EACAnJ,MAAAgI,EAAAhI,SAEA,MAAA/N,GAEA,OADA7D,QAAA6D,MAAA,YAAAA,GACA,KAIA0M,WACA,KAAAN,OAAAtC,OAAA,qBAGA2F,YACA,KAAArD,OAAAtC,OAAA,qBAGA+D,mBAAAzH,GAEA,MAAA7I,EAAA,KAAAuQ,YAAA1H,GAEA,KAAA0B,aADAvK,GAIA,CACAG,GAAA0I,EACA/L,KAAA,OACAiV,IAAA,KACAC,SAAA,KACAC,MAAA,eACA5I,eAAA,SACAN,UAAA,EACAyH,MAAA,iDAGA,KAAA3B,OAAAtC,OAAA,4BAGAU,iBACA,KAAA4B,OAAAtC,OAAA,2BACA,KAAAhC,aAAA,MAEAsF,8BAAA7P,GACA,KAAAuK,aAAAvK,EACA,KAAA6O,OAAAtC,OAAA,4BAGAiD,eAAAnH,GAEA,MAAAuR,EAAA,CACAzZ,GAAAkI,EAAAkH,QACAzS,KAAA,KAAA6S,WAAAtH,EAAAkH,SACAlI,UAAA,KAAAoD,eAAA,KAAAA,cAAAtK,KAAAkI,EAAAkH,SACA,KAAA9E,cAAApD,WAAA,IAEA,KAAAgL,WAAAuH,EACA,KAAAzH,eAAA,GAGAC,WACA,KAAAC,WAAA,KACA,KAAAF,eAAA,GAGA0H,WAAAnY,GACA,MAAAoY,EAAA,IAAA1Z,KAAAsB,GACA,SAAAoY,EAAAC,WAAAvZ,WAAAwZ,SAAA,UAAAF,EAAAG,aAAAzZ,WAAAwZ,SAAA,UAEAvK,aAAAwB,GACA,MAAAiJ,EAAA,KAAA3E,WAAAtE,GACA,GAAAiJ,KAAA9N,OAAA,OAAA8N,EAAA9N,OACA,MAAAuI,GAAAuF,KAAA/N,SAAA+N,EAAA/N,SAAA8E,GAAA,KAAAzQ,WAAAlC,MAAA,KAAAsW,cACAC,EAAA,SACAC,EAAA,SACAC,EAAAC,mBAAA,0GAAAH,mGAAAC,sCAAAH,kBACA,0CAAAI,GAEApF,WAAAsB,GACA,MAAAiJ,EAAA,KAAA3E,WAAAtE,GACA,OAAAiJ,KAAA/N,SAAA+N,EAAA/N,SACA,KAAAmC,MAAA,KAAAA,KAAAqH,WAAA1E,EAAA,MACAA,GAAA,IAAA3S,MAAA,MAIA,wBACA,IACA,MAAA6b,QAAAC,MAAA,iCACA,KAAA9S,kBAAA6S,EAAAE,OACA,MAAA5X,GACA7D,QAAA6D,MAAA,aAAAA,GACA,KAAA6E,YAAA,KAKAoJ,sBAAAjI,GACA,MAAA6R,EAAA,KAAAxJ,0BAAArI,GACA,OAAA6R,GAAA7R,EAAAE,eAIAmI,0BAAArI,GACA,SAAAgC,gBAAA,KAAAA,cAAApD,UAAA,SAEA,IAAAkT,EAAA,EAOA,OANA,KAAA9P,cAAApD,UAAAe,QAAAS,IACA,MAAA7I,EAAA,KAAAuQ,YAAA1H,GACA7I,KAAAqJ,gBAAArJ,EAAAqJ,eAAAmR,SAAA/R,EAAA3L,OACAyd,MAGAA,GAIA1J,sBAAApI,GACA,MAAAgS,EAAA,KAAA3J,0BAAArI,GACAwM,EAAAxM,EAAAE,cACA,OAAArI,KAAA2T,IAAAwG,EAAAxF,EAAA,UAIA1C,qBACA,KAAAD,mBAAA,GAIAE,aACA,KAAAF,mBAAA,GAKAG,YACA,KAAAH,mBAAA,EACA,KAAAiE,0BACA,KAAA1H,OAAAtC,OAAA,oBACA,KAAA+B,KAAA,KACA,KAAAD,QAAA7S,KAAA,WAIA,wBACA,IACA,MAAAwP,EAAA,KAAA6D,OAAAzE,MAAAxK,iBAAA,GAEA,UAAAqC,KAAA+I,QACA,KAAA6D,OAAA4F,SAAA,aAAAxS,EAAA9B,IAEA,MAAA2X,GAAAlZ,QAAAC,KAAA,gCAAAiZ,KAIAT,wBAEA,KAAA5B,eAAA5T,cAAA,KAAA4T,cAAA,KAAAA,aAAA,MAGA,KAAA5G,OAAAtC,OAAA,gCAGA,KAAAuD,cAAA,EAGA,KAAA2H,UAAA,KAEA,KAAA3H,cAAA,EAGA,KAAA2H,UAAA,KACA7Y,QAAAyM,IAAA,kBACA,KAAAoK,aAAAvT,YAAA,KAEA,KAAA+Q,KAAA,0BAAAnD,cAAA,GACAlR,QAAAyM,IAAA,cAAAyE,eAGA,KAAAA,eAAA,IACAjO,cAAA,KAAA4T,cACA,KAAAA,aAAA,KAEAgD,WAAA,KACA,KAAAiC,oBACA,OAEA,UAMAlD,yBAAAD,GAEA,KAAA3H,iBAAAyD,OAAAkE,IAAA,GACA,KAAA9B,eAAA5T,cAAA,KAAA4T,cAAA,KAAAA,aAAA,MACA,KAAA5G,OAAAtC,OAAA,4BACA3N,QAAAyM,IAAA,gBAAAuE,kBACA,KAAA6F,aAAAvT,YAAA,UACA,KAAA0N,mBACAhR,QAAAyM,IAAA,cAAAuE,kBACA,KAAAA,kBAAA,IACA/N,cAAA,KAAA4T,cACA,KAAAA,aAAA,WACA,KAAAkF,oBAEA,MAIA,yBACA,IAEA,KAAA9L,OAAAtC,OAAA,kCAGA,IAAAqO,QAAAC,GAAApC,WAAAoC,EAAA,MAEA,MAAAxT,QAAA,KAAAmP,gBACA,GAAAnP,EAAAnM,OAAA,GACA,MAAAse,EAAA,GACA,MAAAA,EAAAte,OAAAoF,KAAA2T,IAAA,EAAA5M,EAAAnM,QAAA,CACA,MAAAue,EAAApS,EAAA/G,KAAAyH,MAAAzH,KAAAC,SAAA8G,EAAAnM,SACAse,EAAApX,KAAAlE,KAAAiC,KAAAsZ,EAAAtZ,KAAAqZ,EAAAhe,KAAAie,GAEA,UAAAnC,KAAAkC,QACA,KAAA3K,OAAA4F,SAAA,eAAA6C,GAGA,KAAAE,yBAAA,IAGA,MAAAZ,EAAA,KAAA/H,OAAAzE,MAAA7H,OACA,GAAAqU,EAAA,CACA,kBAAApY,SAAA,4CACAgE,EAAAhE,UACAgE,EAAAsU,QAAA,aAAAF,GAAA2C,KAAA,CACAxU,KAAA,YACAgS,MAAA,kBACAK,QAAA,CAAA/P,UAAAmS,EAAAjC,SAAA,QAIA,MAAAO,GACAlZ,QAAAC,KAAA,iCAAAiZ,KAKA,oBACA,SAAAxG,WAAAQ,SAAA,KAAAnH,KAAA,OAEA,MAAAxE,EAAA,CACAhG,GAAAC,KAAAC,MACA4Q,OAAA,KAAAtG,KAAAxK,GACAgM,SAAA,KAAAxB,KAAAuD,OAAA,KACAiD,QAAA,KAAAG,WAAAQ,OACApQ,UAAAtB,KAAAC,OAGA,KAAA2Q,aAAAxV,KAAA2K,GACA,KAAAmL,WAAA,GAGA,MAAAsF,EAAA,KAAA/H,OAAAzE,MAAA7H,OACA,GAAAqU,EACA,IACA,kBAAApY,SAAA,4CACAgE,EAAAhE,UACAgE,EAAAsU,QAAA,aAAAF,GAAA2C,KAAA,CACAxU,KAAA,YACAgS,MAAA,eACAK,QAAAjR,IAEA,MAAA2R,GACAlZ,QAAAC,KAAA,4BAAAiZ,KAMA5G,kBAAAxP,GACA,MAAAoY,EAAA,IAAA1Z,KAAAsB,GACArB,EAAA,IAAAD,KACA0a,EAAAza,EAAAyZ,EAEA,OAAAgB,EAAA,IACA,KACAA,EAAA,KACAxa,KAAAyH,MAAA+S,EAAA,WAEAhB,EAAAiB,mBAAA,SAAAC,KAAA,UAAAC,OAAA,eCh8B6V,ICQzV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX/b,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,OAAO,CAACwO,YAAY,oBAAoB,CAACxO,EAAG,OAAO,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,SAAS,CAACwO,YAAY,cAAcM,GAAG,CAAC,MAAQhP,EAAI+b,SAAS,CAAC/b,EAAI6O,GAAG,UAAU3O,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,YAAa7O,EAAIa,SAAUX,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,OAAO,CAACwO,YAAY,0BAA0B,CAACxO,EAAG,QAAQ,CAACwO,YAAY,iBAAiBtO,MAAM,CAAC,IAAMJ,EAAIa,SAASwQ,MAAM,KAAO,aAAarC,GAAG,CAAC,MAAQhP,EAAIgc,kBAAkB9b,EAAG,OAAO,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,OAAO,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIa,SAASlD,SAASuC,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIa,SAAS+R,QAAQ1S,EAAG,OAAO,CAACwO,YAAY,qBAAqB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIa,SAASgS,aAAa3S,EAAG,OAAO,CAACwO,YAAY,iBAAiB1O,EAAIkQ,GAAIlQ,EAAIa,SAASqJ,gBAAgB,SAASC,GAAK,OAAOjK,EAAG,OAAO,CAACxB,IAAIyL,EAAIuE,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,IAAI7O,EAAI8O,GAAG3E,GAAK,UAAS,GAAGjK,EAAG,OAAO,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,OAAO,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG,WAAW3O,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIa,SAAS+I,kBAAkB1J,EAAG,OAAO,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,OAAO,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,OAAO,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIa,SAASiS,YAAY5S,EAAG,OAAO,CAACwO,YAAY,uBAAuB,CAACxO,EAAG,OAAO,CAACwO,YAAY,qBAAqB,CAAC1O,EAAI6O,GAAG,WAAW3O,EAAG,OAAO,CAACwO,YAAY,oBAAoB1O,EAAIkQ,GAAIlQ,EAAIa,SAASqJ,gBAAgB,SAASC,GAAK,OAAOjK,EAAG,OAAO,CAACxB,IAAIyL,EAAIuE,YAAY,mBAAmB,CAACxO,EAAG,OAAO,CAACwO,YAAY,mBAAmB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG3E,MAAQjK,EAAG,OAAO,CAACwO,YAAY,uBAAuB,CAAC1O,EAAI6O,GAAG,IAAI7O,EAAI8O,GAAG9O,EAAI0R,sBAAsBvH,IAAM,YAAW,OAAOjK,EAAG,OAAO,CAACwO,YAAY,WAAW,CAACxO,EAAG,OAAO,CAACF,EAAI6O,GAAG,iBAE3yDxO,EAAkB,GCyEP,GACf1C,KAAA,iBACApC,OACA,OACAsF,SAAA,OAGAsT,SAAA,IACAC,eAAA,oBAEA,sBACA,KAAA6H,gBAEAxH,QAAA,CACA,qBACA,MAAA/K,EAAA,KAAAqN,OAAAC,MAAAhW,GACA,IAAA0I,EAMA,OALAwS,IAAAC,UAAA,CACAC,MAAA,UACAC,KAAA,cAEA,KAAAN,SAIA,IACA,MAAAf,QAAAkB,IAAAI,QAAA,CACAhd,IAAA,gCAEA4I,EAAA8S,EAAAzf,KACA,KAAAsF,SAAAqH,EAAAjF,KAAApC,KAAAG,KAAA0I,GAEA,KAAA7I,WACAqb,IAAAC,UAAA,CACAC,MAAA,QACAC,KAAA,SAEA,KAAAN,UAEA,MAAAzY,GACA7D,QAAA6D,MAAA,YAAAA,GACA4Y,IAAAC,UAAA,CACAC,MAAA,OACAC,KAAA,SAEA,KAAAN,WAIAC,eACAvc,QAAA6D,MAAA,iBAAAzC,SAAAwQ,OAEA,KAAAxQ,SAAAwQ,MAAA,kCAGAK,sBAAAvH,GACA,SAAAmB,gBAAA,KAAAA,cAAAnD,YACA,aAGA,MAAAgT,EAAA,KAAA7P,cAAAnD,YAAAgC,IAAA,EACAX,EAAA,KAAA+S,iBAAApS,GACA,SAAAgR,KAAA3R,KAGA+S,iBAAApS,GACA,MAAAqS,EAAA,CACA,SACA,SACA,SACA,UAEA,OAAAA,EAAArS,IAAA,GAGA4R,SACAG,IAAAO,kBCvJmW,ICQ/V,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX1c,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,OAAO,CAACwO,YAAY,aAAa,CAACxO,EAAG,OAAO,CAACwO,YAAY,eAAe,CAACxO,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,OAAO,CAACwO,YAAY,eAAe,CAACxO,EAAG,OAAO,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIsL,cAAc3N,SAASuC,EAAG,OAAO,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,OAAO,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG,OAAO3O,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIsL,cAAcrD,iBAAiB/H,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,OAAO,CAACwO,YAAY,iBAAiB1O,EAAIkQ,GAAIlQ,EAAI0c,YAAY,SAASC,GAAU,OAAOzc,EAAG,OAAO,CAACxB,IAAIie,EAASjO,YAAY,eAAeC,MAAM,CAAEiO,OAAQ5c,EAAI6c,mBAAqBF,GAAW3N,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAI8c,eAAeH,MAAa,CAAC3c,EAAI6O,GAAG,IAAI7O,EAAI8O,GAAG6N,GAAU,UAAS,GAAGzc,EAAG,OAAO,CAACwO,YAAY,cAAc1O,EAAIkQ,GAAIlQ,EAAI+c,eAAe,SAAS3X,GAAM,OAAOlF,EAAG,OAAO,CAACxB,IAAI0G,EAAKpE,GAAG0N,YAAY,aAAa,CAACxO,EAAG,QAAQ,CAACwO,YAAY,YAAYtO,MAAM,CAAC,IAAMgF,EAAKiX,KAAK,KAAO,eAAenc,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,OAAO,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG1J,EAAKzH,SAASuC,EAAG,OAAO,CAACwO,YAAY,oBAAoB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG1J,EAAKoM,gBAAgBtR,EAAG,OAAO,CAACwO,YAAY,aAAa,CAACxO,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG1J,EAAKG,OAAO,SAASrF,EAAG,OAAO,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG1J,EAAKQ,aAAa1F,EAAG,SAAS,CAACwO,YAAY,aAAatO,MAAM,CAAC,UAAYJ,EAAI+V,WAAW3Q,IAAO4J,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIqF,QAAQD,MAAS,CAACpF,EAAI6O,GAAG,IAAI7O,EAAI8O,GAAG9O,EAAIgd,iBAAiB5X,IAAO,YAAW,KAAKlF,EAAG,OAAO,CAACwO,YAAY,YAAY,CAACxO,EAAG,OAAO,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,SAAS7O,EAAI8O,GAAG9O,EAAI2E,YAAY5I,QAAQ,SAASmE,EAAG,OAAO,CAACwO,YAAY,cAAc1O,EAAIkQ,GAAIlQ,EAAI2E,aAAa,SAASS,GAAM,OAAOlF,EAAG,OAAO,CAACxB,IAAI0G,EAAKpE,GAAG0N,YAAY,cAAcM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIkG,QAAQd,MAAS,CAAClF,EAAG,QAAQ,CAACwO,YAAY,kBAAkBtO,MAAM,CAAC,IAAMgF,EAAKiX,KAAK,KAAO,eAAenc,EAAG,OAAO,CAACwO,YAAY,mBAAmB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG1J,EAAKzH,SAASuC,EAAG,OAAO,CAACwO,YAAY,mBAAmB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG1J,EAAKQ,cAAa,KAAK1F,EAAG,YAAY,CAAC0R,IAAI,kBAAkBxR,MAAM,CAAC,KAAO,WAAW,CAACF,EAAG,OAAO,CAACwO,YAAY,qBAAqB,CAACxO,EAAG,OAAO,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,OAAO,CAACwO,YAAY,mBAAmB,CAACxO,EAAG,QAAQ,CAACwO,YAAY,eAAetO,MAAM,CAAC,IAAMJ,EAAIid,aAAaZ,KAAK,KAAO,eAAenc,EAAG,OAAO,CAACwO,YAAY,mBAAmB,CAACxO,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIid,aAAatf,SAASuC,EAAG,OAAO,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,OAAO7O,EAAI8O,GAAG9O,EAAIid,aAAa1X,OAAO,SAASrF,EAAG,OAAO,CAACwO,YAAY,uBAAuB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIid,aAAazL,oBAAoBtR,EAAG,OAAO,CAACwO,YAAY,mBAAmB,CAACxO,EAAG,SAAS,CAACwO,YAAY,gBAAgBM,GAAG,CAAC,MAAQhP,EAAIkd,YAAY,CAACld,EAAI6O,GAAG,QAAQ3O,EAAG,SAAS,CAACwO,YAAY,iBAAiBM,GAAG,CAAC,MAAQhP,EAAImd,aAAa,CAACnd,EAAI6O,GAAG,iBAAiB,IAEj9FxO,GAAkB,GC0GP,IACf1C,KAAA,WACApC,OACA,OACAmJ,MAAA,GACAC,YAAA,GACA+X,WAAA,2BACAG,iBAAA,KACAI,aAAA,OAGA9I,SAAA,IACAC,eAAA,mBAEA2I,gBACA,kBAAAF,iBACA,KAAAnY,MAEA,KAAAA,MAAA7B,OAAAuC,KAAAQ,OAAA,KAAAiX,oBAGA,sBACA,KAAAO,YAEA3I,QAAA,CACA,uBACA,KAAA5P,kBACA,KAAAwY,mBAGA,kBACA,KAAA3Y,MAAAmJ,EAAA5I,YAGA,wBACA,KAAAqG,gBACA,KAAA3G,YAAAkJ,EAAA1G,eAAA,KAAAmE,cAAAtK,MAIA8b,eAAAH,GACA,KAAAE,iBAAAF,GAGA5G,WAAA3Q,GACA,YAAAkG,cAAArD,QAAA7C,EAAAG,OACA,KAAAZ,YAAA5I,OAAA,GAGAihB,iBAAA5X,GACA,YAAAkG,cAAArD,OAAA7C,EAAAG,MACA,OAEA,KAAAZ,YAAA5I,QAAA,EACA,QAEA,MAGAsJ,QAAAD,GACA,KAAA6X,aAAA7X,EACA,KAAAoT,MAAA8E,gBAAAC,QAGA,mBACA,QAAAN,aAEA,IACA,MAAArgB,QAAA,KAAA8S,OAAA4F,SAAA,WACAtT,SAAA,KAAAsJ,cAAAtK,GACAmE,OAAA,KAAA8X,aAAAjc,KAGA,KAAA0O,OAAAtC,OAAA,oBAAAxQ,EAAAqJ,uBACA,KAAAoX,kBAEA,KAAA7E,MAAA8E,gBAAAE,QACA,KAAAP,aAAA,KAEAf,IAAAC,UAAA,CACAC,MAAA,OACAC,KAAA,YAEA,MAAA/Y,GACA4Y,IAAAC,UAAA,CACAC,MAAA9Y,EAAA0D,SAAA,OACAqV,KAAA,WAKAa,YACA,KAAA1E,MAAA8E,gBAAAE,QACA,KAAAP,aAAA,MAGA,cAAA7X,GACA8W,IAAAuB,UAAA,CACArB,MAAA,OACApK,QAAA,SAAA5M,EAAAzH,UACAqI,QAAA,UACA,GAAA0X,EAAAC,QACA,IACA,MAAA/gB,QAAA,KAAA8S,OAAA4F,SAAA,WACAtT,SAAA,KAAAsJ,cAAAtK,GACAmE,OAAAC,EAAApE,WAGA,KAAAqc,kBAEAnB,IAAAC,UAAA,CACAC,MAAAxf,EAAAoK,SAAA,SACAqV,KAAA,YAEA,MAAA/Y,GACA4Y,IAAAC,UAAA,CACAC,MAAA9Y,EAAA0D,SAAA,SACAqV,KAAA,gBCjO4V,MCQxV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBXtc,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,OAAO,CAACwO,YAAY,mBAAmB,CAACxO,EAAG,OAAO,CAACwO,YAAY,eAAe,CAACxO,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,SAAS3O,EAAG,OAAO,CAACwO,YAAY,eAAe,CAACxO,EAAG,OAAO,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIsL,cAAc3N,SAASuC,EAAG,OAAO,CAACwO,YAAY,mBAAmB,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI8O,GAAG9O,EAAI4d,gBAAgB,WAAW1d,EAAG,OAAO,CAACwO,YAAY,oBAAoB1O,EAAIkQ,GAAIlQ,EAAImI,aAAa,SAASmB,GAAY,OAAOpJ,EAAG,OAAO,CAACxB,IAAI4K,EAAWtI,GAAG0N,YAAY,kBAAkBC,MAAM,CAAE2C,UAAWtR,EAAIuR,sBAAsBjI,KAAe,CAACpJ,EAAG,QAAQ,CAACwO,YAAY,kBAAkBtO,MAAM,CAAC,IAAMkJ,EAAW+S,KAAK,KAAO,eAAenc,EAAG,OAAO,CAACwO,YAAY,mBAAmB,CAACxO,EAAG,OAAO,CAACwO,YAAY,mBAAmB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAGxF,EAAW3L,SAASuC,EAAG,OAAO,CAACwO,YAAY,0BAA0B,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAGxF,EAAWkI,gBAAgBtR,EAAG,OAAO,CAACwO,YAAY,uBAAuB,CAACxO,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,OAAO,CAACwO,YAAY,gBAAgBkC,MAAO,CAAEa,MAAOzR,EAAI6d,iBAAiBvU,QAAmBpJ,EAAG,OAAO,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,IAAI7O,EAAI8O,GAAG9O,EAAI8d,gBAAgBxU,IAAa,IAAItJ,EAAI8O,GAAGxF,EAAWE,eAAe,SAAStJ,EAAG,OAAO,CAACwO,YAAY,qBAAqB,CAACxO,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,SAAS3O,EAAG,OAAO,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAGxF,EAAWG,cAAc,QAASzJ,EAAIuR,sBAAsBjI,GAAapJ,EAAG,OAAO,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,aAAa7O,EAAIwP,cAAa,GAAGtP,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,OAAO,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,SAAS7O,EAAI8O,GAAG9O,EAAIuL,gBAAgBxP,QAAQ,OAAOmE,EAAG,OAAO,CAACwO,YAAY,kBAAkB1O,EAAIkQ,GAAIlQ,EAAIuL,iBAAiB,SAAS1K,GAAU,OAAOX,EAAG,OAAO,CAACxB,IAAImC,EAASG,GAAG0N,YAAY,gBAAgBM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAImR,mBAAmBtQ,MAAa,CAACX,EAAG,QAAQ,CAACwO,YAAY,iBAAiBtO,MAAM,CAAC,IAAMS,EAASwQ,MAAM,KAAO,eAAenR,EAAG,OAAO,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,OAAO,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAGjO,EAASlD,SAASuC,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAGjO,EAAS+R,QAAQ1S,EAAG,OAAO,CAACwO,YAAY,iBAAiB1O,EAAIkQ,GAAIrP,EAASqJ,gBAAgB,SAASC,GAAK,OAAOjK,EAAG,OAAO,CAACxB,IAAIyL,EAAIuE,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,IAAI7O,EAAI8O,GAAG3E,GAAK,UAAS,GAAGjK,EAAG,OAAO,CAACwO,YAAY,kBAAkB,CAAC1O,EAAI6O,GAAG,OAAO7O,EAAI8O,GAAGjO,EAAS+I,qBAAoB,KAAK1J,EAAG,YAAY,CAAC0R,IAAI,sBAAsBxR,MAAM,CAAC,KAAO,WAAW,CAAEJ,EAAI+d,iBAAkB7d,EAAG,OAAO,CAACwO,YAAY,yBAAyB,CAACxO,EAAG,QAAQ,CAACwO,YAAY,eAAetO,MAAM,CAAC,IAAMJ,EAAI+d,iBAAiB1M,MAAM,KAAO,eAAenR,EAAG,OAAO,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,OAAO,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI+d,iBAAiBpgB,SAASuC,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI+d,iBAAiBnL,KAAK,MAAM5S,EAAI8O,GAAG9O,EAAI+d,iBAAiBlL,aAAa3S,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI+d,iBAAiBjL,UAAU5S,EAAG,OAAO,CAACwO,YAAY,eAAe1O,EAAIkQ,GAAIlQ,EAAI+d,iBAAiB7T,gBAAgB,SAASC,GAAK,OAAOjK,EAAG,OAAO,CAACxB,IAAIyL,EAAIuE,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,IAAI7O,EAAI8O,GAAG3E,GAAK,UAAS,GAAGjK,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,SAAS7O,EAAI8O,GAAG9O,EAAI+d,iBAAiBnU,gBAAgB1J,EAAG,SAAS,CAACwO,YAAY,eAAeM,GAAG,CAAC,MAAQhP,EAAIge,qBAAqB,CAAChe,EAAI6O,GAAG,UAAU7O,EAAIwP,QAAQ,IAEr3GnP,GAAkB,GCkHP,IACf1C,KAAA,iBACApC,OACA,OACA4M,YAAA,GACAoD,gBAAA,GACAwS,iBAAA,OAGA5J,SAAA,IACAC,eAAA,mBAEAwJ,iBACA,YAAAzV,YAAApM,OAAA,SACA,MAAAkiB,EAAA,KAAA9V,YAAAtF,OAAAyG,GACA,KAAAiI,sBAAAjI,IACAvN,OACA,OAAAoF,KAAA4T,MAAAkJ,EAAA,KAAA9V,YAAApM,OAAA,OAGA,sBACA,KAAAqhB,YAEA3I,QAAA,CACA,uBACA,KAAA+C,wBACA,KAAA0G,uBAGA,wBACA,IACA,MAAAlD,QAAAkB,IAAAI,QAAA,CACAhd,IAAA,kCAEA,KAAA6I,YAAA6S,EAAAzf,KACA,MAAA+H,GACA7D,QAAA6D,MAAA,aAAAA,KAIA,4BACA,QAAAgI,eAAA,KAAAA,cAAApD,UACA,IACA,MAAA8S,QAAAkB,IAAAI,QAAA,CACAhd,IAAA,gCAEA6e,EAAAnD,EAAAzf,KACA,KAAAgQ,gBAAA4S,EAAAtb,OAAAhC,GACA,KAAAyK,cAAApD,UAAAmT,SAAAxa,EAAAG,KAEA,MAAAsC,GACA7D,QAAA6D,MAAA,YAAAA,KAKAiO,sBAAAjI,GACA,MAAA6R,EAAA,KAAA2C,gBAAAxU,GACA,OAAA6R,GAAA7R,EAAAE,eAGAsU,gBAAAxU,GACA,YAAAgC,eAAA,KAAAA,cAAAnD,aACA,KAAAmD,cAAAnD,YAAAmB,EAAA3L,OADA,GAIAkgB,iBAAAvU,GACA,MAAA6R,EAAA,KAAA2C,gBAAAxU,GACA8U,EAAAjd,KAAA2T,IAAAqG,EAAA7R,EAAAE,cAAA,SACA,OAAA4U,EAAA,KAGAjN,mBAAAtQ,GACA,KAAAkd,iBAAAld,EACA,KAAA2X,MAAA6F,oBAAAd,QAGAS,qBACA,KAAAxF,MAAA6F,oBAAAb,QACA,KAAAO,iBAAA,QCnMkW,MCQ9V,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBXhe,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,MAAM,CAACwO,YAAY,UAAU,CAACxO,EAAG,SAAS,CAACwO,YAAY,WAAWM,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOqP,iBAAiBrP,EAAOsP,kBAAyBve,EAAIkP,QAAQiG,QAAQ,YAAY,CAACnV,EAAI6O,GAAG,YAAY3O,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAACxO,EAAG,QAAQ,CAACF,EAAI6O,GAAG,gBAAgB3O,EAAG,QAAQ,CAAC+R,WAAW,CAAC,CAACtU,KAAK,QAAQuU,QAAQ,UAAU9T,MAAO4B,EAAIwe,QAASpM,WAAW,YAAYhS,MAAM,CAAC,KAAO,OAAO,YAAc,YAAYiS,SAAS,CAAC,MAASrS,EAAIwe,SAAUxP,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO9I,OAAOuM,YAAiB1S,EAAIwe,QAAQvP,EAAO9I,OAAO/H,aAAY8B,EAAG,MAAM,CAACwO,YAAY,cAAc,CAACxO,EAAG,QAAQ,CAACF,EAAI6O,GAAG,QAAQ3O,EAAG,QAAQ,CAAC+R,WAAW,CAAC,CAACtU,KAAK,QAAQuU,QAAQ,UAAU9T,MAAO4B,EAAIye,SAAUrM,WAAW,aAAahS,MAAM,CAAC,KAAO,WAAW,YAAc,QAAQiS,SAAS,CAAC,MAASrS,EAAIye,UAAWzP,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO9I,OAAOuM,YAAiB1S,EAAIye,SAASxP,EAAO9I,OAAO/H,aAAwB,aAAX4B,EAAI1B,KAAmB4B,EAAG,MAAM,CAACwO,YAAY,cAAc,CAACxO,EAAG,QAAQ,CAACF,EAAI6O,GAAG,eAAe3O,EAAG,QAAQ,CAAC+R,WAAW,CAAC,CAACtU,KAAK,QAAQuU,QAAQ,UAAU9T,MAAO4B,EAAIgN,SAAUoF,WAAW,aAAahS,MAAM,CAAC,KAAO,OAAO,YAAc,QAAQiS,SAAS,CAAC,MAASrS,EAAIgN,UAAWgC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO9I,OAAOuM,YAAiB1S,EAAIgN,SAASiC,EAAO9I,OAAO/H,aAAY4B,EAAIwP,KAAKtP,EAAG,IAAI,CAACwO,YAAY,QAAQ,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAc,UAAX9O,EAAI1B,KAAiB,6BAA+B,gCAAgC4B,EAAG,MAAM,CAACwO,YAAY,WAAW,CAAa,UAAX1O,EAAI1B,KAAgB4B,EAAG,SAAS,CAACwO,YAAY,cAActO,MAAM,CAAC,SAAWJ,EAAI0e,cAAc1P,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOqP,iBAAiBrP,EAAOsP,kBAAyBve,EAAI2e,aAAajiB,MAAM,KAAM+V,cAAc,CAACzS,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI0e,aAAe,SAAW,SAASxe,EAAG,SAAS,CAACwO,YAAY,cAActO,MAAM,CAAC,SAAWJ,EAAI0e,cAAc1P,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOqP,iBAAiBrP,EAAOsP,kBAAyBve,EAAI4e,aAAaliB,MAAM,KAAM+V,cAAc,CAACzS,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI0e,aAAe,SAAW,SAASxe,EAAG,SAAS,CAACwO,YAAY,WAAWtO,MAAM,CAAC,SAAWJ,EAAI0e,cAAc1P,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOqP,iBAAiBrP,EAAOsP,kBAAyBve,EAAI6e,eAAeniB,MAAM,KAAM+V,cAAc,CAACzS,EAAI6O,GAAG7O,EAAI8O,GAAc,UAAX9O,EAAI1B,KAAiB,UAAY,mBAAoB0B,EAAI8e,aAAc5e,EAAG,IAAI,CAACwO,YAAY,SAAS,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI8e,iBAAiB9e,EAAIwP,QAEn7EnP,GAAkB,GCAtB,MAAM0e,GACJ,oBAAoBP,EAASC,EAAUzR,GACrC,MAAM3J,EAAWhE,2BAEX2f,EAAU,IAAIC,KAAKT,GACnBzP,EAAQiQ,EAAUR,EAAaA,EAAH,kBAC5B,KAAEjjB,EAAI,MAAE+H,SAAgBD,EAAS6b,KAAKC,OAAO,CAAEpQ,QAAO0P,aAC5D,GAAInb,EAAO,MAAMA,EAIjB,OAHI/H,GAAQA,EAAKiQ,YACTnI,EAASE,KAAK,YAAYC,OAAO,CAAExC,GAAIzF,EAAKiQ,KAAKxK,GAAIgM,SAAUA,GAAYwR,EAASA,YAErFjjB,EAGT,oBAAoBijB,EAASC,GAC3B,MAAMpb,EAAWhE,2BACjB,IAAI0P,EAAQyP,EACZ,IAAK,IAAIS,KAAKT,GAAU,CACtB,MAAQjjB,KAAMwf,SAAe1X,EAASE,KAAK,YAAYuB,OAAO,yBAAyBhB,GAAG,WAAY0a,GAASY,cAC/GrQ,EAASgM,GAAQA,EAAKyD,QAAczD,EAAKyD,QAAR,iBAAqCA,EAAH,iBAErE,MAAM,KAAEjjB,EAAI,MAAE+H,SAAgBD,EAAS6b,KAAKG,mBAAmB,CAAEtQ,QAAO0P,aACxE,GAAInb,EAAO,MAAMA,EACjB,OAAO/H,EAGT,gBACE,MAAM8H,EAAWhE,iCACXgE,EAAS6b,KAAKI,UAGtB,gBACE,MAAMjc,EAAWhE,4BACX,KAAE9D,SAAe8H,EAAS6b,KAAKK,UACrC,IAAKhkB,IAASA,EAAKiQ,KAAM,OAAO,KAGhC,IACE,MAAQjQ,KAAMikB,SAAkBnc,EAC7BE,KAAK,YACLuB,OAAO,oBACPhB,GAAG,KAAMvI,EAAKiQ,KAAKxK,IACnBye,SAGH,MAAO,IACFlkB,EAAKiQ,KACRwB,SAAUwS,GAAWA,EAAQxS,SAC7BC,OAAQuS,GAAWA,EAAQvS,QAE7B,MAAO0L,GAEP,OADAlZ,QAAQC,KAAK,+BAAgCiZ,GACtCpd,EAAKiQ,MAIhBkU,kBAAkBC,GAChB,MAAMtc,EAAWhE,2BACjB,OAAOgE,EAAS6b,KAAKQ,kBAAkBE,MAAOC,EAAQC,KACpD,MAAMC,EAAYD,GAAWA,EAAQtU,MAAS,KAC9C,GAAKuU,EAIL,IACE,MAAQxkB,KAAMikB,SAAkBnc,EAC7BE,KAAK,YACLuB,OAAO,oBACPhB,GAAG,KAAMic,EAAS/e,IAClBye,SACGO,EAAS,IACVD,EACH/S,SAAUwS,GAAWA,EAAQxS,SAC7BC,OAAQuS,GAAWA,EAAQvS,QAE7B0S,EAASK,GACT,MAAOC,GACPN,EAASI,QAhBTJ,EAAS,SAsBF,WAAIZ,GCrDJ,IACfphB,KAAA,YACApC,OACA,OACAijB,QAAA,GACAC,SAAA,GACAzR,SAAA,GACA8R,aAAA,GACAxgB,KAAA,QACAogB,cAAA,IAGAjK,QAAA,CACA,qBACA,KAAAqK,aAAA,GACA,IACA,MAAApB,QAAAwC,GAAAC,cAAA,KAAA3B,QAAA,KAAAC,SAAA,KAAAzR,UACAxB,EAAAkS,KAAAlS,KACAA,IACA,KAAAkE,OAAAtC,OAAA,WAAA5B,GACA,KAAA0D,QAAA7S,KAAA,UAEA,MAAAsc,GACA,KAAAmG,aAAAnG,EAAA3R,SAAA,SAGA,qBACA,KAAA8X,aAAA,GACA,IACA,MAAApB,QAAAwC,GAAAE,cAAA,KAAA5B,QAAA,KAAAC,UACAjT,EAAAkS,KAAAlS,KACAA,IACA,KAAAkE,OAAAtC,OAAA,WAAA5B,GACA,KAAA0D,QAAA7S,KAAA,UAEA,MAAAsc,GACA,KAAAmG,aAAAnG,EAAA3R,SAAA,SAGA6X,iBACA,KAAAvgB,KAAA,eAAAA,KAAA,sBCxE6V,MCQzV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBXyB,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,mBAAmB,CAACxO,EAAG,MAAM,CAACwO,YAAY,UAAU,CAACxO,EAAG,MAAM,CAACwO,YAAY,eAAe,CAAC1O,EAAI4O,GAAG,GAAG1O,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,SAAS,CAACwO,YAAY,UAAUM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIkP,QAAQ7S,KAAK,mBAAmB,CAAC6D,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,OAAO7O,EAAI6O,GAAG,YAAY3O,EAAG,SAAS,CAACwO,YAAY,UAAUM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIkP,QAAQ7S,KAAK,YAAY,CAAC6D,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,OAAO7O,EAAI6O,GAAG,kBAAkB3O,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI4O,GAAG,GAAG1O,EAAG,UAAU,CAACwO,YAAY,sBAAsB,CAACxO,EAAG,MAAM,CAACwO,YAAY,mBAAmB,CAAC1O,EAAI4O,GAAG,GAAG1O,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,QAAQ,CAAC+R,WAAW,CAAC,CAACtU,KAAK,QAAQuU,QAAQ,UAAU9T,MAAO4B,EAAIqgB,YAAajO,WAAW,gBAAgB1D,YAAY,aAAatO,MAAM,CAAC,KAAO,OAAO,YAAc,yBAAyBiS,SAAS,CAAC,MAASrS,EAAIqgB,aAAcrR,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOrJ,KAAK+E,QAAQ,QAAQ3K,EAAIsS,GAAGrD,EAAOsD,QAAQ,QAAQ,GAAGtD,EAAOvQ,IAAI,SAAgB,KAAYsB,EAAIsgB,SAAS5jB,MAAM,KAAM+V,YAAY,MAAQ,SAASxD,GAAWA,EAAO9I,OAAOuM,YAAiB1S,EAAIqgB,YAAYpR,EAAO9I,OAAO/H,WAAU8B,EAAG,SAAS,CAACwO,YAAY,YAAYtO,MAAM,CAAC,UAAYJ,EAAIqgB,aAAarR,GAAG,CAAC,MAAQhP,EAAIsgB,WAAW,CAACtgB,EAAI6O,GAAG,YAAa7O,EAAI8e,aAAc5e,EAAG,IAAI,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI8e,iBAAiB9e,EAAIwP,WAAWtP,EAAG,UAAU,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,KAAK,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,IAAI,CAACwO,YAAY,oBAAoB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIugB,MAAMxkB,QAAQ,cAAeiE,EAAIugB,OAASvgB,EAAIugB,MAAMxkB,OAAQmE,EAAG,MAAM,CAACwO,YAAY,cAAc1O,EAAIkQ,GAAIlQ,EAAIugB,OAAO,SAASpR,GAAM,OAAOjP,EAAG,MAAM,CAACxB,IAAIyQ,EAAKnO,GAAG0N,YAAY,YAAYC,MAAM,CAAE,SAAY3O,EAAIwgB,iBAAmBrR,EAAKnO,IAAKgO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIygB,WAAWtR,EAAKnO,OAAO,CAACd,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,KAAK,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAGK,EAAKxR,MAAS,MAAQwR,EAAKC,UAAYD,EAAKnO,GAAG7B,MAAM,EAAE,QAASe,EAAG,MAAM,CAACwO,YAAY,WAAW,CAAC1O,EAAI6O,GAAG,OAAO7O,EAAI8O,GAAGK,EAAKC,UAAYD,EAAKnO,GAAG7B,MAAM,EAAE,SAASe,EAAG,MAAM,CAACwO,YAAY,cAAcC,MAAMQ,EAAKxN,QAAQ,CAACzB,EAAG,OAAO,CAACwO,YAAY,eAAe1O,EAAI6O,GAAG,IAAI7O,EAAI8O,GAAG9O,EAAI0gB,cAAcvR,EAAKxN,SAAS,SAASzB,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,OAAO,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAA4B,MAAxBK,EAAKwR,gBAA0BxR,EAAKwR,gBAAkB,GAAI,IAAI3gB,EAAI8O,GAAGK,EAAKwH,kBAAkBzW,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,OAAO,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI0a,WAAWvL,EAAKyR,oBAAoB1gB,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,SAAS,CAACwO,YAAY,WAAWtO,MAAM,CAAC,SAA2B,YAAhB+O,EAAKxN,QAAsBqN,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOsP,kBAAkBve,EAAIwgB,iBAAmBrR,EAAKnO,GAAKhB,EAAI6gB,mBAAqB7gB,EAAIygB,WAAWtR,EAAKnO,OAAO,CAACd,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI6O,GAAG,IAAI7O,EAAI8O,GAAG9O,EAAIwgB,iBAAmBrR,EAAKnO,GAAK,OAAS,QAAQ,cAAa,GAAGd,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,KAAK,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG,YAAY3O,EAAG,IAAI,CAACwO,YAAY,kBAAkB,CAAC1O,EAAI6O,GAAG,2BAA2B3O,EAAG,SAAS,CAACwO,YAAY,eAAeM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIkP,QAAQ7S,KAAK,mBAAmB,CAAC6D,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,OAAO7O,EAAI6O,GAAG,qBAE11HxO,GAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,SAAS,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,aACtM,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,KAAK,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,YAAY3O,EAAG,IAAI,CAACwO,YAAY,oBAAoB,CAAC1O,EAAI6O,GAAG,0BAChP,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,KAAK,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,IAAI,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,wB,aC8H9N,IACflR,KAAA,YACApC,OACA,OACAglB,MAAA,GACAC,eAAA,GACAH,YAAA,GACAvB,aAAA,GACAzI,aAAA,OAGA,gBACA,MAAA7K,QAAA0U,GAAAX,UACA/T,GAAA,KAAAkE,OAAAtC,OAAA,WAAA5B,GACA,KAAA6K,aAAAtT,YAAA,KAAA+d,UAAA,WACA,KAAAA,aAEA3J,gBACA,KAAAd,cAAA3T,cAAA,KAAA2T,eAEA5B,QAAA,CACA,kBACA,IACA,KAAA8L,YAAAzH,cAAAiI,YACA,MAAAd,MAEAQ,WAAAzf,GACA,KAAAwf,eAAAxf,GAEA,yBACA,IACA,MAAAwK,EAAA,KAAAkE,OAAAzE,MAAAO,KAEA,GADA/L,QAAAyM,IAAA,wCAAAsU,eAAA,KAAAA,eAAA1O,OAAAtG,KAAAxK,MACAwK,EAAA,YAAA0D,QAAA7S,KAAA,UACA,SAAAmkB,eAAA,UAAApe,MAAA,SACA,MAAA+M,QAAA2J,cAAAkI,SAAA,KAAAR,eAAAhV,EAAAxK,IACAvB,QAAAyM,IAAA,wCAAA9I,OAAA+L,KAAAnO,KACA,KAAA0O,OAAAtC,OAAA,cAAA+B,EAAAnO,IACA,KAAAkO,QAAA7S,KAAA,CAAA6d,KAAA,QAAAlD,MAAA,CAAA5T,OAAA+L,EAAAnO,MACA,MAAA2X,GACAlZ,QAAA6D,MAAA,iCAAAqV,GACA,KAAAmG,aAAAnG,EAAA3R,SAAA,WAGA,iBACA,IACA,MAAAwE,EAAA,KAAAkE,OAAAzE,MAAAO,KAEA,GADA/L,QAAAyM,IAAA,gCAAA+U,MAAA,KAAAZ,YAAAvO,OAAAtG,KAAAxK,MACAwK,EAAA,YAAA0D,QAAA7S,KAAA,UACA,SAAAgkB,YAAA,UAAAje,MAAA,WACA,MAAA+M,QAAA2J,cAAAkI,SAAA,KAAAX,YAAA7U,EAAAxK,IACAvB,QAAAyM,IAAA,gCAAA9I,OAAA+L,KAAAnO,KACA,KAAA0O,OAAAtC,OAAA,cAAA+B,EAAAnO,IACA,KAAAkO,QAAA7S,KAAA,CAAA6d,KAAA,QAAAlD,MAAA,CAAA5T,OAAA+L,EAAAnO,MACA,MAAA2X,GACAlZ,QAAA6D,MAAA,yBAAAqV,GACA,KAAAmG,aAAAnG,EAAA3R,SAAA,WAGA0Z,cAAA/e,GACA,MAAAuf,EAAA,CACA,cACA,cACA,aAEA,OAAAA,EAAAvf,OAEA+Y,WAAAnY,GACA,MAAAoY,EAAA,IAAA1Z,KAAAsB,GACArB,EAAA,IAAAD,KACA0a,EAAAza,EAAAyZ,EAEA,OAAAgB,EAAA,IACA,KACAA,EAAA,KACAxa,KAAAyH,MAAA+S,EAAA,WACAA,EAAA,MACAxa,KAAAyH,MAAA+S,EAAA,YAEAhB,EAAAwG,mBAAA,YCjN6V,MCQzV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBXphB,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,yBAAyB,CAACxO,EAAG,MAAM,CAACwO,YAAY,UAAU,CAACxO,EAAG,MAAM,CAACwO,YAAY,eAAe,CAAC1O,EAAI4O,GAAG,GAAG1O,EAAG,MAAM,CAACwO,YAAY,eAAe,CAAE1O,EAAIohB,YAAalhB,EAAG,SAAS,CAACwO,YAAY,UAAUM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIkP,QAAQ7S,KAAK,aAAa,CAAC6D,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI6O,GAAG,cAAc7O,EAAIwP,KAAKtP,EAAG,SAAS,CAACwO,YAAY,UAAUM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIkP,QAAQ7S,KAAK,YAAY,CAAC6D,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,OAAO7O,EAAI6O,GAAG,kBAAkB3O,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,UAAU,CAACwO,YAAY,kBAAkB,CAAC1O,EAAI4O,GAAG,GAAG1O,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,MAAM,CAACwO,YAAY,aAAa,CAAC1O,EAAI4O,GAAG,GAAG1O,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI4O,GAAG,GAAG1O,EAAG,QAAQ,CAAC+R,WAAW,CAAC,CAACtU,KAAK,QAAQuU,QAAQ,UAAU9T,MAAO4B,EAAIrC,KAAMyU,WAAW,SAAS1D,YAAY,aAAatO,MAAM,CAAC,KAAO,OAAO,YAAc,eAAeiS,SAAS,CAAC,MAASrS,EAAIrC,MAAOqR,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO9I,OAAOuM,YAAiB1S,EAAIrC,KAAKsR,EAAO9I,OAAO/H,WAAU8B,EAAG,IAAI,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,oBAAoB3O,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI4O,GAAG,GAAG1O,EAAG,MAAM,CAACwO,YAAY,sBAAsB,CAACxO,EAAG,SAAS,CAACwO,YAAY,aAAatO,MAAM,CAAC,SAAWJ,EAAIqhB,YAAc,GAAGrS,GAAG,CAAC,MAAQhP,EAAIshB,kBAAkB,CAACthB,EAAI6O,GAAG,OAAO3O,EAAG,QAAQ,CAAC+R,WAAW,CAAC,CAACtU,KAAK,QAAQuU,QAAQ,iBAAiB9T,MAAO4B,EAAIqhB,WAAYjP,WAAW,aAAamP,UAAU,CAAC,QAAS,KAAQ7S,YAAY,eAAetO,MAAM,CAAC,KAAO,SAAS,IAAM,IAAI,IAAM,IAAI,SAAW,IAAIiS,SAAS,CAAC,MAASrS,EAAIqhB,YAAarS,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO9I,OAAOuM,YAAiB1S,EAAIqhB,WAAWrhB,EAAIwhB,GAAGvS,EAAO9I,OAAO/H,SAAQ,KAAO,SAAS6Q,GAAQ,OAAOjP,EAAIyhB,mBAAmBvhB,EAAG,SAAS,CAACwO,YAAY,aAAatO,MAAM,CAAC,SAAWJ,EAAIqhB,YAAc,GAAGrS,GAAG,CAAC,MAAQhP,EAAI0hB,kBAAkB,CAAC1hB,EAAI6O,GAAG,SAAS3O,EAAG,IAAI,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,mBAAmB3O,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI4O,GAAG,GAAG1O,EAAG,WAAW,CAAC+R,WAAW,CAAC,CAACtU,KAAK,QAAQuU,QAAQ,UAAU9T,MAAO4B,EAAIwR,YAAaY,WAAW,gBAAgB1D,YAAY,gBAAgBtO,MAAM,CAAC,YAAc,eAAe,KAAO,KAAKiS,SAAS,CAAC,MAASrS,EAAIwR,aAAcxC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO9I,OAAOuM,YAAiB1S,EAAIwR,YAAYvC,EAAO9I,OAAO/H,WAAU8B,EAAG,IAAI,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,yBAAyB3O,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,SAAS,CAACwO,YAAY,aAAatO,MAAM,CAAC,SAAWJ,EAAI2hB,YAAY3S,GAAG,CAAC,MAAQhP,EAAI4hB,eAAe,CAAE5hB,EAAI2hB,WAAYzhB,EAAG,OAAO,CAACwO,YAAY,gBAAgB1O,EAAIwP,KAAKtP,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI6O,GAAG,IAAI7O,EAAI8O,GAAG9O,EAAI2hB,WAAa,SAAW,QAAQ,SAAU3hB,EAAI8e,aAAc5e,EAAG,IAAI,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI8e,iBAAiB9e,EAAIwP,WAAYxP,EAAImP,KAAMjP,EAAG,UAAU,CAACwO,YAAY,mBAAmB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI4O,GAAG,GAAG1O,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAImP,KAAKxR,MAAQ,cAAcuC,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,MAAM,CAACwO,YAAY,sBAAsB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAImP,KAAKC,eAAelP,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAImP,KAAKwH,aAAa,SAAU3W,EAAImP,KAAKqC,YAAatR,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAImP,KAAKqC,kBAAkBxR,EAAIwP,OAAOtP,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,KAAK,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,MAAM,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAImP,KAAKC,aAAalP,EAAG,SAAS,CAACwO,YAAY,WAAWM,GAAG,CAAC,MAAQhP,EAAI6hB,aAAa,CAAC7hB,EAAI6O,GAAG,YAAY3O,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,MAAM,CAACwO,YAAY,eAAe,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,MAAM,CAACwO,YAAY,qBAAqB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI8hB,eAAe5hB,EAAG,SAAS,CAACwO,YAAY,WAAWM,GAAG,CAAC,MAAQhP,EAAI+hB,iBAAiB,CAAC/hB,EAAI6O,GAAG,gBAAgB3O,EAAG,MAAM,CAACwO,YAAY,mBAAmB,CAACxO,EAAG,SAAS,CAACwO,YAAY,qBAAqBM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIkP,QAAQ7S,KAAK,CAAE6d,KAAM,QAASlD,MAAO,CAAE5T,OAAQpD,EAAImP,KAAKnO,SAAW,CAACd,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI6O,GAAG,YAAY3O,EAAG,SAAS,CAACwO,YAAY,uBAAuBM,GAAG,CAAC,MAAQhP,EAAIgiB,cAAc,CAAC9hB,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI6O,GAAG,oBAAoB7O,EAAIwP,UAEt8JnP,GAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,SAAS,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,aACtM,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,KAAK,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,WAAW3O,EAAG,IAAI,CAACwO,YAAY,oBAAoB,CAAC1O,EAAI6O,GAAG,wBAClM,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,KAAK,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,aACpL,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,QAAQ,CAACwO,YAAY,eAAe,CAACxO,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,SAAS7O,EAAI6O,GAAG,aACrJ,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,QAAQ,CAACwO,YAAY,eAAe,CAACxO,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI6O,GAAG,aACpJ,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,QAAQ,CAACwO,YAAY,eAAe,CAACxO,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI6O,GAAG,aACpJ,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,KAAK,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,aAAa3O,EAAG,IAAI,CAACwO,YAAY,oBAAoB,CAAC1O,EAAI6O,GAAG,oBCmK7O,IACflR,KAAA,iBACApC,OACA,OACAoC,KAAA,GACA0jB,WAAA,EACA7P,YAAA,GACAsN,aAAA,GACA3P,KAAA,KACA2S,WAAA,GACAH,YAAA,EACAP,YAAA,OAGA,gBACA,MAAA5V,QAAA0U,GAAAX,UACA/T,GACA,KAAAkE,OAAAtC,OAAA,WAAA5B,SAEA,KAAAyW,mBAEA,KAAA/S,QAAA7S,KAAA,WAGAoY,QAAA,CACA,wBACA,IACA,MAAArR,EAAA,KAAAsM,OAAAzE,MAAA7H,OACAA,IACA,KAAAge,kBAAAtI,cAAAC,QAAA3V,IAEA,MAAAuV,GACAlZ,QAAAC,KAAA,uCAAAiZ,GACA,KAAAyI,YAAA,OAGAE,kBACA,KAAAD,WAAA,GACA,KAAAA,cAGAK,kBACA,KAAAL,WAAA,GACA,KAAAA,cAGA,qBACA,KAAAvC,aAAA,GACA,KAAA6C,YAAA,EAEA,IACA,MAAAnW,EAAA,KAAAkE,OAAAzE,MAAAO,KACA,IAAAA,EAAA,YAAA0D,QAAA7S,KAAA,UAEA,MAAA8S,QAAA2J,cAAAoJ,WAAA1W,EAAAxK,GAAA,CACArD,KAAA,KAAAA,KACA0jB,WAAA,KAAAA,WACA7P,YAAA,KAAAA,cAGA,KAAArC,OACA,KAAAO,OAAAtC,OAAA,cAAA+B,EAAAnO,IACA,KAAA8gB,WAAA,GAAA7iB,OAAA4T,SAAAsP,sBAAAhT,EAAAnO,KAGA,KAAAsX,UAAA,KACA,MAAA8J,EAAAC,SAAAC,cAAA,oBACAF,GACAA,EAAAG,eAAA,CAAAC,SAAA,aAIA,MAAA7J,GACA,KAAAmG,aAAAnG,EAAA3R,SAAA,SACA,QACA,KAAA2a,YAAA,IAGA,mBACA,UACAc,UAAAC,UAAAC,UAAA,KAAAxT,KAAAC,UACA,KAAAwT,gBAAA,WACA,MAAAjK,GACAlZ,QAAA6D,MAAA,QAAAqV,KAGA,uBACA,UACA8J,UAAAC,UAAAC,UAAA,KAAAb,YACA,KAAAc,gBAAA,WACA,MAAAjK,GACAlZ,QAAA6D,MAAA,QAAAqV,KAGA,oBACA,MAAAkK,EAAA,aAAA1T,KAAAxR,MAAA,iBACOsC,KAAPkP,KAAAC,kBACOnP,KAAPkP,KAAAwH,iBACE1W,KAAFkP,KAAAqC,YAAA,aAAArC,KAAAqC,YAAA,YACOvR,KAAP6hB,aAEA,UACAW,UAAAC,UAAAC,UAAAE,GACA,KAAAD,gBAAA,WACA,MAAAjK,GACAlZ,QAAA6D,MAAA,QAAAqV,KAGAiK,gBAAA5b,GAEA,MAAA8b,EAAAT,SAAAU,cAAA,OACAD,EAAAE,YAAAhc,EACA8b,EAAAlS,MAAAqS,QAAA,ySAYAZ,SAAAa,KAAAC,YAAAL,GACAxJ,WAAA,KACA+I,SAAAa,KAAAE,YAAAN,IACA,QC1SmW,MCQ/V,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX/iB,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,UAAU,CAACxO,EAAG,SAAS,CAACwO,YAAY,OAAOM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIkP,QAAQmU,UAAU,CAACrjB,EAAI6O,GAAG,UAAU3O,EAAG,KAAK,CAACwO,YAAY,SAAS,CAAC1O,EAAI6O,GAAG,MAAM7O,EAAI8O,GAAG9O,EAAIkJ,OAASlJ,EAAIkJ,OAAOvL,KAAO,WAAYqC,EAAIkJ,OAAQhJ,EAAG,MAAM,CAACwO,YAAY,SAAS,CAACxO,EAAG,MAAM,CAACwO,YAAY,QAAQ,CAAC1O,EAAI6O,GAAG,MAAM7O,EAAI8O,GAAG9O,EAAIkJ,OAAOjB,WAAW/H,EAAG,MAAM,CAACwO,YAAY,QAAQ,CAAC1O,EAAI6O,GAAG,MAAM7O,EAAI8O,GAAG9O,EAAIkJ,OAAOhB,UAAUnM,WAAWmE,EAAG,MAAM,CAACwO,YAAY,QAAQ,CAAC1O,EAAI6O,GAAG,MAAM7O,EAAI8O,GAAG9O,EAAIkJ,OAAOxE,MAAM3I,aAAaiE,EAAIwP,KAAMxP,EAAIkJ,OAAQhJ,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,KAAK,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,MAAM,CAACwO,YAAY,aAAa1O,EAAIkQ,GAAIlQ,EAAIkJ,OAAOhB,WAAW,SAASgJ,GAAK,OAAOhR,EAAG,MAAM,CAACxB,IAAIwS,EAAIxC,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,aAAatO,MAAM,CAAC,IAAMJ,EAAIoR,YAAYF,GAAOlR,EAAIoR,YAAYF,GAAKG,MAAQ,mDAAmDnR,EAAG,MAAM,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIoR,YAAYF,GAAOlR,EAAIoR,YAAYF,GAAKvT,KAAOuT,WAAY,KAAKlR,EAAIwP,QAE/mCnP,GAAkB,GCwBP,IACf1C,KAAA,aACApC,OACA,OACA2N,OAAA,KACAkI,YAAA,KAGA,gBACA,MAAApQ,EAAA,KAAA+V,OAAAlX,OAAAmB,GACAkI,EAAA,KAAAwG,OAAAzE,MAAAzD,QAAAvE,KAAAlE,KAAAiC,SAAA,KACA,KAAAkI,SACA,MAAAhB,QAAA,KAAAmP,gBACA,KAAAjG,YAAAlJ,EAAAoP,OAAA,CAAAC,EAAAzU,KAAAyU,EAAAzU,EAAA9B,IAAA8B,EAAAyU,GAAA,KAEA9C,QAAA,CACA,sBACA,IACA,OACA,CAAAzT,GAAA,eAAArD,KAAA,QAAA0T,MAAA,kDACA,CAAArQ,GAAA,eAAArD,KAAA,SAAA0T,MAAA,oDAEA,MAAAsH,GAAA,aChD8V,MCQ1V,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX5Y,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,MAAM,CAACwO,YAAY,UAAU,CAACxO,EAAG,MAAM,CAACwO,YAAY,eAAe,CAAC1O,EAAI4O,GAAG,GAAI5O,EAAI0P,OAAOzE,MAAMO,KAAMtL,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAActO,MAAM,CAAC,IAAMJ,EAAIsjB,gBAAgB,IAAM,UAAUpjB,EAAG,OAAO,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIujB,oBAAoBrjB,EAAG,SAAS,CAACwO,YAAY,UAAUM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIkP,QAAQ7S,KAAK,eAAe,CAAC6D,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI6O,GAAG,YAAY3O,EAAG,SAAS,CAACwO,YAAY,iBAAiBM,GAAG,CAAC,MAAQhP,EAAIwjB,SAAS,CAACtjB,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI6O,GAAG,YAAY3O,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,SAAS,CAACwO,YAAY,kBAAkBM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIkP,QAAQ7S,KAAK,aAAa,CAAC6D,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI6O,GAAG,qBAAqB3O,EAAG,OAAO,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,UAAU,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,eAAe7O,EAAI4O,GAAG,GAAG5O,EAAI4O,GAAG,GAAG1O,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,SAAS,CAACwO,YAAY,mBAAmBM,GAAG,CAAC,MAAQhP,EAAIyjB,aAAa,CAACvjB,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,OAAO7O,EAAI6O,GAAG,YAAY3O,EAAG,SAAS,CAACwO,YAAY,qBAAqBM,GAAG,CAAC,MAAQhP,EAAI0jB,eAAe,CAACxjB,EAAG,OAAO,CAACwO,YAAY,YAAY,CAAC1O,EAAI6O,GAAG,QAAQ7O,EAAI6O,GAAG,gBAAgB7O,EAAI4O,GAAG,KAAK1O,EAAG,UAAU,CAAC0R,IAAI,cAAclD,YAAY,gBAAgB,CAAC1O,EAAI4O,GAAG,GAAG1O,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,MAAM,CAACwO,YAAY,uBAAuB,CAACxO,EAAG,MAAM,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,KAAK,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,IAAI,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG,uBAAuB3O,EAAG,SAAS,CAACwO,YAAY,WAAWM,GAAG,CAAC,MAAQhP,EAAIkiB,aAAa,CAACliB,EAAI6O,GAAG,YAAY3O,EAAG,MAAM,CAACwO,YAAY,yBAAyB,CAACxO,EAAG,MAAM,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,KAAK,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,IAAI,CAACwO,YAAY,aAAa,CAAC1O,EAAI6O,GAAG,sBAAsB3O,EAAG,SAAS,CAACwO,YAAY,WAAWM,GAAG,CAAC,MAAQhP,EAAI2jB,UAAU,CAAC3jB,EAAI6O,GAAG,cAAc3O,EAAG,MAAM,CAACwO,YAAY,qBAAqB,CAAC1O,EAAI4O,GAAG,GAAG1O,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,QAAQ,CAAC+R,WAAW,CAAC,CAACtU,KAAK,QAAQuU,QAAQ,UAAU9T,MAAO4B,EAAIqgB,YAAajO,WAAW,gBAAgB1D,YAAY,aAAatO,MAAM,CAAC,KAAO,OAAO,YAAc,yBAAyBiS,SAAS,CAAC,MAASrS,EAAIqgB,aAAcrR,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOrJ,KAAK+E,QAAQ,QAAQ3K,EAAIsS,GAAGrD,EAAOsD,QAAQ,QAAQ,GAAGtD,EAAOvQ,IAAI,SAAgB,KAAYsB,EAAIghB,SAAStkB,MAAM,KAAM+V,YAAY,MAAQ,SAASxD,GAAWA,EAAO9I,OAAOuM,YAAiB1S,EAAIqgB,YAAYpR,EAAO9I,OAAO/H,WAAU8B,EAAG,SAAS,CAACwO,YAAY,YAAYtO,MAAM,CAAC,UAAYJ,EAAIqgB,aAAarR,GAAG,CAAC,MAAQhP,EAAIghB,WAAW,CAAChhB,EAAI6O,GAAG,YAAa7O,EAAI8e,aAAc5e,EAAG,IAAI,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI8e,iBAAiB9e,EAAIwP,WAAWxP,EAAI4O,GAAG,QAEhlGvO,GAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,SAAS,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,OAAO3O,EAAG,OAAO,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,gBACrM,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACwO,YAAY,cAAc,CAACxO,EAAG,OAAO,CAACwO,YAAY,mBAAmB,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,MAAMF,EAAI6O,GAAG,WAChK,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,uBAAuB3O,EAAG,MAAMF,EAAI6O,GAAG,4BACpI,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,MAAM,CAACwO,YAAY,wBAAwB,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,MAAM,CAACwO,YAAY,wBAAwB,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,MAAM,CAACwO,YAAY,wBAAwB,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,MAAM,CAACwO,YAAY,wBAAwB,CAAC1O,EAAI6O,GAAG,WACtU,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,KAAK,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,IAAI,CAACwO,YAAY,oBAAoB,CAAC1O,EAAI6O,GAAG,iBACjM,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,eAAe,CAACxO,EAAG,KAAK,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,cAAc3O,EAAG,IAAI,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,uBAC5L,WAAY,IAAI7O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACwO,YAAY,oBAAoB,CAACxO,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,KAAK,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,IAAI,CAACwO,YAAY,oBAAoB,CAAC1O,EAAI6O,GAAG,mBAAmB3O,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,KAAK,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,IAAI,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,oCAAoC3O,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,OAAO3O,EAAG,KAAK,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,UAAU3O,EAAG,IAAI,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,mCAAmC3O,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,QAAQ3O,EAAG,KAAK,CAACwO,YAAY,iBAAiB,CAAC1O,EAAI6O,GAAG,WAAW3O,EAAG,IAAI,CAACwO,YAAY,gBAAgB,CAAC1O,EAAI6O,GAAG,uCC2Ix6B,IACflR,KAAA,WACApC,OACA,OACA8kB,YAAA,GACAvB,aAAA,GACA3P,KAAA,KACAkH,aAAA,OAGAlC,SAAA,CACAyP,UAAA,aAAAzU,MACAW,WACA,SAAAX,OAAA,KAAAA,KAAAgB,aAAA,SACA,MAAA3I,EAAA,KAAA2H,KAAAgB,aACA,OAAA3I,EAAAzL,OAAA,GAAAyL,EAAAiP,MAAA1X,OAAAwR,WAEAV,UAAA,YAAAV,MAAA,KAAAO,OAAAzE,MAAAO,MAAA,KAAA2D,KAAAqH,WAAA,KAAA9G,OAAAzE,MAAAO,KAAAxK,IACA6iB,WAAA,YAAAD,SAAA,KAAA9T,UAAA,KAAAD,UAEA,gBACA,MAAArE,QAAA0U,GAAAX,UACA/T,IACA/L,QAAAyM,IAAA,eAAAV,GACA,KAAAkE,OAAAtC,OAAA,WAAA5B,IAEA,KAAA6K,aAAAtT,YAAA,KAAA+gB,SAAA,WACA,KAAAA,YAEA3M,gBACA,KAAAd,cAAA3T,cAAA,KAAA2T,eAEA5B,QAAA,CACA,iBACA,IACA,MAAAgD,EAAA,KAAA/H,OAAAzE,MAAA7H,OACA,IAAAqU,EAAA,iBAAAtI,KAAA,MACA,KAAAA,WAAA2J,cAAAC,QAAAtB,GACA,MAAAkB,GAAAlZ,QAAAC,KAAA,yBAAAiZ,KAEAoL,SAAA,KAAA7U,QAAA7S,KAAA,UAEAsnB,UAAA,KAAAzU,QAAA7S,KAAA,WACA,mBACA,MAAAmP,EAAA,KAAAkE,OAAAzE,MAAAO,KACA,IAAAA,EAAA,YAAA0D,QAAA7S,KAAA,UACA,KAAA6S,QAAA7S,KAAA,iBAEA,iBACA,KAAAyiB,aAAA,GACA,IACA,MAAAtT,EAAA,KAAAkE,OAAAzE,MAAAO,KAEA,GADA/L,QAAAyM,IAAA,+BAAA+U,MAAA,KAAAZ,YAAAvO,OAAAtG,KAAAxK,MACAwK,EAAA,YAAA0D,QAAA7S,KAAA,UACA,SAAAgkB,YAAA,UAAAje,MAAA,WACA,MAAA+M,QAAA2J,cAAAkI,SAAA,KAAAX,YAAA7U,EAAAxK,IACAvB,QAAAyM,IAAA,+BAAA9I,OAAA+L,KAAAnO,KACA,KAAA0O,OAAAtC,OAAA,cAAA+B,EAAAnO,UACA,KAAA8iB,WACA,KAAA5U,QAAA7S,KAAA,CAAA6d,KAAA,QAAAlD,MAAA,CAAA5T,OAAA+L,EAAAnO,MACA,MAAA2X,GACA,KAAAmG,aAAAnG,EAAA3R,SAAA,WAGA,mBACA,KAAA8X,aAAA,GACA,IACA,MAAAtT,EAAA,KAAAkE,OAAAzE,MAAAO,KACA,IAAAA,EAAA,YAAA0D,QAAA7S,KAAA,UACA,MAAA8S,QAAA2J,cAAAkL,oBAAAxY,EAAAxK,IACA,KAAA0O,OAAAtC,OAAA,cAAA+B,EAAAnO,UACA,KAAAsX,YACA,KAAApJ,QAAA7S,KAAA,CAAA6d,KAAA,QAAAlD,MAAA,CAAA5T,OAAA+L,EAAAnO,MACA,MAAA2X,GACA,KAAAmG,aAAAnG,EAAA3R,SAAA,eAGA,qBACAkZ,GAAAZ,UACA,KAAA5P,OAAAtC,OAAA,iBACA,KAAAsC,OAAAtC,OAAA,oBACA,KAAA8B,QAAA7S,KAAA,UAEAqnB,eACA,KAAAlL,MAAAyL,YAAA1B,eAAA,CAAAC,SAAA,YAEAc,gBACA,MAAA9X,EAAA,KAAAkE,OAAAzE,MAAAO,KACA,IAAAA,EAAA,iDACA,GAAAA,EAAAyB,OAAA,OAAAzB,EAAAyB,OACA,MAAAuI,GAAAhK,EAAAwB,WAAAxB,EAAAuD,MAAAvD,EAAAuD,MAAAmV,MAAA,cAAA7iB,WAAAlC,MAAA,KAAAsW,cACAC,EAAA,SACAC,EAAA,SACAC,EAAAC,mBAAA,0GAAAH,mGAAAC,sCAAAH,kBACA,0CAAAI,GAEA2N,cACA,MAAA/X,EAAA,KAAAkE,OAAAzE,MAAAO,KACA,OAAAA,EACAA,EAAAwB,SAAAxB,EAAAwB,SACAxB,EAAAuD,MAAAvD,EAAAuD,MAAAmV,MAAA,aAFA,QCrP4V,MCQxV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBXnkB,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACwO,YAAY,qBAAqB,CAACxO,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,KAAK,CAACwO,YAAY,SAAS,CAAC1O,EAAI6O,GAAG,UAAW7O,EAAIwL,KAAMtL,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,MAAM,CAACwO,YAAY,oBAAoB,CAACxO,EAAG,MAAM,CAACwO,YAAY,iBAAiBM,GAAG,CAAC,MAAQhP,EAAImkB,eAAe,CAACjkB,EAAG,MAAM,CAACwO,YAAY,SAAStO,MAAM,CAAC,IAAMJ,EAAIokB,YAAYnX,QAAUjN,EAAIqkB,cAAc,IAAM,QAAQrV,GAAG,CAAC,MAAQhP,EAAIskB,qBAAsBtkB,EAAIukB,YAAarkB,EAAG,MAAM,CAACwO,YAAY,kBAAkB,CAACxO,EAAG,MAAM,CAACwO,YAAY,mBAAmBxO,EAAG,OAAO,CAACF,EAAI6O,GAAG,cAAc7O,EAAIwP,OAAOtP,EAAG,SAAS,CAACwO,YAAY,kBAAkBtO,MAAM,CAAC,SAAWJ,EAAIukB,aAAavV,GAAG,CAAC,MAAQhP,EAAImkB,eAAe,CAACnkB,EAAI6O,GAAG,IAAI7O,EAAI8O,GAAG9O,EAAIukB,YAAc,SAAW,QAAQ,WAAWrkB,EAAG,MAAM,CAACwO,YAAY,gBAAgB,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAACxO,EAAG,QAAQ,CAACF,EAAI6O,GAAG,SAAS3O,EAAG,QAAQ,CAAC+R,WAAW,CAAC,CAACtU,KAAK,QAAQuU,QAAQ,UAAU9T,MAAO4B,EAAIokB,YAAYpX,SAAUoF,WAAW,yBAAyBhS,MAAM,CAAC,KAAO,OAAO,YAAc,SAAS,UAAYJ,EAAIwkB,WAAWnS,SAAS,CAAC,MAASrS,EAAIokB,YAAYpX,UAAWgC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO9I,OAAOuM,WAAiB1S,EAAI8T,KAAK9T,EAAIokB,YAAa,WAAYnV,EAAO9I,OAAO/H,aAAa8B,EAAG,MAAM,CAACwO,YAAY,cAAc,CAACxO,EAAG,QAAQ,CAACF,EAAI6O,GAAG,QAAQ3O,EAAG,QAAQ,CAAC+R,WAAW,CAAC,CAACtU,KAAK,QAAQuU,QAAQ,UAAU9T,MAAO4B,EAAIwL,KAAKuD,MAAOqD,WAAW,eAAe1D,YAAY,iBAAiBtO,MAAM,CAAC,KAAO,QAAQ,SAAW,IAAIiS,SAAS,CAAC,MAASrS,EAAIwL,KAAKuD,OAAQC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO9I,OAAOuM,WAAiB1S,EAAI8T,KAAK9T,EAAIwL,KAAM,QAASyD,EAAO9I,OAAO/H,aAAa8B,EAAG,MAAM,CAACwO,YAAY,cAAc,CAACxO,EAAG,QAAQ,CAACF,EAAI6O,GAAG,UAAU3O,EAAG,QAAQ,CAACwO,YAAY,iBAAiBtO,MAAM,CAAC,KAAO,OAAO,SAAW,IAAIiS,SAAS,CAAC,MAAQrS,EAAIykB,WAAWzkB,EAAIwL,KAAKoV,mBAAmB1gB,EAAG,MAAM,CAACwO,YAAY,WAAW,CAAG1O,EAAIwkB,UAA2F,CAACtkB,EAAG,SAAS,CAACwO,YAAY,cAAcM,GAAG,CAAC,MAAQhP,EAAI0kB,cAAc,CAAC1kB,EAAI6O,GAAG,QAAQ3O,EAAG,SAAS,CAACwO,YAAY,MAAMM,GAAG,CAAC,MAAQhP,EAAI2kB,aAAa,CAAC3kB,EAAI6O,GAAG,SAA1O3O,EAAG,SAAS,CAACwO,YAAY,MAAMM,GAAG,CAAC,MAAQhP,EAAI4kB,aAAa,CAAC5kB,EAAI6O,GAAG,aAAgL,KAAK7O,EAAIwP,KAAKtP,EAAG,MAAM,CAACwO,YAAY,YAAYxO,EAAG,MAAM,CAACwO,YAAY,iBAAiB,CAACxO,EAAG,KAAK,CAACF,EAAI6O,GAAG,UAAU3O,EAAG,MAAM,CAACwO,YAAY,cAAc,CAACxO,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI6kB,UAAUC,YAAc,MAAM5kB,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,YAAY3O,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI6kB,UAAUE,MAAQ,MAAM7kB,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,YAAY3O,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI6kB,UAAUG,gBAAkB,MAAM9kB,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,YAAY3O,EAAG,MAAM,CAACwO,YAAY,aAAa,CAACxO,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI6kB,UAAUI,aAAe,MAAM/kB,EAAG,MAAM,CAACwO,YAAY,cAAc,CAAC1O,EAAI6O,GAAG,eAAe3O,EAAG,MAAM,CAACwO,YAAY,YAAYxO,EAAG,MAAM,CAACwO,YAAY,mBAAmB,CAACxO,EAAG,SAAS,CAACwO,YAAY,MAAMM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjP,EAAIkP,QAAQ7S,KAAK,YAAY,CAAC2D,EAAI6O,GAAG,UAAU3O,EAAG,SAAS,CAACwO,YAAY,aAAaM,GAAG,CAAC,MAAQhP,EAAIwjB,SAAS,CAACxjB,EAAI6O,GAAG,YAAa7O,EAAI8e,aAAc5e,EAAG,IAAI,CAACwO,YAAY,SAAS,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAI8e,iBAAiB9e,EAAIwP,KAAMxP,EAAIklB,eAAgBhlB,EAAG,IAAI,CAACwO,YAAY,WAAW,CAAC1O,EAAI6O,GAAG7O,EAAI8O,GAAG9O,EAAIklB,mBAAmBllB,EAAIwP,UAEj9GnP,GAAkB,GCkHP,IACf1C,KAAA,cACApC,OACA,OACAiQ,KAAA,KACA4Y,YAAA,CACApX,SAAA,GACAC,OAAA,IAEA4X,UAAA,CACAC,WAAA,EACAC,KAAA,EACAC,eAAA,EACAC,YAAA,GAEAT,WAAA,EACAD,aAAA,EACAY,gBAAA,GACArG,aAAA,GACAoG,eAAA,KAGA/Q,SAAA,CACAkQ,gBACA,SAAA7Y,KAAA,SACA,MAAAgK,GAAA,KAAAhK,KAAAxK,IAAA,KAAA7B,MAAA,KAAAsW,cACAC,EAAA,SACAC,EAAA,SACAC,EAAAC,mBAAA,4GAAAH,mGAAAC,sCAAAH,kBACA,0CAAAI,IAGA,sBACA,KAAAwP,qBACA,KAAAC,wBACA,KAAAC,iBAEA7Q,QAAA,CACA,qBACA,MAAAjJ,QAAA0U,GAAAX,UACA/T,GACA,KAAAA,OACA,KAAAkE,OAAAtC,OAAA,WAAA5B,IAEA,KAAA0D,QAAA7S,KAAA,WAIA,wBACA,QAAAmP,KAEA,IACA,MAAAnI,EAAAhE,4BACA,KAAA9D,EAAA,MAAA+H,SAAAD,EACAE,KAAA,YACAuB,OAAA,KACAhB,GAAA,UAAA0H,KAAAxK,IACAye,SAEA,GAAAnc,GAAA,aAAAA,EAAAkS,KACA,MAAAlS,EAGA/H,IACA,KAAA6oB,YAAA,CACApX,SAAAzR,EAAAyR,UAAA,GACAC,OAAA1R,EAAA0R,QAAA,KAGA,MAAA3J,GACA7D,QAAA6D,MAAA,YAAAA,GACA,KAAAwb,aAAA,aAIA,sBACA,QAAAtT,KAEA,IACAnM,2BAIA,KAAAwlB,UAAA,CACAC,WAAA,EACAC,KAAA,EACAC,eAAA,EACAC,YAAA,GAEA,MAAA3hB,GACA7D,QAAA6D,MAAA,YAAAA,KAIAshB,aACA,KAAAJ,WAAA,EACA,KAAAW,gBAAA,SAAAf,cAGAO,aACA,KAAAH,WAAA,EACA,KAAAJ,YAAA,SAAAe,iBACA,KAAArG,aAAA,GACA,KAAAoG,eAAA,IAGA,oBACA,QAAA1Z,KAEA,IACA,MAAAnI,EAAAhE,2BAGAkmB,EAAA,CACAvkB,GAAA,KAAAwK,KAAAxK,GACAgM,SAAA,KAAAoX,YAAApX,UAAA,MAIA,KAAAoX,YAAAnX,SACAsY,EAAAtY,OAAA,KAAAmX,YAAAnX,QAIA,YAAA3J,SAAAD,EACAE,KAAA,YACAC,OAAA+hB,GAEA,GAAAjiB,EAAA,MAAAA,EAGA,MAAAkiB,EAAA,IACA,KAAA9V,OAAAzE,MAAAO,KACAwB,SAAA,KAAAoX,YAAApX,UAAA,KAAA0C,OAAAzE,MAAAO,MAAA,KAAAkE,OAAAzE,MAAAO,KAAAwB,SACAC,OAAA,KAAAmX,YAAAnX,QAAA,KAAAyC,OAAAzE,MAAAO,MAAA,KAAAkE,OAAAzE,MAAAO,KAAAyB,QAEA,KAAAyC,OAAAtC,OAAA,WAAAoY,GAEA,KAAAhB,WAAA,EACA,KAAAU,eAAA,SACA5L,WAAA,KACA,KAAA4L,eAAA,IACA,KAEA,MAAA5hB,GACA7D,QAAA6D,MAAA,YAAAA,GACA,KAAAwb,aAAA,cAAAxb,EAAA0D,SAAA,UAIAmd,eAEA,MAAAlD,EAAAoB,SAAAU,cAAA,SACA9B,EAAArb,KAAA,OACAqb,EAAAwE,OAAA,UACAxE,EAAArQ,MAAA8U,QAAA,OAEAzE,EAAA0E,SAAA,UACA,MAAAC,EAAAhO,EAAAzR,OAAA0f,MAAA,GACA,GAAAD,EAGA,GAAAA,EAAAE,KAAA,QACA,KAAAhH,aAAA,mBAKA,GAAA8G,EAAAhgB,KAAAmgB,WAAA,UAKA,UACA,KAAAC,aAAAJ,GACA,MAAAtiB,GACA7D,QAAA6D,MAAA,UAAAA,GACA,KAAAwb,aAAA,cARA,KAAAA,aAAA,WAaAuD,SAAAa,KAAAC,YAAAlC,GACAA,EAAAgF,QACA5D,SAAAa,KAAAE,YAAAnC,IAGA,mBAAA2E,GACA,KAAArB,aAAA,EACA,KAAAzF,aAAA,GAEA,IACA,MAAAzb,EAAAhE,2BAGA6mB,EAAAN,EAAAjoB,KAAAumB,MAAA,KAAAiC,MACAC,EAAA,QAAA5a,KAAAxK,MAAAC,KAAAC,SAAAglB,IACAG,EAAA,QAAA7a,KAAAxK,MAAAolB,KAGA9iB,MAAAgjB,SAAAjjB,EAAAkjB,QACAhjB,KAAA,WACAijB,OAAAH,EAAAT,EAAA,CACAa,aAAA,OACAjjB,QAAA,IAGA,GAAA8iB,EAAA,MAAAA,EAGA,WAAA/qB,GAAA8H,EAAAkjB,QACAhjB,KAAA,WACAmjB,aAAAL,GAGA,KAAAjC,YAAAnX,OAAA1R,EAAAorB,gBAGA,KAAAjC,cAEA,KAAAQ,eAAA,SACA5L,WAAA,KACA,KAAA4L,eAAA,IACA,KAEA,MAAA5hB,GACA7D,QAAA6D,MAAA,UAAAA,GACA,KAAAwb,aAAA,YAAAxb,EAAA0D,SAAA,QACA,QACA,KAAAud,aAAA,IAIAD,kBAAA1M,GAEAA,EAAAzR,OAAAygB,IAAA,KAAAvC,eAGAI,WAAAoC,GACA,IAAAA,EAAA,UACA,MAAAlM,EAAA,IAAA1Z,KAAA4lB,GACA,OAAAlM,EAAAwG,mBAAA,SACA2F,KAAA,UACAC,MAAA,OACAC,IAAA,UACAnL,KAAA,UACAC,OAAA,aAIA,eACA,UACAoE,GAAAZ,UACA,KAAA5P,OAAAtC,OAAA,iBACA,KAAAsC,OAAAtC,OAAA,oBACA,KAAA8B,QAAA7S,KAAA,UACA,MAAAiH,GACA7D,QAAA6D,MAAA,UAAAA,GACA,KAAAwb,aAAA,aCtX+V,MCQ3V,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCNflU,OAAIC,IAAIoc,QAER,MAAMC,GAAS,CACb,CACEhN,KAAM,IACNiN,MAAO,CAAC,SACRxpB,KAAM,OACN2C,UAAW8mB,IAEb,CACElN,KAAM,eACNvc,KAAM,aACN2C,UAAW+mB,GAEb,CACEnN,KAAM,QACNvc,KAAM,OACN2C,UAAWgnB,IAEb,CACEpN,KAAM,cACNvc,KAAM,aACN2C,UAAWinB,IAEb,CACErN,KAAM,SACNvc,KAAM,QACN2C,UAAWknB,IAEb,CACEtN,KAAM,SACNvc,KAAM,QACN2C,UAAWmnB,IAEb,CACEvN,KAAM,eACNvc,KAAM,aACN2C,UAAWonB,IAEb,CACExN,KAAM,cACNvc,KAAM,aACN2C,UAAWqnB,IAEb,CACEzN,KAAM,QACNvc,KAAM,YACN2C,UAAWsnB,GAEb,CACE1N,KAAM,WACNvc,KAAM,UACN2C,UAAWunB,IAEb,CAAE3N,KAAM,IAAK4N,SAAU,MAGnBC,GAAS,IAAId,OAAU,CAC3B3oB,KAAM,UACN0pB,KAAMzoB,IACN2nB,YAMIe,GAAc,CAAC,QAAS,SAAU,UACxCF,GAAOG,WAAWtI,MAAOuI,EAAI5kB,EAAMuJ,KACjC,GAAImb,GAAY5M,SAAS8M,EAAGjO,MAAO,OAAOpN,IAC1C,IACE,MAAMtB,QAAa0U,GAAYX,UAE/B,GADI/T,IAAST,EAAME,MAAMO,MAAMT,EAAMqC,OAAO,WAAY5B,IACnDA,EAAM,OAAOsB,EAAK,UACvBA,IACA,MAAO6L,GAEP,OADAlZ,QAAQ6D,MAAM,uBAAwBqV,GAC/B7L,EAAK,aAIDib,UC3Ff,MAAMK,GACJ5nB,cACEP,KAAKooB,gBAAkB,KACvBpoB,KAAKqoB,WAAY,EAInBC,aAAaC,EAAkB,GACzBvoB,KAAKqoB,UACP7oB,QAAQC,KAAK,cAIfO,KAAKqoB,WAAY,EACjBroB,KAAKooB,gBAAkBtlB,YAAY6c,UACjC,UACQ3f,KAAKwoB,iBACX,MAAOnlB,GACP7D,QAAQ6D,MAAM,YAAaA,KAEV,GAAlBklB,EAAuB,KAE1B/oB,QAAQyM,IAAI,cAAcsc,YAI5BE,cACMzoB,KAAKooB,kBACP3lB,cAAczC,KAAKooB,iBACnBpoB,KAAKooB,gBAAkB,KACvBpoB,KAAKqoB,WAAY,EACjB7oB,QAAQyM,IAAI,cAKhB,uBACE,UACQ4M,cAAY6P,oBAClBlpB,QAAQyM,IAAI,WACZ,MAAO5I,GACP7D,QAAQ6D,MAAM,WAAYA,IAK9B,4BACQrD,KAAKwoB,kBAIA,WAAIL,GC/CnBxd,OAAIge,OAAOC,eAAgB,EAG3BC,GAAeP,aAAa,GAE5B,IAAI3d,OAAI,CACNG,QACAgd,UACAhoB,OAAQgpB,GAAKA,EAAEC,KACdC,OAAO,S,oCCfV,W,oCCAA,W,0yBCAA,W,oCCAA,W,uGCAA,uBAGA,SAASC,IACP,OAAO/nB,KAAKyH,MAAM,IAAyB,IAAhBzH,KAAKC,UAAmBC,WAIrDue,eAAeuJ,EAAgBC,GAC7B,MAAM/lB,EAAWhE,4BACX,KAAE9D,EAAI,MAAE+H,SAAgBD,EAC3BE,KAAK,SACLuB,OAAO,MACPhB,GAAG,WAAYslB,GACfhK,cACH,OAAQ9b,KAAW/H,EAIrBqkB,eAAeyJ,IACb,IAAID,EACAE,EAAW,EACf,GAGE,GAFAF,EAAUF,IACVI,IACIA,EAAW,GACb,MAAM,IAAIlnB,MAAM,+BAEL+mB,EAAgBC,IAC/B,OAAOA,EAGT,MAAMG,EACJ,iBAAiBC,GAAS,KAAE7rB,EAAI,WAAE0jB,EAAa,EAAC,YAAE7P,GAAgB,IAChE,MAAMnO,EAAWhE,2BACX+pB,QAAgBC,KAChB,KAAE9tB,EAAI,MAAE+H,SAAgBD,EAC3BE,KAAK,SACLU,OAAO,CACNuS,SAAUgT,EACV7nB,OAAQ,UACRhE,OACAgZ,YAAa0K,EACb7P,cACApC,SAAUga,IAEXtkB,SACA2a,SACH,GAAInc,EAAO,MAAMA,EAGjB,aADMD,EAASE,KAAK,gBAAgBU,OAAO,CAAEI,QAAS9I,EAAKyF,GAAIoP,QAASoZ,EAASC,KAAM,QAASxhB,OAAQ,GAAIsI,UAAU,EAAOqG,WAAY,IAClIrb,EAGT,eAAe6H,EAAQ0O,GACrB,MAAMzO,EAAWhE,2BACjBI,QAAQyM,IAAI,gCAAiC,CAAE9I,SAAQ0O,WAGvD,MAAQvW,KAAMmuB,EAAepmB,MAAOqmB,SAAqBtmB,EACtDE,KAAK,gBACLuB,OAAO,oCACPhB,GAAG,UAAWgO,GAEjB,GAAI6X,EAAY,MAAMA,EAGtB,GAAID,GAAiBA,EAAc3tB,OAAS,EAC1C,IAAK,MAAM6tB,KAAgBF,EACS,YAA9BE,EAAarJ,MAAM5e,cACf1B,KAAKgQ,UAAU2Z,EAAavlB,QAASyN,GAMjD,IAAI3C,EACJ,GAAsB,IAAlB/L,EAAOrH,QAAgB,UAAUkjB,KAAK7b,GAAS,CAEjD,MAAM,KAAE7H,EAAI,MAAE+H,SAAgBD,EAASE,KAAK,SAASuB,SAAShB,GAAG,WAAYV,GAAQqc,SACrF,GAAInc,EAAO,MAAMA,EACjB6L,EAAO5T,MACF,CAEL,MAAM,KAAEA,EAAI,MAAE+H,SAAgBD,EAASE,KAAK,SAASuB,SAAShB,GAAG,KAAMV,GAAQqc,SAC/E,GAAInc,EAAO,MAAMA,EACjB6L,EAAO5T,EAIT,GAAoB,YAAhB4T,EAAKxN,OACP,MAAM,IAAIS,MAAM,gBAElB,GAAoB,UAAhB+M,EAAKxN,OAAoB,CAC3B,MAAQ2B,MAAOumB,SAAmBxmB,EAASE,KAAK,SAASM,OAAO,CAAElC,OAAQ,YAAamC,GAAG,KAAMqL,EAAKnO,IACrG,GAAI6oB,EAAU,MAAMA,EACpB1a,EAAKxN,OAAS,UAIhB,MAAQpG,KAAMuuB,SAAyBzmB,EAASE,KAAK,gBAAgBuB,OAAO,MAAMhB,GAAG,UAAWqL,EAAKnO,IACrG,GAAI8oB,GAAkBA,EAAe/tB,SAAWoT,EAAKwH,aAAe,GAClE,MAAM,IAAIvU,MAAM,aAIlB,MAAQ7G,KAAMiM,SAAkBnE,EAASE,KAAK,gBAAgBuB,OAAO,cAAchB,GAAG,UAAWqL,EAAKnO,IAChG+oB,EAAQ,IAAI3Q,KAAK5R,GAAW,IAAI3E,OAAO9D,GAA6B,kBAAjBA,EAAE6X,YAAyB5O,IAAIjJ,GAAKA,EAAE6X,aAC/F,IAAIoT,EAAY,KAChB,IAAK,IAAInuB,EAAI,EAAGA,GAAKsT,EAAKwH,aAAe,GAAI9a,IAAO,IAAKkuB,EAAMlkB,IAAIhK,GAAI,CAAEmuB,EAAYnuB,EAAG,MACxF,MAAQyH,MAAO2mB,SAAoB5mB,EAChCE,KAAK,gBACLC,OACC,CAAEa,QAAS8K,EAAKnO,GAAIoP,QAAS0B,EAAQ2X,KAAM,SAAUxhB,OAAQ,GAAIsI,UAAU,EAAOqG,WAAYoT,GAC9F,CAAEE,WAAY,kBAAmBC,kBAAkB,IAEvD,GAAIF,GAAgC,UAAnBA,EAAUzU,KAAkB,MAAMyU,EAEnD,OADAxqB,QAAQyM,IAAI,kCAAmC,CAAE9I,OAAQ+L,EAAKnO,GAAI8Q,WAC3D3C,EAGT,cAAc/L,GACZ,MAAMC,EAAWhE,2BACjB,IAAI2X,EAAQ3T,EACTE,KAAK,SACLuB,OAAO,iIAIRkS,EADoB,IAAlB5T,EAAOrH,QAAgB,UAAUkjB,KAAK7b,GAChC4T,EAAMlT,GAAG,WAAYV,GAErB4T,EAAMlT,GAAG,KAAMV,GAGzB,MAAM,KAAE7H,EAAI,MAAE+H,SAAgB0T,EAAMyI,SACpC,GAAInc,EAAO,MAAMA,EACjB,OAAO/H,EAGT,kBACE,MAAM8H,EAAWhE,4BACX,KAAE9D,EAAI,MAAE+H,SAAgBD,EAC3BE,KAAK,SACLuB,OAAO,gLAUPslB,MAAM,aAAc,CAAEC,WAAW,IACpC,GAAI/mB,EAAO,MAAMA,EAGjB,MAAMid,GAAShlB,GAAQ,IAAIyM,IAAImH,IAAQ,IAClCA,EACHwR,gBAAiBxR,EAAKgB,aAAehB,EAAKgB,aAAapU,OAAS,KAGlE,OAAOwkB,EAGT,0BAA0BzO,GACxB,MAAMyO,QAActgB,KAAK8gB,YACnBuJ,EAAU/J,EAAM1d,OAAO5E,GAAkB,YAAbA,EAAE0D,QAGpC,GAAI2oB,EAAQvuB,OAAS,EAAG,CACtB,MAAMwuB,EAAOD,EAAQnpB,KAAKyH,MAAMzH,KAAKC,SAAWkpB,EAAQvuB,SAGxD,aAFMkE,KAAK+gB,SAASuJ,EAAKvpB,GAAI8Q,SAEhB7R,KAAK8Y,QAAQwR,EAAKvpB,IAC1B,CAELvB,QAAQyM,IAAI,mCACZ,MAAMse,QAAgBvqB,KAAKiiB,WAAWpQ,EAAQ,CAC5CnU,KAAM,QACN0jB,WAAY,EACZ7P,YAAa,KAGf,aAAavR,KAAK8Y,QAAQyR,EAAQxpB,KAItC,eAAeoC,EAAQ0O,EAAQ2Y,GAC7B,MAAMpnB,EAAWhE,4BACX,MAAEiE,SAAgBD,EACrBE,KAAK,gBACLM,OAAO,CAAE0M,WAAYka,IACrB3mB,GAAG,UAAWV,GACdU,GAAG,UAAWgO,GACjB,GAAIxO,EAAO,MAAMA,EAGnB,cAAcF,EAAQ0O,EAAQkY,GAC5B,MAAM3mB,EAAWhE,4BACX,MAAEiE,SAAgBD,EACrBE,KAAK,gBACLM,OAAO,CAAE+S,WAAYoT,IACrBlmB,GAAG,UAAWV,GACdU,GAAG,UAAWgO,GACjB,GAAIxO,EAAO,MAAMA,EAGnB,gBAAgBF,EAAQomB,GACtB,MAAMnmB,EAAWhE,4BAET9D,KAAM4T,EAAM7L,MAAOonB,SAAernB,EAASE,KAAK,SAASuB,SAAShB,GAAG,KAAMV,GAAQqc,SAC3F,GAAIiL,EAAM,MAAMA,EAChB,GAAIvb,EAAKqH,WAAagT,EAAS,MAAM,IAAIpnB,MAAM,cAE/C,MAAQ7G,KAAMiM,EAASlE,MAAOqnB,SAAetnB,EAASE,KAAK,gBAAgBuB,OAAO,KAAKhB,GAAG,UAAWV,GACrG,GAAIunB,EAAM,MAAMA,EAChB,MAAM7a,EAAWtI,EAAQzL,OAAS,GAAKyL,EAAQiP,MAAM1X,KAAOA,EAAEwR,UAC9D,IAAKT,EAAU,MAAM,IAAI1N,MAAM,WAE/B,MAAQkB,MAAOS,SAAeV,EAASE,KAAK,SAASM,OAAO,CAAElC,OAAQ,YAAamC,GAAG,KAAMV,GAC5F,GAAIW,EAAM,MAAMA,EAIhB,MAAQT,MAAOsnB,SAAgBvnB,EAC5BE,KAAK,gBACLM,OAAO,CAAEoE,OAAQ,KACjBnE,GAAG,UAAWV,GACjB,GAAIwnB,EAAO,MAAMA,EAGjB,MAAQtnB,MAAOc,SAAef,EAC3BE,KAAK,kBACLiB,SACAV,GAAG,UAAWV,GACjB,GAAIgB,EAAM,MAAMA,EAEhB,MAAO,CAAE4B,SAAS,GAIpB,gBAAgB5C,EAAQ0O,GACtB,MAAMzO,EAAWhE,4BAGT9D,KAAM4T,EAAM7L,MAAOunB,SAAkBxnB,EAASE,KAAK,SAASuB,OAAO,KAAKhB,GAAG,KAAMV,GAAQqc,SACjG,GAAIoL,EAAS,MAAMA,EAGnB,MAAQtvB,KAAMiM,EAASlE,MAAOwnB,SAAqBznB,EAASE,KAAK,gBAAgBuB,OAAO,KAAKhB,GAAG,UAAWV,GAC3G,GAAI0nB,EAAY,MAAMA,EAGtB,MAAQxnB,MAAOynB,SAAoB1nB,EAChCE,KAAK,gBACLiB,SACAV,GAAG,UAAWV,GACdU,GAAG,UAAWgO,GACjB,GAAIiZ,EAAW,MAAMA,EAGrB,MAAQxvB,KAAMyvB,SAA2B3nB,EAASE,KAAK,gBAAgBuB,OAAO,eAAehB,GAAG,UAAWV,GACrG6nB,EAAiBlmB,MAAMC,QAAQgmB,GAAoBA,EAAiBjvB,OAAS,EAKnF,GAAuB,IAAnBkvB,EAGF,aAFM5nB,EAASE,KAAK,SAASM,OAAO,CAAElC,OAAQ,UAAW6U,SAAU,OAAQ1S,GAAG,KAAMV,cAC9EnD,KAAKirB,gBAAgB9nB,EAAQ0O,GAAQqZ,MAAM,QAKnD,GAAIhc,EAAKqH,WAAa1E,EAAQ,CAE5B,MAAMsZ,EAAWJ,EAAiB,SAC5B3nB,EACHE,KAAK,SACLM,OAAO,CAAE2S,SAAU4U,EAAShb,UAC5BtM,GAAG,KAAMV,SAGNC,EACHE,KAAK,gBACLM,OAAO,CAAE4lB,KAAM,UACf3lB,GAAG,UAAWV,GACdU,GAAG,UAAWsnB,EAAShb,SAG5B,MAAO,CAAEpK,SAAS,GAIpB,sBAAsB5C,EAAQioB,GAC5B,MAAMhoB,EAAWhE,4BAGT9D,KAAMiM,SAAkBnE,EAASE,KAAK,gBAAgBuB,OAAO,MAAMhB,GAAG,UAAWV,GACzF,GAAIoE,GAAWA,EAAQzL,OAAS,EAC9B,OAIF,MAAQR,KAAM4T,SAAe9L,EAASE,KAAK,SAASuB,OAAO,YAAYhB,GAAG,KAAMV,GAAQqc,SACxF,IAAKtQ,GAAQA,EAAKqH,WAAa6U,EAC7B,OAGF,MAAM,MAAE/nB,SAAgBD,EAASE,KAAK,SAASiB,SAASV,GAAG,KAAMV,GAC7DE,GACF7D,QAAQ6D,MAAM,WAAYA,GAK9B,0BACE,MAAMD,EAAWhE,4BAGT9D,KAAMglB,EAAOjd,MAAOgoB,SAAmBjoB,EAC5CE,KAAK,SACLuB,OAAO,cACP6U,GAAG,SAAU,CAAC,UAAW,UAC5B,GAAI2R,EAAU,MAAMA,EAGpB,IAAK,MAAMnc,KAAQoR,EAAO,CACxB,MAAQhlB,KAAMiM,SAAkBnE,EAASE,KAAK,gBAAgBuB,OAAO,MAAMhB,GAAG,UAAWqL,EAAKnO,IACzFwG,GAA8B,IAAnBA,EAAQzL,cAChBkE,KAAKirB,gBAAgB/b,EAAKnO,IAAImqB,MAAM,UAMnC,iBAAI5B,G,kCCjVnB,W,yDCAA","file":"js/app.c822fff8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile.vue?vue&type=style&index=0&id=924f9130&prod&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=b119b7d8&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=f8057020&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shop.vue?vue&type=style&index=0&id=7dadcc5e&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&id=28d3071c&prod&scoped=true&lang=css\"","import { createClient } from '@supabase/supabase-js'\r\n\r\nlet supabaseClient = null\r\n\r\nexport function getSupabase() {\r\n  if (!supabaseClient) {\r\n    const url = process.env.VUE_APP_SUPABASE_URL\r\n    const anonKey = process.env.VUE_APP_SUPABASE_ANON_KEY\r\n    if (!url || !anonKey) {\r\n      console.warn('Supabase env not set: VUE_APP_SUPABASE_URL / VUE_APP_SUPABASE_ANON_KEY')\r\n    }\r\n    supabaseClient = createClient(url, anonKey, { realtime: { params: { eventsPerSecond: 20 } } })\r\n  }\r\n  return supabaseClient\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item-shop.vue?vue&type=style&index=0&id=66b979ee&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create-room.vue?vue&type=style&index=0&id=63de556e&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./auction-panel.vue?vue&type=style&index=0&id=1a6c1eed&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"app\">\r\n    <router-view />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App'\r\n}\r\n</script>\r\n\r\n<style>\r\n/*  */\r\nbody {\r\n  /* + */\r\n  background: radial-gradient(1400px circle at 15% 0%, #0b1220, #0f172a),\r\n              radial-gradient(900px circle at 85% 25%, rgba(99,102,241,0.12), rgba(99,102,241,0)),\r\n              radial-gradient(700px circle at 10% 80%, rgba(16,185,129,0.10), rgba(16,185,129,0));\r\n  color: #e2e8f0;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n#app {\r\n  min-height: 100vh;\r\n}\r\n\r\n/*  */\r\nbutton {\r\n  border: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n}\r\n\r\n/*  */\r\ninput {\r\n  border: none;\r\n  outline: none;\r\n}\r\n\r\n/*  */\r\n::-webkit-scrollbar {\r\n  width: 4px;\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background: #c1c1c1;\r\n  border-radius: 2px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb:hover {\r\n  background: #a8a8a8;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=b119b7d8\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=b119b7d8&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\r\n * \r\n */\r\nclass AuctionService {\r\n  constructor() {\r\n    this.currentAuctions = [] // \r\n    this.auctionHistory = []\r\n    this.defaultTimeLimit = 30 // 30\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {Object} artifact - \r\n   * @param {number} timeLimit - \r\n   */\r\n  startAuction(artifact, timeLimit = this.defaultTimeLimit) {\r\n    const auction = {\r\n      id: `${Date.now()}_${Math.random().toString(16).slice(2)}`,\r\n      artifact: artifact,\r\n      highestBid: 0,\r\n      highestBidder: null,\r\n      timeRemaining: timeLimit,\r\n      timeLimit: timeLimit,\r\n      bids: [],\r\n      startTime: Date.now(),\r\n      status: 'active',\r\n      _timer: null\r\n    }\r\n    this.currentAuctions.push(auction)\r\n    // \r\n    this.startCountdown(auction)\r\n    return auction\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {string} playerId - ID\r\n   * @param {string} playerName - \r\n   * @param {number} bidAmount - \r\n   */\r\n  placeBid(auctionId, playerId, playerName, bidAmount) {\r\n    const auction = this.getAuctionById(auctionId)\r\n    if (!auction || auction.status !== 'active') {\r\n      throw new Error('')\r\n    }\r\n    if (bidAmount <= auction.highestBid) {\r\n      throw new Error('')\r\n    }\r\n    const bid = { playerId, playerName, amount: bidAmount, timestamp: Date.now() }\r\n    auction.bids.push(bid)\r\n    auction.highestBid = bidAmount\r\n    auction.highestBidder = playerId\r\n    return bid\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n   endAuction(auctionId) {\r\n    const auction = this.getAuctionById(auctionId)\r\n    if (!auction) return null\r\n    auction.status = 'ended'\r\n    auction.endTime = Date.now()\r\n    if (auction._timer) {\r\n      clearInterval(auction._timer)\r\n      auction._timer = null\r\n    }\r\n    // \r\n    this.auctionHistory.push({ ...auction })\r\n    const result = {\r\n      id: auction.id,\r\n      winner: auction.highestBidder,\r\n      winningBid: auction.highestBid,\r\n      artifact: auction.artifact\r\n    }\r\n    // \r\n    this.currentAuctions = this.currentAuctions.filter(a => a.id !== auctionId)\r\n    return result\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  startCountdown(auction) {\r\n    if (!auction) return\r\n    auction._timer = setInterval(() => {\r\n      if (!auction || auction.status !== 'active') {\r\n        clearInterval(auction._timer)\r\n        auction._timer = null\r\n        return\r\n      }\r\n      auction.timeRemaining--\r\n      if (auction.timeRemaining <= 0) {\r\n        clearInterval(auction._timer)\r\n        auction._timer = null\r\n        this.endAuction(auction.id)\r\n      }\r\n    }, 1000)\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getCurrentAuctions() {\r\n    return this.currentAuctions\r\n  }\r\n\r\n  getAuctionById(auctionId) {\r\n    return this.currentAuctions.find(a => a.id === auctionId)\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getAuctionHistory() {\r\n    return this.auctionHistory\r\n  }\r\n}\r\n\r\nexport default new AuctionService()\r\n","import { getSupabase } from './supabase-client'\r\n\r\nclass AuctionPersistService {\r\n  async upsertAuction(roomId, auction) {\r\n    const supabase = getSupabase()\r\n    const { error } = await supabase\r\n      .from('auctions')\r\n      .upsert({\r\n        id: auction.id,\r\n        artifact_id: auction.artifact.id,\r\n        artifact: auction.artifact,\r\n        highest_bid: auction.highestBid,\r\n        highest_bidder: auction.highestBidder,\r\n        time_remaining: auction.timeRemaining,\r\n        status: auction.status\r\n      })\r\n    if (error) throw error\r\n    return auction\r\n  }\r\n\r\n  async updateBid(roomId, auctionId, highestBid, highestBidder) {\r\n    const supabase = getSupabase()\r\n    const { error } = await supabase\r\n      .from('auctions')\r\n      .update({ highest_bid: highestBid, highest_bidder: highestBidder })\r\n      .eq('id', auctionId)\r\n    if (error) throw error\r\n  }\r\n\r\n  async endAuction(roomId, auction) {\r\n    const supabase = getSupabase()\r\n    // mark auction ended\r\n    const { error: uerr } = await supabase\r\n      .from('auctions')\r\n      .update({ status: 'ended', time_remaining: 0 })\r\n      .eq('id', auction.id)\r\n    if (uerr) throw uerr\r\n    // write history\r\n    const { error: herr } = await supabase\r\n      .from('auction_history')\r\n      .insert({\r\n        auction_id: auction.id,\r\n        artifact_id: auction.artifact.id,\r\n        artifact: auction.artifact,\r\n        winner: auction.highestBidder,\r\n        winning_bid: auction.highestBid\r\n      })\r\n    if (herr) throw herr\r\n    // if winner exists, add to room_artifacts\r\n    if (auction.highestBidder) {\r\n      const { error: aerr } = await supabase\r\n        .from('room_artifacts')\r\n        .insert({\r\n          room_id: roomId,\r\n          owner_user_id: auction.highestBidder,\r\n          artifact_id: auction.artifact.id\r\n        })\r\n      if (aerr) throw aerr\r\n      // \r\n      //  artifacts  collection_tags \r\n    }\r\n    // delete current auction row\r\n    const { error: derr } = await supabase\r\n      .from('auctions')\r\n      .delete()\r\n      .eq('id', auction.id)\r\n    if (derr) throw derr\r\n  }\r\n}\r\n\r\nexport default new AuctionPersistService()\r\n","/**\r\n * \r\n */\r\nclass ItemService {\r\n  constructor() {\r\n    this.items = []\r\n    this.playerItems = new Map() // \r\n    this.loadItems()\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  async loadItems() {\r\n    try {\r\n      const { getSupabase } = await import('./supabase-client')\r\n      const supabase = getSupabase()\r\n      const { data, error } = await supabase.from('items').select('*')\r\n      if (error) throw error\r\n      this.items = Array.isArray(data) ? data : []\r\n    } catch (error) {\r\n      console.error(':', error)\r\n      this.items = []\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getItems() {\r\n    return this.items\r\n  }\r\n\r\n  /**\r\n   * ID\r\n   */\r\n  getItemById(itemId) {\r\n    return this.items.find(item => item.id === itemId)\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {string} playerId - ID\r\n   * @param {string} itemId - ID\r\n   * @param {number} playerEnergy - \r\n   */\r\n  buyItem(playerId, itemId, playerEnergy) {\r\n    const item = this.getItemById(itemId)\r\n    if (!item) {\r\n      throw new Error('')\r\n    }\r\n\r\n    if (playerEnergy < item.price) {\r\n      throw new Error('')\r\n    }\r\n\r\n    // \r\n    const playerItemCount = this.getPlayerItemCount(playerId)\r\n    if (playerItemCount >= 5) {\r\n      throw new Error('')\r\n    }\r\n\r\n    // \r\n    const sameTypeCount = this.getPlayerItemCountByType(playerId, item.type)\r\n    if (sameTypeCount >= 2) {\r\n      throw new Error('')\r\n    }\r\n\r\n    // \r\n    if (!this.playerItems.has(playerId)) {\r\n      this.playerItems.set(playerId, [])\r\n    }\r\n    \r\n    this.playerItems.get(playerId).push({\r\n      ...item,\r\n      purchaseTime: Date.now()\r\n    })\r\n\r\n    return {\r\n      success: true,\r\n      item: item,\r\n      remainingEnergy: playerEnergy - item.price\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {string} playerId - ID\r\n   * @param {string} itemId - ID\r\n   * @param {Object} target - \r\n   */\r\n  useItem(playerId, itemId, target = null) {\r\n    const playerItemList = this.playerItems.get(playerId) || []\r\n    const playerItem = playerItemList.find(item => item.id === itemId)\r\n    \r\n    if (!playerItem) {\r\n      throw new Error('')\r\n    }\r\n\r\n    // \r\n    if (!this.validateUseTiming(playerItem, target)) {\r\n      throw new Error('')\r\n    }\r\n\r\n    // \r\n    const result = this.executeItemEffect(playerItem, target)\r\n    \r\n    // \r\n    const index = playerItemList.findIndex(item => item.id === itemId)\r\n    playerItemList.splice(index, 1)\r\n\r\n    return result\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  validateUseTiming(item, target) {\r\n    // \r\n    return true\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  executeItemEffect(item, target) {\r\n    switch (item.effect) {\r\n      case 'return_artifact':\r\n        return this.executeReturnArtifact(item, target)\r\n      case 'cancel_auction':\r\n        return this.executeCancelAuction(item, target)\r\n      case 'extend_time':\r\n        return this.executeExtendTime(item, target)\r\n      case 'steal_energy':\r\n        return this.executeStealEnergy(item, target)\r\n      case 'double_auction':\r\n        return this.executeDoubleAuction(item, target)\r\n      default:\r\n        throw new Error('')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  executeReturnArtifact(item, target) {\r\n    return {\r\n      effect: 'return_artifact',\r\n      message: '',\r\n      target: target\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  executeCancelAuction(item, target) {\r\n    return {\r\n      effect: 'cancel_auction',\r\n      message: '',\r\n      target: target\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  executeExtendTime(item, target) {\r\n    return {\r\n      effect: 'extend_time',\r\n      message: '30',\r\n      target: target,\r\n      extendTime: 30\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  executeStealEnergy(item, target) {\r\n    return {\r\n      effect: 'steal_energy',\r\n      message: '5',\r\n      target: target,\r\n      stealAmount: 5\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  executeDoubleAuction(item, target) {\r\n    return {\r\n      effect: 'double_auction',\r\n      message: '',\r\n      target: target\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getPlayerItemCount(playerId) {\r\n    const playerItemList = this.playerItems.get(playerId) || []\r\n    return playerItemList.length\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getPlayerItemCountByType(playerId, type) {\r\n    const playerItemList = this.playerItems.get(playerId) || []\r\n    return playerItemList.filter(item => item.type === type).length\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getPlayerItems(playerId) {\r\n    return this.playerItems.get(playerId) || []\r\n  }\r\n}\r\n\r\nexport default new ItemService()\r\n","/**\r\n * \r\n */\r\nclass GameStateService {\r\n  constructor() {\r\n    this.gameState = {\r\n      gameId: null,\r\n      phase: 'preparation', // preparation, auction, item, settlement\r\n      players: [],\r\n      currentAuction: null,\r\n      deck: [],\r\n      usedItems: [],\r\n      gameLog: []\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {Array} playerNames - \r\n   */\r\n  initializeGame(playerNames) {\r\n    this.gameState.gameId = this.generateGameId()\r\n    this.gameState.phase = 'preparation'\r\n    this.gameState.players = playerNames.map((name, index) => ({\r\n      id: `player_${index + 1}`,\r\n      name: name,\r\n      energy: 50, // \r\n      artifacts: [],\r\n      items: [],\r\n      collections: {\r\n        \"\": 0,\r\n        \"\": 0,\r\n        \"\": 0,\r\n        \"\": 0\r\n      }\r\n    }))\r\n    \r\n    this.gameState.deck = this.initializeDeck()\r\n    this.gameState.gameLog = []\r\n    \r\n    this.addGameLog('50')\r\n    return this.gameState\r\n  }\r\n\r\n  /**\r\n   * ID\r\n   */\r\n  generateGameId() {\r\n    return `game_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  async initializeDeck() {\r\n    try {\r\n      const data = require('../../static/data/artifacts.json')\r\n      const artifacts = Array.isArray(data) ? data : (data.default || [])\r\n      return this.shuffleArray([...artifacts])\r\n    } catch (error) {\r\n      console.error(':', error)\r\n      return []\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  shuffleArray(array) {\r\n    const newArray = [...array]\r\n    for (let i = newArray.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      [newArray[i], newArray[j]] = [newArray[j], newArray[i]]\r\n    }\r\n    return newArray\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  startAuctionPhase() {\r\n    this.gameState.phase = 'auction'\r\n    this.addGameLog('')\r\n    return this.gameState\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  startItemPhase() {\r\n    this.gameState.phase = 'item'\r\n    this.addGameLog('')\r\n    return this.gameState\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  endGame() {\r\n    this.gameState.phase = 'settlement'\r\n    this.calculateFinalScores()\r\n    this.addGameLog('')\r\n    return this.gameState\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  calculateFinalScores() {\r\n    this.gameState.players.forEach(player => {\r\n      let totalScore = 0\r\n      \r\n      // \r\n      Object.keys(player.collections).forEach(collectionName => {\r\n        const collection = this.getCollectionByName(collectionName)\r\n        if (collection && player.collections[collectionName] >= collection.requiredCount) {\r\n          totalScore += collection.rewardPoints\r\n        }\r\n      })\r\n      \r\n      // \r\n      player.artifacts.forEach(artifactId => {\r\n        const artifact = this.getArtifactById(artifactId)\r\n        if (artifact) {\r\n          totalScore += Math.floor(artifact.baseValue / 2)\r\n        }\r\n      })\r\n      \r\n      player.finalScore = totalScore\r\n    })\r\n    \r\n    // \r\n    this.gameState.players.sort((a, b) => b.finalScore - a.finalScore)\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  async getCollectionByName(collectionName) {\r\n    try {\r\n      const data = require('../../static/data/collections.json')\r\n      const list = Array.isArray(data) ? data : (data.default || [])\r\n      return list.find(collection => collection.name === collectionName)\r\n    } catch (error) {\r\n      console.error(':', error)\r\n      return null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  async getArtifactById(artifactId) {\r\n    try {\r\n      const data = require('../../static/data/artifacts.json')\r\n      const list = Array.isArray(data) ? data : (data.default || [])\r\n      return list.find(artifact => artifact.id === artifactId)\r\n    } catch (error) {\r\n      console.error(':', error)\r\n      return null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  updateCollectionProgress(playerId, artifact) {\r\n    const player = this.gameState.players.find(p => p.id === playerId)\r\n    if (!player) return\r\n\r\n    // \r\n    artifact.collectionTags.forEach(tag => {\r\n      if (player.collections.hasOwnProperty(tag)) {\r\n        player.collections[tag]++\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  addGameLog(message) {\r\n    this.gameState.gameLog.push({\r\n      timestamp: Date.now(),\r\n      message: message\r\n    })\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getGameState() {\r\n    return this.gameState\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getPlayer(playerId) {\r\n    return this.gameState.players.find(p => p.id === playerId)\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  updatePlayerEnergy(playerId, energyChange) {\r\n    const player = this.getPlayer(playerId)\r\n    if (player) {\r\n      player.energy = Math.max(0, player.energy + energyChange)\r\n      this.addGameLog(`${player.name} : ${energyChange > 0 ? '+' : ''}${energyChange}`)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  addArtifactToPlayer(playerId, artifact) {\r\n    const player = this.getPlayer(playerId)\r\n    if (player) {\r\n      player.artifacts.push(artifact.id)\r\n      this.updateCollectionProgress(playerId, artifact)\r\n      this.addGameLog(`${player.name} : ${artifact.name}`)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  removeArtifactFromPlayer(playerId, artifactId) {\r\n    const player = this.getPlayer(playerId)\r\n    if (player) {\r\n      const index = player.artifacts.indexOf(artifactId)\r\n      if (index > -1) {\r\n        player.artifacts.splice(index, 1)\r\n        this.addGameLog(`${player.name} `)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default new GameStateService()\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport auctionService from '../services/auction-service.js'\r\nimport auctionPersist from '../services/auction-persist-service.js'\r\nimport itemService from '../services/item-service.js'\r\nimport gameStateService from '../services/game-state-service.js'\r\n\r\nVue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n  state: {\r\n    // \r\n    gamePhase: 'preparation', // preparation, auction, item, settlement\r\n    players: [],\r\n    currentAuctions: [],\r\n    gameLog: [],\r\n    \r\n    // UI\r\n    showCardDetail: false,\r\n    selectedCard: null,\r\n    showShop: false,\r\n    \r\n    // \r\n    currentPlayer: null,\r\n    playerEnergy: 50,\r\n    playerArtifacts: [],\r\n    playerItems: [],\r\n\r\n    // auth & room\r\n    user: null,\r\n    roomId: null\r\n  },\r\n  \r\n  mutations: {\r\n    // \r\n    SET_GAME_PHASE(state, phase) {\r\n      state.gamePhase = phase\r\n    },\r\n    \r\n    SET_PLAYERS(state, players) {\r\n      state.players = players\r\n    },\r\n    \r\n    SET_CURRENT_AUCTIONS(state, auctions) {\r\n      state.currentAuctions = auctions\r\n    },\r\n    ADD_OR_UPDATE_AUCTION(state, auction) {\r\n      const idx = state.currentAuctions.findIndex(a => a.id === auction.id)\r\n      if (idx >= 0) Vue.set(state.currentAuctions, idx, auction)\r\n      else state.currentAuctions.push(auction)\r\n    },\r\n    REMOVE_AUCTION(state, auctionId) {\r\n      state.currentAuctions = state.currentAuctions.filter(a => a.id !== auctionId)\r\n    },\r\n    \r\n    ADD_GAME_LOG(state, log) {\r\n      state.gameLog.push(log)\r\n    },\r\n    \r\n    // UI\r\n    SET_SHOW_CARD_DETAIL(state, show) {\r\n      state.showCardDetail = show\r\n    },\r\n    \r\n    SET_SELECTED_CARD(state, card) {\r\n      state.selectedCard = card\r\n    },\r\n    \r\n    SET_SHOW_SHOP(state, show) {\r\n      state.showShop = show\r\n    },\r\n    \r\n    // \r\n    SET_CURRENT_PLAYER(state, player) {\r\n      state.currentPlayer = player\r\n    },\r\n    \r\n    SET_PLAYER_ENERGY(state, energy) {\r\n      state.playerEnergy = energy\r\n    },\r\n    \r\n    SET_PLAYER_ARTIFACTS(state, artifacts) {\r\n      state.playerArtifacts = artifacts\r\n    },\r\n    \r\n    SET_PLAYER_ITEMS(state, items) {\r\n      state.playerItems = items\r\n    },\r\n\r\n    SET_USER(state, user) {\r\n      if (!user) {\r\n        state.user = null\r\n        return\r\n      }\r\n      const previous = state.user || {}\r\n      const next = { ...previous, ...user }\r\n      // Preserve existing profile fields if incoming payload lacks them or sets them to null/undefined\r\n      if (user.username === undefined || user.username === null) {\r\n        next.username = previous.username\r\n      }\r\n      if (user.avatar === undefined || user.avatar === null) {\r\n        next.avatar = previous.avatar\r\n      }\r\n      state.user = next\r\n    },\r\n\r\n    SET_ROOM_ID(state, roomId) {\r\n      state.roomId = roomId\r\n    }\r\n  },\r\n  \r\n  actions: {\r\n    // \r\n    async initializeGame({ commit }, playerNames) {\r\n      const gameState = gameStateService.initializeGame(playerNames)\r\n      commit('SET_GAME_PHASE', gameState.phase)\r\n      commit('SET_PLAYERS', gameState.players)\r\n      commit('SET_CURRENT_PLAYER', gameState.players[0])\r\n      commit('SET_PLAYER_ENERGY', 50)\r\n      return gameState\r\n    },\r\n    \r\n    // \r\n    async startAuction({ commit, state }, artifact) {\r\n      const auction = auctionService.startAuction(artifact)\r\n      commit('ADD_OR_UPDATE_AUCTION', auction)\r\n      commit('SET_GAME_PHASE', 'auction')\r\n      // persist to DB\r\n      if (state.roomId) await auctionPersist.upsertAuction(state.roomId, auction)\r\n      return auction\r\n    },\r\n    \r\n    // \r\n    async placeBid({ commit, state }, { auctionId, playerId, playerName, bidAmount }) {\r\n      try {\r\n        const bid = auctionService.placeBid(auctionId, playerId, playerName, bidAmount)\r\n        const updated = auctionService.getAuctionById(auctionId)\r\n        commit('ADD_OR_UPDATE_AUCTION', updated)\r\n        if (state.roomId) await auctionPersist.updateBid(state.roomId, auctionId, updated.highestBid, updated.highestBidder)\r\n        return bid\r\n      } catch (error) {\r\n        throw error\r\n      }\r\n    },\r\n    \r\n    // ID\r\n    async endAuction({ commit, state }, auctionId) {\r\n      const result = auctionService.endAuction(auctionId)\r\n      if (result) {\r\n        const endedAuction = { id: result.id, artifact: result.artifact, highestBid: result.winningBid, highestBidder: result.winner, status: 'ended', timeRemaining: 0 }\r\n        if (state.roomId) await auctionPersist.endAuction(state.roomId, endedAuction)\r\n        // \r\n        const winner = state.players.find(p => p.id === result.winner)\r\n        if (winner) {\r\n          winner.artifacts.push(result.artifact.id)\r\n          gameStateService.updateCollectionProgress(result.winner, result.artifact)\r\n        }\r\n        //  players \r\n        if (state.currentPlayer && state.currentPlayer.id === result.winner) {\r\n          const nextArtifacts = Array.isArray(state.currentPlayer.artifacts) ? [...state.currentPlayer.artifacts, result.artifact.id] : [result.artifact.id]\r\n          state.currentPlayer = { ...state.currentPlayer, artifacts: nextArtifacts }\r\n          commit('SET_PLAYER_ARTIFACTS', nextArtifacts)\r\n          gameStateService.updateCollectionProgress(result.winner, result.artifact)\r\n        }\r\n        // \r\n        commit('ADD_GAME_LOG', { timestamp: Date.now(), message: `${winner ? winner.name : ''}  ${result.winningBid}  ${result.artifact.name}` })\r\n        commit('REMOVE_AUCTION', result.id)\r\n        commit('SET_GAME_PHASE', 'item')\r\n      }\r\n      return result\r\n    },\r\n    \r\n    // \r\n    async buyItem({ commit, state }, { playerId, itemId }) {\r\n      try {\r\n        const result = itemService.buyItem(playerId, itemId, state.playerEnergy)\r\n        commit('SET_PLAYER_ENERGY', result.remainingEnergy)\r\n        return result\r\n      } catch (error) {\r\n        throw error\r\n      }\r\n    },\r\n    \r\n    // \r\n    async useItem({ commit, state }, { playerId, itemId, target }) {\r\n      try {\r\n        const result = itemService.useItem(playerId, itemId, target)\r\n        return result\r\n      } catch (error) {\r\n        throw error\r\n      }\r\n    },\r\n    \r\n    // \r\n    showCardDetail({ commit }, card) {\r\n      commit('SET_SELECTED_CARD', card)\r\n      commit('SET_SHOW_CARD_DETAIL', true)\r\n    },\r\n    \r\n    // \r\n    hideCardDetail({ commit }) {\r\n      commit('SET_SHOW_CARD_DETAIL', false)\r\n      commit('SET_SELECTED_CARD', null)\r\n    },\r\n    \r\n    // \r\n    showShop({ commit }) {\r\n      commit('SET_SHOW_SHOP', true)\r\n    },\r\n    \r\n    // \r\n    hideShop({ commit }) {\r\n      commit('SET_SHOW_SHOP', false)\r\n    },\r\n    \r\n    // \r\n    updateGameState({ commit }, newState) {\r\n      if (newState.phase) commit('SET_GAME_PHASE', newState.phase)\r\n      if (newState.players) commit('SET_PLAYERS', newState.players)\r\n      if (newState.currentAuctions) commit('SET_CURRENT_AUCTIONS', newState.currentAuctions)\r\n    }\r\n  },\r\n  \r\n  getters: {\r\n    // \r\n    isGameActive: state => state.gamePhase !== 'settlement',\r\n    isAuctionPhase: state => state.gamePhase === 'auction',\r\n    isItemPhase: state => state.gamePhase === 'item',\r\n    \r\n    // \r\n    currentAuctionsInfo: state => {\r\n      return (state.currentAuctions || []).map(a => ({\r\n        id: a.id,\r\n        artifact: a.artifact,\r\n        highestBid: a.highestBid,\r\n        timeRemaining: a.timeRemaining,\r\n        bidCount: a.bids.length\r\n      }))\r\n    },\r\n    \r\n    // \r\n    currentPlayerInfo: state => {\r\n      if (!state.currentPlayer) return null\r\n      return {\r\n        id: state.currentPlayer.id,\r\n        name: state.currentPlayer.name,\r\n        energy: state.playerEnergy,\r\n        artifacts: state.playerArtifacts,\r\n        items: state.playerItems\r\n      }\r\n    },\r\n    \r\n    // \r\n    recentGameLog: state => state.gameLog.slice(-10)\r\n  }\r\n})\r\n\r\nexport default store\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"game-container\",class:{ 'post-start': _vm.gamePhase !== 'preparation' }},[_c('div',{staticClass:\"top-auth-bar\"},[_vm._m(0),(_vm.user)?_c('div',{staticClass:\"right\"},[_c('span',{staticClass:\"user-email\"},[_vm._v(_vm._s(_vm.user.email))]),_c('button',{staticClass:\"nav-button\",on:{\"click\":function($event){return _vm.$router.push('/profile')}}},[_vm._v(\"\")])]):_c('div',{staticClass:\"right\"},[_c('button',{staticClass:\"nav-button primary\",on:{\"click\":function($event){return _vm.$router.push('/login')}}},[_vm._v(\" / \")])])]),_c('div',{staticClass:\"game-status\"},[_c('div',{staticClass:\"room-info\"},[_c('span',{staticClass:\"room-name\"},[_vm._v(_vm._s(_vm.room ? (_vm.room.name || '') : ''))]),_c('span',{staticClass:\"room-id\"},[_vm._v(\"ID: \"+_vm._s(_vm.room ? (_vm.room.short_id || _vm.room.id) : '-'))]),(_vm.room)?_c('span',{staticClass:\"room-meta\"},[_vm._v(\" \"+_vm._s(_vm.playerCount)+\"/\"+_vm._s(_vm.seatCount)+\"  \"+_vm._s(_vm.ownerName))]):_vm._e()]),_c('span',{staticClass:\"game-phase\"},[_vm._v(_vm._s(_vm.gamePhaseText))]),(_vm.currentPlayer)?_c('div',{staticClass:\"player-energy-hud\"},[_c('span',{staticClass:\"icon\"},[_vm._v(\"\")]),_c('span',{staticClass:\"label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.$store.state.playerEnergy))])]):_vm._e(),_c('div',{staticClass:\"game-controls\"},[(_vm.gamePhase === 'preparation')?_c('button',{staticClass:\"control-button\",on:{\"click\":_vm.toggleReady}},[_vm._v(_vm._s(_vm.currentUserReady ? '' : ''))]):_vm._e(),(_vm.gamePhase === 'preparation' && _vm.isOwner && _vm.allReady)?_c('button',{staticClass:\"control-button\",on:{\"click\":_vm.startGame}},[_vm._v(\"\")]):_vm._e(),(false)?_c('button',{staticClass:\"control-button\",on:{\"click\":_vm.startAuction}},[_vm._v(\"\")]):_vm._e(),(_vm.gamePhase === 'item')?_c('button',{staticClass:\"control-button\",on:{\"click\":_vm.openShop}},[_vm._v(\"\")]):_vm._e(),_c('button',{staticClass:\"control-button danger\",on:{\"click\":_vm.leaveRoom}},[_vm._v(\"\")])])]),(_vm.playerCount > 0 && _vm.gamePhase !== 'preparation')?_c('div',{staticClass:\"players-avatars\"},_vm._l(((_vm.room ? _vm.room.room_players : [])),function(p){return _c('div',{key:p.user_id,staticClass:\"avatar-item\",on:{\"click\":function($event){return _vm.showPlayerHand(p)}}},[_c('div',{staticClass:\"avatar-wrap\"},[_c('img',{staticClass:\"player-avatar\",attrs:{\"src\":_vm.getAvatarFor(p.user_id)}}),_c('span',{staticClass:\"ready-indicator\",class:{ on: !!p.is_ready }})]),_c('div',{staticClass:\"player-name\"},[_vm._v(_vm._s(_vm.getNameFor(p.user_id)))])])}),0):_vm._e(),_c('div',{staticClass:\"auction-stage\"},[(_vm.gamePhase === 'auction' && _vm.$store.state.currentAuctions && _vm.$store.state.currentAuctions.length)?_c('auction-panel',{attrs:{\"auctions\":_vm.$store.state.currentAuctions,\"countdown\":_vm.auctionCountdown},on:{\"artifact-click\":_vm.showArtifactDetailFromAuction}}):(_vm.prepCountdown > 0)?_c('div',{staticClass:\"countdown-stage\"},[_c('div',{staticClass:\"countdown-content\"},[_c('div',{staticClass:\"countdown-icon\"},[_vm._v(\"\")]),_c('h3',{staticClass:\"countdown-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"countdown-timer\"},[_vm._v(_vm._s(_vm.prepCountdown))]),_c('p',{staticClass:\"countdown-subtitle\"},[_vm._v(\"\")])])]):_c('div',{staticClass:\"stage-placeholder\"},[_vm._v(\"\")])],1),(_vm.seatCount > 0 && _vm.gamePhase === 'preparation')?_c('div',{staticClass:\"seats\",style:({ gridTemplateColumns: 'repeat(' + _vm.seatCount + ', 1fr)' })},_vm._l((_vm.seats),function(seat,idx){return _c('div',{key:idx,staticClass:\"seat\",class:{ occupied: !!seat.player },on:{\"click\":function($event){return _vm.moveToSeat(idx)}}},[_c('div',{staticClass:\"seat-index\"},[_vm._v(_vm._s(idx + 1)+\"/\"+_vm._s(_vm.seatCount))]),_c('div',{staticClass:\"seat-body\"},[(seat.player)?_c('div',{staticClass:\"seat-player\"},[_c('div',{staticClass:\"avatar-wrap\"},[_c('img',{staticClass:\"seat-avatar\",attrs:{\"src\":_vm.getAvatarFor(seat.player.user_id)}}),(seat.player.is_ready)?_c('span',{staticClass:\"ready-badge\"},[_vm._v(\"\")]):_vm._e()]),_c('div',{staticClass:\"seat-name\"},[_vm._v(_vm._s(_vm.getNameFor(seat.player.user_id)))])]):_c('div',{staticClass:\"seat-empty\"},[_vm._v(\"\")])])])}),0):_vm._e(),(_vm.gamePhase !== 'preparation')?_c('div',{staticClass:\"my-hand\"},[_c('h3',{staticClass:\"hand-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"hand-grid\"},_vm._l(((_vm.currentPlayer ? _vm.currentPlayer.artifacts : [])),function(aid){return _c('div',{key:aid,staticClass:\"hand-card\",on:{\"click\":function($event){return _vm.showArtifactDetail(aid)}}},[_c('img',{staticClass:\"hand-image\",attrs:{\"src\":_vm.artifactMap[aid] ? _vm.artifactMap[aid].image : 'https://via.placeholder.com/160x100?text='}}),_c('div',{staticClass:\"hand-name\"},[_vm._v(_vm._s(_vm.artifactMap[aid] ? _vm.artifactMap[aid].name : aid))])])}),0)]):_vm._e(),(_vm.gamePhase !== 'preparation')?_c('div',{staticClass:\"collections-panel\"},[_c('div',{staticClass:\"collections-section\"},[_c('h4',{staticClass:\"collections-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"collections-list\"},_vm._l((_vm.collections),function(collection){return _c('div',{key:collection.id,staticClass:\"collection-progress-item\",class:{ completed: _vm.isCollectionCompleted(collection) }},[_c('div',{staticClass:\"collection-header\"},[_c('div',{staticClass:\"collection-icon\"},[_vm._v(\"\")]),_c('div',{staticClass:\"collection-info\"},[_c('div',{staticClass:\"collection-name\"},[_vm._v(_vm._s(collection.name))]),_c('div',{staticClass:\"collection-description\"},[_vm._v(_vm._s(collection.description))])]),(_vm.isCollectionCompleted(collection))?_c('div',{staticClass:\"collection-reward\"},[_c('span',{staticClass:\"reward-badge\"},[_vm._v(\"\")])]):_vm._e()]),_c('div',{staticClass:\"progress-container\"},[_c('div',{staticClass:\"progress-bar\"},[_c('div',{staticClass:\"progress-fill\",style:({ width: _vm.getCollectionProgress(collection) + '%' })})]),_c('div',{staticClass:\"progress-text\"},[_vm._v(\" \"+_vm._s(_vm.getCurrentCollectionCount(collection))+\"/\"+_vm._s(collection.requiredCount)+\" \")])])])}),0)])]):_vm._e(),(_vm.gamePhase !== 'preparation')?_c('div',{staticClass:\"chat-panel\"},[_vm._m(1),_c('div',{ref:\"chatContainer\",staticClass:\"chat-messages\"},_vm._l((_vm.chatMessages),function(message){return _c('div',{key:message.id,staticClass:\"chat-message\",class:{ 'own-message': message.userId === (_vm.user && _vm.user.id) }},[_c('div',{staticClass:\"message-header\"},[_c('span',{staticClass:\"message-username\"},[_vm._v(_vm._s(message.username))]),_c('span',{staticClass:\"message-time\"},[_vm._v(_vm._s(_vm.formatMessageTime(message.timestamp)))])]),_c('div',{staticClass:\"message-content\"},[_vm._v(_vm._s(message.content))])])}),0),_c('div',{staticClass:\"chat-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newMessage),expression:\"newMessage\"}],staticClass:\"message-input\",attrs:{\"placeholder\":\"...\"},domProps:{\"value\":(_vm.newMessage)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.sendMessage.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.newMessage=$event.target.value}}}),_c('button',{staticClass:\"send-button\",attrs:{\"disabled\":!_vm.newMessage.trim()},on:{\"click\":_vm.sendMessage}},[_c('span',{staticClass:\"send-icon\"},[_vm._v(\"\")])])])]):_vm._e(),(_vm.showCardDetail)?_c('div',{staticClass:\"card-detail-popup\"},[_c('div',{staticClass:\"popup-overlay\",on:{\"click\":_vm.hideCardDetail}}),(_vm.selectedCard)?_c('div',{staticClass:\"popup-content\"},[_c('img',{staticClass:\"detail-image\",attrs:{\"src\":_vm.selectedCard.image,\"alt\":\"\"}}),_c('div',{staticClass:\"detail-content\"},[_c('h3',{staticClass:\"detail-name\"},[_vm._v(_vm._s(_vm.selectedCard.name))]),_c('p',{staticClass:\"detail-era\"},[_vm._v(_vm._s(_vm.selectedCard.era)+\" - \"+_vm._s(_vm.selectedCard.location))]),_c('p',{staticClass:\"detail-story\"},[_vm._v(_vm._s(_vm.selectedCard.story))]),_c('div',{staticClass:\"detail-tags\"},_vm._l((_vm.selectedCard.collectionTags),function(tag){return _c('span',{key:tag,staticClass:\"detail-tag\"},[_vm._v(\" \"+_vm._s(tag)+\" \")])}),0),_c('p',{staticClass:\"detail-value\"},[_vm._v(\": \"+_vm._s(_vm.selectedCard.baseValue))])]),_c('button',{staticClass:\"close-button\",on:{\"click\":_vm.hideCardDetail}},[_vm._v(\"\")])]):_vm._e()]):_vm._e(),(_vm.showShop)?_c('div',{staticClass:\"shop-popup\"},[_c('div',{staticClass:\"popup-overlay\",on:{\"click\":_vm.closeShop}}),_c('div',{staticClass:\"popup-content\"},[_c('item-shop'),_c('button',{staticClass:\"close-button\",on:{\"click\":_vm.closeShop}},[_vm._v(\"\")])],1)]):_vm._e(),(_vm.showHandPopup)?_c('div',{staticClass:\"hand-popup\"},[_c('div',{staticClass:\"popup-overlay\",on:{\"click\":_vm.hideHand}}),_c('div',{staticClass:\"popup-content\"},[_c('h3',{staticClass:\"hand-title\"},[_vm._v(_vm._s(_vm.handPlayer ? _vm.handPlayer.name + ' ' : ''))]),_c('div',{staticClass:\"hand-grid\"},_vm._l(((_vm.handPlayer ? _vm.handPlayer.artifacts : [])),function(aid){return _c('div',{key:aid,staticClass:\"hand-card\"},[_c('img',{staticClass:\"hand-image\",attrs:{\"src\":_vm.artifactMap[aid] ? _vm.artifactMap[aid].image : 'https://via.placeholder.com/160x100?text='}}),_c('div',{staticClass:\"hand-name\"},[_vm._v(_vm._s(_vm.artifactMap[aid] ? _vm.artifactMap[aid].name : aid))])])}),0),_c('button',{staticClass:\"close-button\",on:{\"click\":_vm.hideHand}},[_vm._v(\"\")])])]):_vm._e(),(_vm.showGameEndDialog)?_c('div',{staticClass:\"game-end-popup\"},[_c('div',{staticClass:\"popup-overlay\",on:{\"click\":_vm.closeGameEndDialog}}),_c('div',{staticClass:\"popup-content game-end-content\"},[_vm._m(2),_c('div',{staticClass:\"game-end-actions\"},[_c('button',{staticClass:\"action-button primary\",on:{\"click\":_vm.stayInRoom}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")]),_c('button',{staticClass:\"action-button secondary\",on:{\"click\":_vm.goToRooms}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")])])])]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"left\"},[_c('span',{staticClass:\"brand\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-header\"},[_c('h4',{staticClass:\"chat-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"chat-status\"},[_c('span',{staticClass:\"status-dot\"}),_c('span',{staticClass:\"status-text\"},[_vm._v(\"\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"game-end-header\"},[_c('div',{staticClass:\"game-end-icon\"},[_vm._v(\"\")]),_c('h2',{staticClass:\"game-end-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"game-end-subtitle\"},[_vm._v(\"\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"auction-panel\"},[_c('div',{staticClass:\"auction-header\"},[_vm._m(0),(_vm.auctionsList.length > 0)?_c('div',{staticClass:\"countdown\"},[_c('div',{staticClass:\"countdown-icon\"},[_vm._v(\"\")]),_c('span',{staticClass:\"countdown-text\"},[_vm._v(_vm._s(_vm.countdown)+\"s\")])]):_vm._e()]),(_vm.auctionsList.length > 0)?_c('div',{staticClass:\"auction-content\"},[(false)?_c('div',{staticClass:\"auction-item\"},[_vm._m(1)]):_vm._e(),(_vm.auctionsList.length > 0)?_c('div',{staticClass:\"auction-list\"},_vm._l((_vm.auctionsList),function(a,idx){return _c('div',{key:a.id,staticClass:\"auction-card\"},[_c('div',{staticClass:\"artifact-card\"},[_c('div',{staticClass:\"artifact-image-container\"},[_c('img',{staticClass:\"auction-image\",attrs:{\"src\":a.artifact.image,\"alt\":\"\"},on:{\"click\":function($event){return _vm.$emit('artifact-click', a.artifact)}}})]),_c('div',{staticClass:\"artifact-info\"},[_c('h4',{staticClass:\"artifact-name\",attrs:{\"title\":a.artifact.name}},[_vm._v(_vm._s(a.artifact.name))]),_c('p',{staticClass:\"artifact-era\",attrs:{\"title\":a.artifact.era}},[_vm._v(_vm._s(a.artifact.era))]),_c('div',{staticClass:\"artifact-tags\"},[_vm._l(((a.artifact.collectionTags || []).slice(0, 3)),function(tag){return _c('span',{key:tag,staticClass:\"artifact-tag\",attrs:{\"title\":tag}},[_vm._v(_vm._s(tag))])}),((a.artifact.collectionTags || []).length > 3)?_c('span',{staticClass:\"artifact-tag more-tag\"},[_vm._v(\"+\"+_vm._s((a.artifact.collectionTags || []).length - 3))]):_vm._e()],2)])]),_c('div',{staticClass:\"bid-display\"},[_c('span',{staticClass:\"bid-amount\"},[_vm._v(_vm._s(a.highestBid))]),_c('span',{staticClass:\"bid-unit\"},[_vm._v(\"\")]),(a.highestBidder)?_c('div',{staticClass:\"bidder-info\"},[_c('img',{staticClass:\"bidder-avatar\",attrs:{\"src\":_vm.getBidderAvatar(a.highestBidder),\"alt\":_vm.getBidderName(a.highestBidder)}}),_c('span',{staticClass:\"bidder-name\"},[_vm._v(_vm._s(_vm.getBidderName(a.highestBidder)))])]):_vm._e()]),(_vm.auctionsList.length > 0)?_c('div',{staticClass:\"countdown-progress\"},[_c('div',{staticClass:\"progress-fill\",style:({ width: _vm.getCountdownPercentShared() + '%' })})]):_vm._e(),_c('div',{staticClass:\"bid-input\"},[_c('div',{staticClass:\"bid-input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bidAmounts[a.id]),expression:\"bidAmounts[a.id]\"}],staticClass:\"bid-field\",attrs:{\"type\":\"text\",\"inputmode\":\"numeric\",\"pattern\":\"\\\\\\\\d*\"},domProps:{\"value\":(_vm.bidAmounts[a.id])},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.bidAmounts, a.id, $event.target.value)},function($event){return _vm.onBidInput(a.id)}],\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.placeBid(a)}}}),_c('span',{staticClass:\"bid-unit-label\"},[_vm._v(\"\")])]),_c('button',{staticClass:\"bid-button\",attrs:{\"disabled\":!(parseInt(_vm.bidAmounts[a.id]||0) > a.highestBid && parseInt(_vm.bidAmounts[a.id]||0) <= (_vm.currentPlayerInfo ? _vm.currentPlayerInfo.energy : 0) && a.status === 'active')},on:{\"click\":function($event){return _vm.placeBid(a)}}},[_c('span',{staticClass:\"bid-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")])])])}),0):_vm._e()]):_c('div',{staticClass:\"no-auction\"},[_vm._m(2)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"auction-title-section\"},[_c('h3',{staticClass:\"auction-title\"},[_vm._v(\" \")]),_c('p',{staticClass:\"auction-subtitle\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"artifact-card\"},[_c('div',{staticClass:\"artifact-image-container\"},[_c('img',{staticClass:\"auction-image\",attrs:{\"src\":\"https://via.placeholder.com/120x120?text=\",\"alt\":\"\"}}),_c('div',{staticClass:\"artifact-glow\"})]),_c('div',{staticClass:\"artifact-info\"},[_c('h4',{staticClass:\"artifact-name\"},[_vm._v(\"\")]),_c('p',{staticClass:\"artifact-era\"},[_vm._v(\"--\")]),_c('div',{staticClass:\"artifact-tags\"},[_c('span',{staticClass:\"artifact-tag\"},[_vm._v(\"--\")])])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"no-auction-content\"},[_c('div',{staticClass:\"no-auction-icon\"},[_vm._v(\"\")]),_c('p',{staticClass:\"no-auction-text\"},[_vm._v(\"\")]),_c('p',{staticClass:\"no-auction-subtitle\"},[_vm._v(\"...\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"auction-panel\">\n    <div class=\"auction-header\">\n      <div class=\"auction-title-section\">\n        <h3 class=\"auction-title\"> </h3>\n        <p class=\"auction-subtitle\"></p>\n      </div>\n      <div class=\"countdown\" v-if=\"auctionsList.length > 0\">\n        <div class=\"countdown-icon\"></div>\n        <span class=\"countdown-text\">{{ countdown }}s</span>\n      </div>\n    </div>\n    \n    <div class=\"auction-content\" v-if=\"auctionsList.length > 0\">\n      <!--  -->\n      <div class=\"auction-item\" v-if=\"false\">\n        <div class=\"artifact-card\">\n          <div class=\"artifact-image-container\">\n            <img class=\"auction-image\" src=\"https://via.placeholder.com/120x120?text=\" alt=\"\" />\n            <div class=\"artifact-glow\"></div>\n          </div>\n          <div class=\"artifact-info\">\n            <h4 class=\"artifact-name\"></h4>\n            <p class=\"artifact-era\">--</p>\n            <div class=\"artifact-tags\">\n              <span class=\"artifact-tag\">--</span>\n            </div>\n          </div>\n\n        </div>\n      </div>\n\n      <!--  -->\n      <div class=\"auction-list\" v-if=\"auctionsList.length > 0\">\n        <div class=\"auction-card\" v-for=\"(a, idx) in auctionsList\" :key=\"a.id\">\n          <div class=\"artifact-card\">\n            <div class=\"artifact-image-container\">\n              <img class=\"auction-image\" :src=\"a.artifact.image\" alt=\"\" @click=\"$emit('artifact-click', a.artifact)\" />\n            </div>\n            <div class=\"artifact-info\">\n              <h4 class=\"artifact-name\" :title=\"a.artifact.name\">{{ a.artifact.name }}</h4>\n              <p class=\"artifact-era\" :title=\"a.artifact.era\">{{ a.artifact.era }}</p>\n              <div class=\"artifact-tags\">\n                <span v-for=\"tag in (a.artifact.collectionTags || []).slice(0, 3)\" :key=\"tag\" class=\"artifact-tag\" :title=\"tag\">{{ tag }}</span>\n                <span v-if=\"(a.artifact.collectionTags || []).length > 3\" class=\"artifact-tag more-tag\">+{{ (a.artifact.collectionTags || []).length - 3 }}</span>\n              </div>\n            </div>\n          </div>\n          <div class=\"bid-display\">\n            <span class=\"bid-amount\">{{ a.highestBid }}</span>\n            <span class=\"bid-unit\"></span>\n            <div class=\"bidder-info\" v-if=\"a.highestBidder\">\n              <img class=\"bidder-avatar\" :src=\"getBidderAvatar(a.highestBidder)\" :alt=\"getBidderName(a.highestBidder)\" />\n              <span class=\"bidder-name\">{{ getBidderName(a.highestBidder) }}</span>\n            </div>\n\n          </div>\n          <!--  sharedCountdown  -->\n          <div class=\"countdown-progress\" v-if=\"auctionsList.length > 0\">\n            <div \n              class=\"progress-fill\"\n              :style=\"{ width: getCountdownPercentShared() + '%' }\"\n            ></div>\n          </div>\n          <div class=\"bid-input\">\n            <div class=\"bid-input-group\">\n              <input \n                class=\"bid-field\" \n                type=\"text\" \n                inputmode=\"numeric\"\n                pattern=\"\\\\d*\"\n                v-model=\"bidAmounts[a.id]\" \n                @input=\"onBidInput(a.id)\"\n                @keydown.enter=\"placeBid(a)\"\n              />\n              <span class=\"bid-unit-label\"></span>\n            </div>\n            <button \n              class=\"bid-button\" \n              @click=\"placeBid(a)\"\n              :disabled=\"!(parseInt(bidAmounts[a.id]||0) > a.highestBid && parseInt(bidAmounts[a.id]||0) <= (currentPlayerInfo ? currentPlayerInfo.energy : 0) && a.status === 'active')\"\n            >\n              <span class=\"bid-icon\"></span>\n              \n            </button>\n          </div>\n\n        </div>\n      </div>\n      \n\n      \n    </div>\n    \n    <div class=\"no-auction\" v-else>\n      <div class=\"no-auction-content\">\n        <div class=\"no-auction-icon\"></div>\n        <p class=\"no-auction-text\"></p>\n        <p class=\"no-auction-subtitle\">...</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\n\nexport default {\n  name: 'AuctionPanel',\n  props: {\n    currentAuction: {\n      type: Object,\n      default: null\n    },\n    auctions: {\n      type: Array,\n      default: () => []\n    },\n    countdown: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      bidAmounts: {}\n    }\n  },\n  computed: {\n    ...mapState(['players']),\n    ...mapGetters(['currentPlayerInfo']),\n    auctionsList() {\n      if (this.auctions && this.auctions.length) return this.auctions\n      return this.currentAuction ? [this.currentAuction] : []\n    },\n    // \n    __dummy() { return null }\n  },\n  watch: {\n    countdown(newVal) {\n      // \n    }\n  },\n  methods: {\n    canBid(a) {\n      const amount = parseInt(this.bidAmounts[a.id] || 0)\n      return a && a.status === 'active' && this.currentPlayerInfo && this.currentPlayerInfo.energy >= amount\n    },\n    getCountdownPercentShared() {\n      // 30\n      const total = 30\n      const remain = Number(this.countdown) || 0\n      if (total <= 0) return 0\n      const percent = ((total - remain) / total) * 100\n      return Math.max(0, Math.min(100, Math.round(percent)))\n    },\n    onBidInput(auctionId) {\n      //  number \n      const raw = String(this.bidAmounts[auctionId] || '')\n      const cleaned = raw.replace(/[^\\d]/g, '')\n      this.$set(this.bidAmounts, auctionId, cleaned)\n    },\n    async placeBid(a) {\n      const amount = parseInt(this.bidAmounts[a.id] || 0)\n      if (!Number.isFinite(amount) || amount <= 0) { alert(''); return }\n      if (amount > (this.currentPlayerInfo ? this.currentPlayerInfo.energy : 0)) { alert(''); return }\n      if (amount <= a.highestBid) { alert(''); return }\n      if (!a || a.status !== 'active') { alert(''); return }\n      try {\n        await this.$store.dispatch('placeBid', {\n          auctionId: a.id,\n          playerId: this.currentPlayerInfo.id,\n          playerName: this.currentPlayerInfo.name,\n          bidAmount: amount\n        })\n        this.$store.commit('SET_PLAYER_ENERGY', this.currentPlayerInfo.energy - amount)\n        this.$set(this.bidAmounts, a.id, '')\n        alert('')\n      } catch (error) {\n        alert(error.message || '')\n      }\n    },\n    \n    getBidderName(playerId) {\n      const player = this.players.find(p => p.id === playerId)\n      return player ? player.name : ''\n    },\n    \n    getBidderAvatar(playerId) {\n      // \n      if (this.$parent && this.$parent.getAvatarFor) {\n        return this.$parent.getAvatarFor(playerId)\n      }\n      // \n      const code = (playerId || 'U').slice(0, 2).toUpperCase()\n      const bg = '334155'\n      const fg = 'e2e8f0'\n      const svg = encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24'><rect width='100%' height='100%' fill='#${bg}'/><text x='50%' y='55%' dominant-baseline='middle' text-anchor='middle' font-size='10' fill='#${fg}' font-family='Arial, sans-serif'>${code}</text></svg>`)\n      return `data:image/svg+xml;charset=utf-8,${svg}`\n    }\n  }\n}\n</script>\n\n<style scoped>\n.auction-panel {\n  background: linear-gradient(135deg, #0f172a, #1e293b);\n  border: 1px solid #334155;\n  border-radius: 20px;\n  padding: 24px;\n  margin: 16px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  color: #e2e8f0;\n}\n\n.auction-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n  padding-bottom: 16px;\n  border-bottom: 1px solid #334155;\n}\n\n.auction-title-section {\n  flex: 1;\n}\n\n.auction-title {\n  font-size: 24px;\n  font-weight: 700;\n  color: #e2e8f0;\n  margin: 0 0 4px 0;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.auction-subtitle {\n  font-size: 14px;\n  color: #94a3b8;\n  margin: 0;\n}\n\n.countdown {\n  background: linear-gradient(135deg, #ef4444, #dc2626);\n  color: white;\n  padding: 8px 16px;\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);\n}\n\n.countdown-icon {\n  font-size: 16px;\n}\n\n.countdown-text {\n  font-size: 16px;\n  font-weight: 700;\n}\n\n.auction-list {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 16px;\n}\n@media (max-width: 1200px) {\n  .auction-list { grid-template-columns: repeat(2, 1fr); }\n}\n@media (max-width: 720px) {\n  .auction-list { grid-template-columns: 1fr; }\n}\n.auction-card {\n  background: linear-gradient(135deg, #0f172a, #1e293b);\n  border: 1px solid #334155;\n  border-radius: 16px;\n  padding: 16px;\n}\n.auction-card-header { display:flex; justify-content:flex-end; }\n.auction-content {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n.player-energy { color:#e2e8f0; font-weight:600; }\n.auction-item {\n  margin-bottom: 0;\n}\n\n.artifact-card {\n  background: linear-gradient(135deg, #1f2937, #374151);\n  border: 1px solid #4b5563;\n  border-radius: 16px;\n  padding: 16px;\n  display: grid;\n  grid-template-columns: 120px 1fr;\n  gap: 16px;\n  position: relative;\n  overflow: hidden;\n}\n\n.artifact-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));\n  opacity: 0.5;\n}\n\n.artifact-image-container {\n  position: relative;\n  flex-shrink: 0;\n}\n\n.auction-image {\n  width: 120px;\n  height: 120px;\n  border-radius: 12px;\n  object-fit: cover;\n  border: 2px solid #4b5563;\n  position: relative;\n  z-index: 1;\n}\n\n.artifact-glow {\n  position: absolute;\n  top: -4px;\n  left: -4px;\n  right: -4px;\n  bottom: -4px;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  border-radius: 16px;\n  opacity: 0.3;\n  z-index: 0;\n}\n\n.artifact-info {\n  position: relative;\n  z-index: 1;\n  min-width: 0; /*  ellipsis  */\n}\n\n.artifact-name {\n  font-size: 18px;\n  font-weight: 700;\n  color: #e2e8f0;\n  margin: 0 0 6px 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.artifact-era {\n  font-size: 13px;\n  color: #94a3b8;\n  margin: 0 0 8px 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.artifact-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n  max-height: 44px;\n  overflow: hidden;\n}\n\n.artifact-tag {\n  background: linear-gradient(135deg, #3b82f6, #8b5cf6);\n  color: white;\n  font-size: 12px;\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-weight: 500;\n}\n\n.more-tag { background: #475569; }\n\n.current-bid {\n  background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(34, 197, 94, 0.1));\n  border: 1px solid rgba(16, 185, 129, 0.3);\n  border-radius: 16px;\n  padding: 20px;\n}\n\n.bid-header {\n  margin-bottom: 12px;\n}\n\n.bid-label {\n  font-size: 16px;\n  font-weight: 600;\n  color: #10b981;\n}\n\n.bid-display {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex-wrap: wrap;\n}\n\n.bid-amount {\n  font-size: 28px;\n  font-weight: 700;\n  color: #10b981;\n  text-shadow: 0 0 10px rgba(16, 185, 129, 0.3);\n}\n\n.bid-unit {\n  font-size: 16px;\n  color: #94a3b8;\n  font-weight: 500;\n}\n\n.bidder-info {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  background: rgba(255, 255, 255, 0.1);\n  padding: 6px 12px;\n  border-radius: 20px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.bidder-avatar {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  border: 1px solid #4b5563;\n}\n\n.bidder-name {\n  font-size: 14px;\n  color: #e2e8f0;\n  font-weight: 500;\n}\n\n.bid-input {\n  display: flex;\n  gap: 12px;\n  align-items: center;\n  flex-wrap: wrap; /*  */\n}\n\n.bid-input-group {\n  flex: 0 0 200px;\n  max-width: 240px;\n  position: relative;\n}\n@media (min-width: 1280px) {\n  .bid-input-group { flex-basis: 240px; }\n}\n\n.input-icon {\n  position: absolute;\n  left: 12px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #94a3b8;\n  font-size: 14px;\n  pointer-events: none;\n}\n\n.bid-field {\n  width: 100%;\n  height: 48px;\n  background: #0b1220;\n  border: 1px solid #334155;\n  border-radius: 12px;\n  padding: 0 16px 0 32px;\n  color: #e2e8f0;\n  font-size: 16px;\n  outline: none;\n  transition: all 0.3s ease;\n}\n\n.bid-field:focus {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n.bid-field:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.bid-unit-label {\n  position: absolute;\n  right: 16px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #94a3b8;\n  font-size: 14px;\n  pointer-events: none;\n}\n\n.bid-button {\n  background: linear-gradient(135deg, #3b82f6, #8b5cf6);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  padding: 0 24px;\n  height: 48px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\n}\n\n.bid-button:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);\n}\n\n.bid-button:disabled {\n  background: #6b7280;\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n\n.bid-icon {\n  font-size: 18px;\n}\n\n\n.no-auction {\n  text-align: center;\n  padding: 60px 20px;\n}\n\n.no-auction-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n}\n\n.no-auction-icon {\n  font-size: 48px;\n  opacity: 0.5;\n}\n\n.no-auction-text {\n  font-size: 18px;\n  color: #94a3b8;\n  margin: 0;\n  font-weight: 600;\n}\n\n.no-auction-subtitle {\n  font-size: 14px;\n  color: #64748b;\n  margin: 0;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./auction-panel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./auction-panel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./auction-panel.vue?vue&type=template&id=1a6c1eed&scoped=true\"\nimport script from \"./auction-panel.vue?vue&type=script&lang=js\"\nexport * from \"./auction-panel.vue?vue&type=script&lang=js\"\nimport style0 from \"./auction-panel.vue?vue&type=style&index=0&id=1a6c1eed&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a6c1eed\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"player-avatar\",on:{\"click\":function($event){return _vm.$router.push(`/player/${_vm.player.id}`)}}},[_c('div',{staticClass:\"avatar-wrap\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":\"https://via.placeholder.com/60x60?text=P\",\"alt\":\"avatar\"}}),_c('span',{staticClass:\"energy\"},[_vm._v(\" \"+_vm._s(_vm.player.energy))])]),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.player.name))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"player-avatar\" @click=\"$router.push(`/player/${player.id}`)\">\r\n    <div class=\"avatar-wrap\">\r\n      <img class=\"avatar\" src=\"https://via.placeholder.com/60x60?text=P\" alt=\"avatar\" />\r\n      <span class=\"energy\"> {{ player.energy }}</span>\r\n    </div>\r\n    <div class=\"name\">{{ player.name }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PlayerAvatar',\r\n  props: {\r\n    player: { type: Object, required: true }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.player-avatar { width: 100px; display:flex; flex-direction:column; align-items:center; gap:6px; cursor:pointer; }\r\n.avatar-wrap { position:relative; }\r\n.avatar { width:60px; height:60px; border-radius:50%; object-fit:cover; border:2px solid #334155; }\r\n.energy { position:absolute; bottom:-6px; right:-8px; background:#0f172a; color:#f59e0b; border:1px solid #1f2937; border-radius:10px; padding:2px 6px; font-size:12px; }\r\n.name { color:#e2e8f0; font-size:13px; text-align:center; }\r\n.player-avatar:hover .avatar { border-color:#3b82f6; }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player-avatar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player-avatar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./player-avatar.vue?vue&type=template&id=fc4eb968&scoped=true\"\nimport script from \"./player-avatar.vue?vue&type=script&lang=js\"\nexport * from \"./player-avatar.vue?vue&type=script&lang=js\"\nimport style0 from \"./player-avatar.vue?vue&type=style&index=0&id=fc4eb968&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fc4eb968\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"item-shop\"},[_c('div',{staticClass:\"shop-header\"},[_c('h3',{staticClass:\"shop-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"player-energy\"},[_c('span',{staticClass:\"energy-label\"},[_vm._v(\":\")]),_c('span',{staticClass:\"energy-value\"},[_vm._v(_vm._s(_vm.playerEnergy))])])]),_c('div',{staticClass:\"shop-content\"},_vm._l((_vm.items),function(item){return _c('div',{key:item.id,staticClass:\"item-card\"},[_c('div',{staticClass:\"item-icon\"},[_vm._v(\"\")]),_c('div',{staticClass:\"item-info\"},[_c('h4',{staticClass:\"item-name\"},[_vm._v(_vm._s(item.name))]),_c('p',{staticClass:\"item-description\"},[_vm._v(_vm._s(item.description))]),_c('div',{staticClass:\"item-meta\"},[_c('span',{staticClass:\"item-price\"},[_vm._v(_vm._s(item.price)+\" \")]),_c('span',{staticClass:\"item-type\"},[_vm._v(_vm._s(item.type))])])]),_c('button',{staticClass:\"buy-button\",attrs:{\"disabled\":!_vm.canBuyItem(item)},on:{\"click\":function($event){return _vm.buyItem(item)}}},[_vm._v(\"  \")])])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"item-shop\">\r\n    <div class=\"shop-header\">\r\n      <h3 class=\"shop-title\"></h3>\r\n      <div class=\"player-energy\">\r\n        <span class=\"energy-label\">:</span>\r\n        <span class=\"energy-value\">{{ playerEnergy }}</span>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"shop-content\">\r\n      <div \r\n        v-for=\"item in items\" \r\n        :key=\"item.id\"\r\n        class=\"item-card\"\r\n      >\r\n        <div class=\"item-icon\"></div>\r\n        <div class=\"item-info\">\r\n          <h4 class=\"item-name\">{{ item.name }}</h4>\r\n          <p class=\"item-description\">{{ item.description }}</p>\r\n          <div class=\"item-meta\">\r\n            <span class=\"item-price\">{{ item.price }} </span>\r\n            <span class=\"item-type\">{{ item.type }}</span>\r\n          </div>\r\n        </div>\r\n        <button \r\n          class=\"buy-button\"\r\n          @click=\"buyItem(item)\"\r\n          :disabled=\"!canBuyItem(item)\"\r\n        >\r\n          \r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  name: 'ItemShop',\r\n  data() {\r\n    return {\r\n      items: [\r\n        {\r\n          id: \"item_001\",\r\n          name: \"\",\r\n          price: 15,\r\n          description: \"\",\r\n          type: \"\"\r\n        },\r\n        {\r\n          id: \"item_002\",\r\n          name: \"\",\r\n          price: 10,\r\n          description: \"\",\r\n          type: \"\"\r\n        },\r\n        {\r\n          id: \"item_003\",\r\n          name: \"\",\r\n          price: 20,\r\n          description: \"30\",\r\n          type: \"\"\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['playerEnergy', 'currentPlayer'])\r\n  },\r\n  methods: {\r\n    canBuyItem(item) {\r\n      return this.playerEnergy >= item.price\r\n    },\r\n    \r\n    async buyItem(item) {\r\n      if (!this.canBuyItem(item)) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      try {\r\n        const result = await this.$store.dispatch('buyItem', {\r\n          playerId: this.currentPlayer.id,\r\n          itemId: item.id\r\n        })\r\n        \r\n        this.$store.commit('SET_PLAYER_ENERGY', result.remainingEnergy)\r\n        \r\n        alert('')\r\n      } catch (error) {\r\n        alert(error.message || '')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.item-shop {\r\n  background: #fff;\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n  margin: 16px;\r\n}\r\n\r\n.shop-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.shop-title {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin: 0;\r\n}\r\n\r\n.player-energy {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.energy-label {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-right: 4px;\r\n}\r\n\r\n.energy-value {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #ff9800;\r\n}\r\n\r\n.shop-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.item-card {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px;\r\n  border: 1px solid #eee;\r\n  border-radius: 8px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.item-icon {\r\n  width: 40px;\r\n  height: 40px;\r\n  margin-right: 12px;\r\n  font-size: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.item-info {\r\n  flex: 1;\r\n}\r\n\r\n.item-name {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin: 0 0 4px 0;\r\n}\r\n\r\n.item-description {\r\n  font-size: 12px;\r\n  color: #666;\r\n  margin: 0 0 8px 0;\r\n}\r\n\r\n.item-meta {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.item-price {\r\n  font-size: 14px;\r\n  color: #ff9800;\r\n  font-weight: bold;\r\n}\r\n\r\n.item-type {\r\n  font-size: 12px;\r\n  color: #999;\r\n  background: #f0f0f0;\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.buy-button {\r\n  background: #4caf50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  padding: 8px 16px;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n}\r\n\r\n.buy-button:disabled {\r\n  background: #ccc;\r\n  cursor: not-allowed;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item-shop.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item-shop.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./item-shop.vue?vue&type=template&id=66b979ee&scoped=true\"\nimport script from \"./item-shop.vue?vue&type=script&lang=js\"\nexport * from \"./item-shop.vue?vue&type=script&lang=js\"\nimport style0 from \"./item-shop.vue?vue&type=style&index=0&id=66b979ee&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66b979ee\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"game-container\" :class=\"{ 'post-start': gamePhase !== 'preparation' }\">\n    <!--  -->\n    <div class=\"top-auth-bar\">\n      <div class=\"left\">\n        <span class=\"brand\"></span>\n      </div>\n      <div class=\"right\" v-if=\"user\">\n        <span class=\"user-email\">{{ user.email }}</span>\n        <button class=\"nav-button\" @click=\"$router.push('/profile')\"></button>\n      </div>\n      <div class=\"right\" v-else>\n        <button class=\"nav-button primary\" @click=\"$router.push('/login')\"> / </button>\n      </div>\n    </div>\n\n    <div class=\"game-status\">\n      <div class=\"room-info\">\n        <span class=\"room-name\">{{ room ? (room.name || '') : '' }}</span>\n        <span class=\"room-id\">ID: {{ room ? (room.short_id || room.id) : '-' }}</span>\n        <span class=\"room-meta\" v-if=\"room\"> {{ playerCount }}/{{ seatCount }}  {{ ownerName }}</span>\n      </div>\n      <span class=\"game-phase\">{{ gamePhaseText }}</span>\n      <div class=\"player-energy-hud\" v-if=\"currentPlayer\">\n        <span class=\"icon\"></span>\n        <span class=\"label\"></span>\n        <span class=\"value\">{{ $store.state.playerEnergy }}</span>\n      </div>\n      <div class=\"game-controls\">\n        <button class=\"control-button\" @click=\"toggleReady\" v-if=\"gamePhase === 'preparation'\">{{ currentUserReady ? '' : '' }}</button>\n        <button class=\"control-button\" @click=\"startGame\" v-if=\"gamePhase === 'preparation' && isOwner && allReady\"></button>\n        <button class=\"control-button\" @click=\"startAuction\" v-if=\"false\"></button>\n        <button class=\"control-button\" @click=\"openShop\" v-if=\"gamePhase === 'item'\"></button>\n        <button class=\"control-button danger\" @click=\"leaveRoom\"></button>\n      </div>\n    </div>\n\n    <!--  -->\n    <div class=\"players-avatars\" v-if=\"playerCount > 0 && gamePhase !== 'preparation'\">\n      <div class=\"avatar-item\" v-for=\"p in (room ? room.room_players : [])\" :key=\"p.user_id\" @click=\"showPlayerHand(p)\">\n        <div class=\"avatar-wrap\">\n          <img class=\"player-avatar\" :src=\"getAvatarFor(p.user_id)\" />\n          <span class=\"ready-indicator\" :class=\"{ on: !!p.is_ready }\"></span>\n        </div>\n        <div class=\"player-name\">{{ getNameFor(p.user_id) }}</div>\n      </div>\n    </div>\n\n    <!--  -->\n    <div class=\"auction-stage\">\n      <!--  gamePhase  'auction'  -->\n      <auction-panel \n        v-if=\"gamePhase === 'auction' && $store.state.currentAuctions && $store.state.currentAuctions.length\" \n        :auctions=\"$store.state.currentAuctions\" \n        :countdown=\"auctionCountdown\" \n        @artifact-click=\"showArtifactDetailFromAuction\" \n      />\n      <!--  prepCountdown > 0  -->\n      <div v-else-if=\"prepCountdown > 0\" class=\"countdown-stage\">\n        <div class=\"countdown-content\">\n          <div class=\"countdown-icon\"></div>\n          <h3 class=\"countdown-title\"></h3>\n          <div class=\"countdown-timer\">{{ prepCountdown }}</div>\n          <p class=\"countdown-subtitle\"></p>\n        </div>\n      </div>\n      <!--  -->\n      <div v-else class=\"stage-placeholder\"></div>\n    </div>\n\n    <!--  -->\n    <div class=\"seats\" v-if=\"seatCount > 0 && gamePhase === 'preparation'\" :style=\"{ gridTemplateColumns: 'repeat(' + seatCount + ', 1fr)' }\">\n      <div class=\"seat\" v-for=\"(seat, idx) in seats\" :key=\"idx\" :class=\"{ occupied: !!seat.player }\" @click=\"moveToSeat(idx)\">\n        <div class=\"seat-index\">{{ idx + 1 }}/{{ seatCount }}</div>\n        <div class=\"seat-body\">\n          <div v-if=\"seat.player\" class=\"seat-player\">\n            <div class=\"avatar-wrap\">\n              <img class=\"seat-avatar\" :src=\"getAvatarFor(seat.player.user_id)\" />\n              <span v-if=\"seat.player.is_ready\" class=\"ready-badge\"></span>\n            </div>\n            <div class=\"seat-name\">{{ getNameFor(seat.player.user_id) }}</div>\n          </div>\n          <div v-else class=\"seat-empty\"></div>\n        </div>\n      </div>\n    </div>\n\n    <!--  -->\n    <div class=\"my-hand\" v-if=\"gamePhase !== 'preparation'\">\n      <h3 class=\"hand-title\"></h3>\n      <div class=\"hand-grid\">\n        <div v-for=\"aid in (currentPlayer ? currentPlayer.artifacts : [])\" :key=\"aid\" class=\"hand-card\" @click=\"showArtifactDetail(aid)\">\n          <img class=\"hand-image\" :src=\"artifactMap[aid] ? artifactMap[aid].image : 'https://via.placeholder.com/160x100?text='\" />\n          <div class=\"hand-name\">{{ artifactMap[aid] ? artifactMap[aid].name : aid }}</div>\n        </div>\n      </div>\n    </div>\n\n    <!--  -->\n    <div class=\"collections-panel\" v-if=\"gamePhase !== 'preparation'\">\n      <div class=\"collections-section\">\n        <h4 class=\"collections-title\"></h4>\n        <div class=\"collections-list\">\n          <div \n            v-for=\"collection in collections\" \n            :key=\"collection.id\"\n            class=\"collection-progress-item\"\n            :class=\"{ completed: isCollectionCompleted(collection) }\"\n          >\n            <div class=\"collection-header\">\n              <div class=\"collection-icon\"></div>\n              <div class=\"collection-info\">\n                <div class=\"collection-name\">{{ collection.name }}</div>\n                <div class=\"collection-description\">{{ collection.description }}</div>\n              </div>\n              <div class=\"collection-reward\" v-if=\"isCollectionCompleted(collection)\">\n                <span class=\"reward-badge\"></span>\n              </div>\n            </div>\n            <div class=\"progress-container\">\n              <div class=\"progress-bar\">\n                <div \n                  class=\"progress-fill\"\n                  :style=\"{ width: getCollectionProgress(collection) + '%' }\"\n                ></div>\n              </div>\n              <div class=\"progress-text\">\n                {{ getCurrentCollectionCount(collection) }}/{{ collection.requiredCount }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!--  -->\n    <div class=\"chat-panel\" v-if=\"gamePhase !== 'preparation'\">\n      <div class=\"chat-header\">\n        <h4 class=\"chat-title\"></h4>\n        <div class=\"chat-status\">\n          <span class=\"status-dot\"></span>\n          <span class=\"status-text\"></span>\n        </div>\n      </div>\n      \n      <div class=\"chat-messages\" ref=\"chatContainer\">\n        <div \n          v-for=\"message in chatMessages\" \n          :key=\"message.id\"\n          class=\"chat-message\"\n          :class=\"{ 'own-message': message.userId === (user && user.id) }\"\n        >\n          <div class=\"message-header\">\n            <span class=\"message-username\">{{ message.username }}</span>\n            <span class=\"message-time\">{{ formatMessageTime(message.timestamp) }}</span>\n          </div>\n          <div class=\"message-content\">{{ message.content }}</div>\n        </div>\n      </div>\n      \n      <div class=\"chat-input\">\n        <input \n          v-model=\"newMessage\"\n          @keyup.enter=\"sendMessage\"\n          placeholder=\"...\"\n          class=\"message-input\"\n        />\n        <button @click=\"sendMessage\" class=\"send-button\" :disabled=\"!newMessage.trim()\">\n          <span class=\"send-icon\"></span>\n        </button>\n      </div>\n    </div>\n\n    <!--  -->\n    <div v-if=\"showCardDetail\" class=\"card-detail-popup\">\n      <div class=\"popup-overlay\" @click=\"hideCardDetail\"></div>\n      <div class=\"popup-content\" v-if=\"selectedCard\">\n        <img \n          class=\"detail-image\" \n          :src=\"selectedCard.image\" \n          alt=\"\"\n        />\n        <div class=\"detail-content\">\n          <h3 class=\"detail-name\">{{ selectedCard.name }}</h3>\n          <p class=\"detail-era\">{{ selectedCard.era }} - {{ selectedCard.location }}</p>\n          <p class=\"detail-story\">{{ selectedCard.story }}</p>\n          <div class=\"detail-tags\">\n            <span \n              v-for=\"tag in selectedCard.collectionTags\" \n              :key=\"tag\"\n              class=\"detail-tag\"\n            >\n              {{ tag }}\n            </span>\n          </div>\n          <p class=\"detail-value\">: {{ selectedCard.baseValue }}</p>\n        </div>\n        <button class=\"close-button\" @click=\"hideCardDetail\"></button>\n      </div>\n    </div>\n\n    <!--  -->\n    <div v-if=\"showShop\" class=\"shop-popup\">\n      <div class=\"popup-overlay\" @click=\"closeShop\"></div>\n      <div class=\"popup-content\">\n        <item-shop />\n        <button class=\"close-button\" @click=\"closeShop\"></button>\n      </div>\n    </div>\n\n    <!--  -->\n    <div v-if=\"showHandPopup\" class=\"hand-popup\">\n      <div class=\"popup-overlay\" @click=\"hideHand\"></div>\n      <div class=\"popup-content\">\n        <h3 class=\"hand-title\">{{ handPlayer ? handPlayer.name + ' ' : '' }}</h3>\n        <div class=\"hand-grid\">\n          <div v-for=\"aid in (handPlayer ? handPlayer.artifacts : [])\" :key=\"aid\" class=\"hand-card\">\n            <img class=\"hand-image\" :src=\"artifactMap[aid] ? artifactMap[aid].image : 'https://via.placeholder.com/160x100?text='\" />\n            <div class=\"hand-name\">{{ artifactMap[aid] ? artifactMap[aid].name : aid }}</div>\n          </div>\n        </div>\n        <button class=\"close-button\" @click=\"hideHand\"></button>\n      </div>\n    </div>\n\n    <!--  -->\n    <div v-if=\"showGameEndDialog\" class=\"game-end-popup\">\n      <div class=\"popup-overlay\" @click=\"closeGameEndDialog\"></div>\n      <div class=\"popup-content game-end-content\">\n        <div class=\"game-end-header\">\n          <div class=\"game-end-icon\"></div>\n          <h2 class=\"game-end-title\"></h2>\n          <p class=\"game-end-subtitle\"></p>\n        </div>\n        \n        <div class=\"game-end-actions\">\n          <button class=\"action-button primary\" @click=\"stayInRoom\">\n            <span class=\"btn-icon\"></span>\n            \n          </button>\n          <button class=\"action-button secondary\" @click=\"goToRooms\">\n            <span class=\"btn-icon\"></span>\n            \n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport AuctionPanel from '../../components/auction-panel/auction-panel.vue'\nimport PlayerAvatar from '../../components/player-avatar/player-avatar.vue'\nimport ItemShop from '../../components/item-shop/item-shop.vue'\n\nexport default {\n  name: 'GameIndex',\n  components: {\n    AuctionPanel,\n    PlayerAvatar,\n    ItemShop\n  },\n  data() {\n    return {\n      selectedCard: null,\n      showHandPopup: false,\n      handPlayer: null,\n      artifactMap: {},\n      room: null,\n      profileMap: {},\n      refreshTimer: null,\n      collections: [],\n      showGameEndDialog: false,\n      prepCountdown: 0,\n      auctionCountdown: 0,\n      auctionTimer: null,\n      currentAuction: null,\n      chatMessages: [],\n      newMessage: '',\n      chatChannel: null\n    }\n  },\n  computed: {\n    ...mapState(['gamePhase', 'gameLog', 'showCardDetail', 'showShop', 'user', 'roomId']),\n    // \n    currentPlayer() { return this.$store.state.currentPlayer },\n    isOwner() { return this.room && this.user && this.room.owner_id === this.user.id },\n    allReady() {\n      const players = (this.room && this.room.room_players) ? this.room.room_players : []\n      return players.length > 0 && players.every(p => !!p.is_ready)\n    },\n    currentUserReady() {\n      const user = this.user\n      const players = (this.room && this.room.room_players) ? this.room.room_players : []\n      if (!user) return false\n      const me = players.find(p => p.user_id === user.id)\n      return !!(me && me.is_ready)\n    },\n    playerCount() {\n      return (this.room && this.room.room_players) ? this.room.room_players.length : 0\n    },\n    ownerName() {\n      if (!this.room) return '-'\n      return this.getNameFor(this.room.owner_id)\n    },\n    seatCount() { return (this.room && Number(this.room.max_players)) ? Number(this.room.max_players) : 0 },\n    seats() {\n      const players = (this.room && this.room.room_players) ? this.room.room_players : []\n      const max = this.seatCount\n      const seats = Array.from({ length: max }, () => ({ player: null }))\n      // \n      players.forEach(p => {\n        const idx = typeof p.seat_index === 'number' ? p.seat_index : -1\n        if (idx >= 0 && idx < max && !seats[idx].player) seats[idx].player = p\n      })\n      // \n      players.filter(p => typeof p.seat_index !== 'number' || p.seat_index < 0).forEach(p => {\n        const emptyIdx = seats.findIndex(s => !s.player)\n        if (emptyIdx >= 0) seats[emptyIdx].player = p\n      })\n      return seats\n    },\n    gamePhaseText() {\n      const phaseMap = {\n        'preparation': '',\n        'auction': '',\n        'item': '',\n        'settlement': ''\n      }\n      return phaseMap[this.gamePhase] || ''\n    }\n  },\n  async mounted() {\n    const roomId = this.$route.query.roomId\n    if (roomId) this.$store.commit('SET_ROOM_ID', roomId)\n    await this.initializeGame()\n    await this.loadRoomState()\n    await this.subscribeRoomRealtime()\n  },\n  beforeDestroy() {\n    this.unsubscribeRoomRealtime()\n    if (this.refreshTimer) { clearInterval(this.refreshTimer); this.refreshTimer = null }\n  },\n  methods: {\n    // \n    async initializeGame() {\n      const artifacts = await this.loadArtifacts()\n      this.artifactMap = artifacts.reduce((acc, a) => { acc[a.id] = a; return acc }, {})\n      await this.loadCollections()\n    },\n    async subscribeRoomRealtime() {\n      try {\n        const rid = this.$store.state.roomId\n        if (!rid) return\n        const { getSupabase } = await import('../../services/supabase-client')\n        const supabase = getSupabase()\n        // \n        this.roomChannel = supabase\n          .channel(`room_db_${rid}`)\n          .on('postgres_changes', { event: '*', schema: 'public', table: 'room_players', filter: `room_id=eq.${rid}` }, async () => { await this.loadRoomState() })\n          .on('postgres_changes', { event: 'update', schema: 'public', table: 'rooms', filter: `id=eq.${rid}` }, async () => { await this.loadRoomState() })\n          .subscribe()\n        // \n        this.broadcastChannel = supabase\n          .channel(`room_cast_${rid}`)\n          .on('broadcast', { event: 'seat_change' }, async () => { await this.loadRoomState() })\n          .on('broadcast', { event: 'ready_change' }, async () => { await this.loadRoomState() })\n          .on('broadcast', { event: 'game_started' }, async (payload) => {\n            console.log('[game] received game_started broadcast', payload)\n            this.$store.commit('SET_GAME_PHASE', payload.payload.gamePhase)\n            // \n            const me = (this.room && this.room.room_players ? this.room.room_players : []).find(p => p.user_id === this.$store.state.user.id)\n            if (me) {\n              this.$store.commit('SET_CURRENT_PLAYER', {\n                id: me.user_id,\n                name: this.getNameFor(me.user_id),\n                energy: 50,\n                artifacts: [],\n                items: []\n              })\n            }\n            // \n            this.startAuctionCountdown()\n          })\n          .on('broadcast', { event: 'auction_started' }, async (payload) => {\n            console.log('[game] received auction_started broadcast', payload)\n            const list = payload.payload.artifacts || (payload.payload.artifact ? [payload.payload.artifact] : [])\n            for (const art of list) {\n              await this.$store.dispatch('startAuction', art)\n            }\n            // 30\n            const duration = Number(payload.payload.duration) || 30\n            this.startUnifiedAuctionTimer(duration)\n          })\n          .on('broadcast', { event: 'chat_message' }, async (payload) => {\n            console.log('[game] received chat_message broadcast', payload)\n            this.chatMessages.push(payload.payload)\n            // \n            this.$nextTick(() => {\n              const chatContainer = this.$refs.chatContainer\n              if (chatContainer) {\n                chatContainer.scrollTop = chatContainer.scrollHeight\n              }\n            })\n          })\n          .subscribe()\n        // \n        if (!this.refreshTimer) {\n          this.refreshTimer = setInterval(this.loadRoomState, 1000)\n        }\n      } catch (e) { console.warn('[game] subscribe realtime failed', e); if (!this.refreshTimer) { this.refreshTimer = setInterval(this.loadRoomState, 1000) } }\n    },\n    unsubscribeRoomRealtime() {\n      if (this.roomChannel) { try { this.roomChannel.unsubscribe() } catch (e) {} this.roomChannel = null }\n      if (this.broadcastChannel) { try { this.broadcastChannel.unsubscribe() } catch (e) {} this.broadcastChannel = null }\n    },\n    async loadRoomState() {\n      try {\n        const rid = this.$store.state.roomId\n        if (!rid) { this.room = null; return }\n        const mod = await import('../../services/room-service')\n        const roomService = mod.default\n        const room = await roomService.getRoom(rid)\n        const players = (room && room.room_players) ? [...room.room_players] : []\n        //  seat_index \n        players.sort((a,b) => {\n          const ai = (typeof a.seat_index === 'number') ? a.seat_index : 9999\n          const bi = (typeof b.seat_index === 'number') ? b.seat_index : 9999\n          return ai - bi\n        })\n        room.room_players = players\n        this.room = room\n        // \n        if (room && room.status === 'waiting') {\n          this.$store.commit('SET_GAME_PHASE', 'preparation')\n        }\n        //  playing \n        if (room && room.status === 'playing') {\n          try {\n            const { getSupabase } = await import('../../services/supabase-client')\n            const supabase = getSupabase()\n            const { data: dbAuctions } = await supabase\n              .from('auctions')\n              .select('*')\n              .eq('status', 'active')\n              .eq('status', 'active')\n            const existingIds = new Set((this.$store.state.currentAuctions || []).map(a => a.id))\n            for (const row of (dbAuctions || [])) {\n              if (existingIds.has(row.id)) continue\n              const artifact = row.artifact || this.artifactMap[row.artifact_id] || { id: row.artifact_id, name: row.artifact_id }\n              const auction = {\n                id: row.id,\n                artifact,\n                highestBid: row.highest_bid || 0,\n                highestBidder: row.highest_bidder || null,\n                timeRemaining: typeof row.time_remaining === 'number' ? row.time_remaining : 30,\n                bids: [],\n                startTime: Date.now(),\n                status: 'active',\n                _timer: null\n              }\n              this.$store.commit('ADD_OR_UPDATE_AUCTION', auction)\n            }\n            if ((dbAuctions || []).length > 0) {\n              this.$store.commit('SET_GAME_PHASE', 'auction')\n            }\n          } catch (e) {\n            console.warn('[game] sync active auctions failed', e)\n          }\n        }\n        \n        // \n        if (room.status === 'ended') {\n          this.$store.commit('SET_GAME_PHASE', 'settlement')\n          // \n          this.showGameEndDialog = true\n          setTimeout(() => { this.handleGameEnd() }, 3000)\n        }\n        \n        // \n        const ids = Array.from(new Set(players.map(p => p.user_id).filter(Boolean)))\n        if (ids.length > 0) {\n          const { getSupabase } = await import('../../services/supabase-client')\n          const supabase = getSupabase()\n          const { data: profs } = await supabase.from('profiles').select('id, username, avatar').in('id', ids)\n          const map = {}\n          ;(profs || []).forEach(p => { map[p.id] = { username: p.username, avatar: p.avatar } })\n          this.profileMap = map\n        } else {\n          this.profileMap = {}\n        }\n        //  room_artifacts \n        try {\n          const uid = this.$store.state.user && this.$store.state.user.id\n          if (rid && uid) {\n            const { getSupabase } = await import('../../services/supabase-client')\n            const supabase = getSupabase()\n            const { data: owned } = await supabase\n              .from('room_artifacts')\n              .select('artifact_id')\n              .eq('room_id', rid)\n              .eq('owner_user_id', uid)\n            const aids = (owned || []).map(r => r.artifact_id)\n            //  store \n            const me = (this.room && this.room.room_players ? this.room.room_players : []).find(p => p.user_id === uid)\n            if (me) {\n              const next = {\n                id: me.user_id,\n                name: this.getNameFor(me.user_id),\n                energy: 50,\n                artifacts: aids,\n                items: []\n              }\n              this.$store.commit('SET_CURRENT_PLAYER', next)\n              this.$store.commit('SET_PLAYER_ARTIFACTS', aids)\n            }\n          }\n        } catch (e) {\n          console.warn('[game] sync player hand from DB failed', e)\n        }\n      } catch (e) { console.warn('[game] loadRoomState failed', e) }\n    },\n    async toggleReady() {\n      try {\n        const rid = this.$store.state.roomId\n        const uid = this.$store.state.user && this.$store.state.user.id\n        if (!rid || !uid) return\n        const me = (this.room && this.room.room_players ? this.room.room_players : []).find(p => p.user_id === uid)\n        const next = !(me && me.is_ready)\n        const mod = await import('../../services/room-service')\n        const roomService = mod.default\n        await roomService.setReady(rid, uid, next)\n        await this.loadRoomState()\n      } catch (e) { console.warn('[game] toggleReady failed', e) }\n    },\n    async moveToSeat(idx) {\n      try {\n        const rid = this.$store.state.roomId\n        const uid = this.$store.state.user && this.$store.state.user.id\n        if (!rid || !uid) return\n        const seats = this.seats\n        const me = (this.room && this.room.room_players ? this.room.room_players : []).find(p => p.user_id === uid)\n        const myOld = (me && typeof me.seat_index === 'number') ? me.seat_index : -1\n        const target = seats[idx] && seats[idx].player\n        const mod = await import('../../services/room-service')\n        const roomService = mod.default\n        if (target && target.user_id !== uid) {\n          // \n          await roomService.setSeat(rid, target.user_id, null)\n          await roomService.setSeat(rid, uid, idx)\n          if (myOld >= 0) await roomService.setSeat(rid, target.user_id, myOld)\n        } else {\n          // \n          await roomService.setSeat(rid, uid, idx)\n        }\n        // \n        if (me) { me.seat_index = idx }\n        await this.loadRoomState()\n      } catch (e) { console.warn('[game] moveToSeat failed', e) }\n    },\n    async leaveRoom() {\n      try {\n        const rid = this.$store.state.roomId\n        const uid = this.$store.state.user && this.$store.state.user.id\n        if (!rid || !uid) return\n        const mod = await import('../../services/room-service')\n        const roomService = mod.default\n        await roomService.leaveRoom(rid, uid)\n        this.unsubscribeRoomRealtime()\n        this.$store.commit('SET_ROOM_ID', null)\n        this.room = null\n        this.$router.push('/rooms')\n      } catch (e) {\n        console.warn('[game] leaveRoom failed', e)\n      }\n    },\n    \n    // \n    async handleGameEnd() {\n      try {\n        const rid = this.$store.state.roomId\n        if (rid) {\n          //  waiting/\n          const { getSupabase } = await import('../../services/supabase-client')\n          const supabase = getSupabase()\n          await supabase.from('rooms').update({ status: 'waiting' }).eq('id', rid)\n          //  roomId \n          this.$router.push({ path: '/game', query: { roomId: rid, gameEnded: 'true' } })\n        } else {\n          this.$router.push('/rooms')\n        }\n      } catch (e) {\n        console.warn('[game] handleGameEnd failed', e)\n        // \n        this.$router.push('/rooms')\n      }\n    },\n    async startGame() {\n      try {\n        const rid = this.$store.state.roomId\n        const uid = this.$store.state.user && this.$store.state.user.id\n        if (!rid || !uid || !this.isOwner || !this.allReady) return\n        const mod = await import('../../services/room-service')\n        const roomService = mod.default\n        await roomService.startGame(rid, uid)\n        // \n        this.$store.commit('SET_GAME_PHASE', 'preparation')\n        this.$store.commit('ADD_GAME_LOG', { timestamp: Date.now(), message: '50' })\n        // \n        const me = (this.room && this.room.room_players ? this.room.room_players : []).find(p => p.user_id === uid)\n        if (me) {\n          this.$store.commit('SET_CURRENT_PLAYER', {\n            id: me.user_id,\n            name: this.getNameFor(me.user_id),\n            energy: 50,\n            artifacts: [],\n            items: []\n          })\n        }\n        //  - \n        try {\n          const { getSupabase } = await import('../../services/supabase-client')\n          const supabase = getSupabase()\n          await supabase.channel(`room_cast_${rid}`).send({\n            type: 'broadcast',\n            event: 'game_started',\n            payload: { gamePhase: 'preparation' }\n          })\n        } catch (e) {\n          console.warn('[game] broadcast game_started failed', e)\n        }\n        \n        // 5\n        this.startAuctionCountdown()\n      } catch (e) { console.warn('[game] startGame failed', e) }\n    },\n    \n    async startAuction() {\n      // 2\n      const artifacts = await this.loadArtifacts()\n      if (artifacts.length > 0) {\n        const picks = []\n        while (picks.length < Math.min(2, artifacts.length)) {\n          const candidate = artifacts[Math.floor(Math.random() * artifacts.length)]\n          if (!picks.find(p => p.id === candidate.id)) picks.push(candidate)\n        }\n        for (const art of picks) {\n          await this.$store.dispatch('startAuction', art)\n        }\n      }\n    },\n    \n    async loadArtifacts() {\n      try {\n        const { getSupabase } = await import('../../services/supabase-client')\n        const supabase = getSupabase()\n        const { data, error } = await supabase\n          .from('artifacts')\n          .select('*')\n        if (error) { throw error }\n        // \n        return (data || []).map(row => ({\n          id: row.id,\n          name: row.name,\n          era: row.era,\n          location: row.location,\n          story: row.story,\n          collectionTags: row.collection_tags || [],\n          baseValue: row.base_value || 0,\n          image: row.image\n        }))\n      } catch (error) {\n        console.error(':', error)\n        return []\n      }\n    },\n    \n    openShop() {\n      this.$store.commit('SET_SHOW_SHOP', true)\n    },\n    \n    closeShop() {\n      this.$store.commit('SET_SHOW_SHOP', false)\n    },\n    \n    showArtifactDetail(artifactId) {\n      // artifactMap\n      const artifact = this.artifactMap[artifactId]\n      if (artifact) {\n        this.selectedCard = artifact\n      } else {\n        // \n        this.selectedCard = {\n          id: artifactId,\n          name: '',\n          era: '',\n          location: '',\n          story: '...',\n          collectionTags: [''],\n          baseValue: 8,\n          image: 'https://via.placeholder.com/300x200?text='\n        }\n      }\n      this.$store.commit('SET_SHOW_CARD_DETAIL', true)\n    },\n    \n    hideCardDetail() {\n      this.$store.commit('SET_SHOW_CARD_DETAIL', false)\n      this.selectedCard = null\n    },\n    showArtifactDetailFromAuction(artifact) {\n      this.selectedCard = artifact\n      this.$store.commit('SET_SHOW_CARD_DETAIL', true)\n    },\n\n    showPlayerHand(player) {\n      // \n      const playerData = {\n        id: player.user_id,\n        name: this.getNameFor(player.user_id),\n        artifacts: this.currentPlayer && this.currentPlayer.id === player.user_id ? \n          (this.currentPlayer.artifacts || []) : []\n      }\n      this.handPlayer = playerData\n      this.showHandPopup = true\n    },\n\n    hideHand() {\n      this.handPlayer = null\n      this.showHandPopup = false\n    },\n    \n    formatTime(timestamp) {\n      const date = new Date(timestamp)\n      return `${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`\n    },\n    getAvatarFor(userId) {\n      const prof = this.profileMap[userId]\n      if (prof && prof.avatar) return prof.avatar\n      const code = ((prof && prof.username) ? prof.username : (userId || 'U')).toString().slice(0, 2).toUpperCase()\n      const bg = '334155'\n      const fg = 'e2e8f0'\n      const svg = encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40'><rect width='100%' height='100%' fill='#${bg}'/><text x='50%' y='55%' dominant-baseline='middle' text-anchor='middle' font-size='16' fill='#${fg}' font-family='Arial, sans-serif'>${code}</text></svg>`)\n      return `data:image/svg+xml;charset=utf-8,${svg}`\n    },\n    getNameFor(userId) {\n      const prof = this.profileMap[userId]\n      if (prof && prof.username) return prof.username\n      if (this.room && this.room.owner_id === userId) return ''\n      return (userId || '').slice(0, 6)\n    },\n    \n    // \n    async loadCollections() {\n      try {\n        const response = await fetch('/static/data/collections.json')\n        this.collections = await response.json()\n      } catch (error) {\n        console.error(':', error)\n        this.collections = []\n      }\n    },\n    \n    // \n    isCollectionCompleted(collection) {\n      const currentCount = this.getCurrentCollectionCount(collection)\n      return currentCount >= collection.requiredCount\n    },\n    \n    // \n    getCurrentCollectionCount(collection) {\n      if (!this.currentPlayer || !this.currentPlayer.artifacts) return 0\n      \n      let count = 0\n      this.currentPlayer.artifacts.forEach(artifactId => {\n        const artifact = this.artifactMap[artifactId]\n        if (artifact && artifact.collectionTags && artifact.collectionTags.includes(collection.name)) {\n          count++\n        }\n      })\n      return count\n    },\n    \n    // \n    getCollectionProgress(collection) {\n      const current = this.getCurrentCollectionCount(collection)\n      const required = collection.requiredCount\n      return Math.min((current / required) * 100, 100)\n    },\n    \n    // \n    closeGameEndDialog() {\n      this.showGameEndDialog = false\n    },\n    \n    // \n    stayInRoom() {\n      this.showGameEndDialog = false\n      // \n    },\n    \n    // \n    goToRooms() {\n      this.showGameEndDialog = false\n      this.unsubscribeRoomRealtime()\n      this.$store.commit('SET_ROOM_ID', null)\n      this.room = null\n      this.$router.push('/rooms')\n    },\n    \n    // \n    async onAuctionTimeUp() {\n      try {\n        const auctions = this.$store.state.currentAuctions || []\n        // \n        for (const a of auctions) {\n          await this.$store.dispatch('endAuction', a.id)\n        }\n      } catch (e) { console.warn('[game] onAuctionTimeUp failed', e) }\n    },\n\n    //  prepCountdown  5 \n    startAuctionCountdown() {\n      // \n      if (this.auctionTimer) { clearInterval(this.auctionTimer); this.auctionTimer = null }\n      \n      // preparation\n      this.$store.commit('SET_GAME_PHASE', 'preparation')\n      \n      // prepCountdown0DOM\n      this.prepCountdown = 0\n      \n      // nextTickDOM\n      this.$nextTick(() => {\n        // 5\n        this.prepCountdown = 5\n        \n        // nextTickDOM\n        this.$nextTick(() => {\n          console.log('')\n          this.auctionTimer = setInterval(() => {\n            // Vue\n            this.$set(this, 'prepCountdown', this.prepCountdown - 1)\n            console.log(':', this.prepCountdown)\n            \n            // 00\n            if (this.prepCountdown <= 0) {\n              clearInterval(this.auctionTimer)\n              this.auctionTimer = null\n              // 500ms\n              setTimeout(() => {\n                this.autoStartAuction()\n              }, 500)\n            }\n          }, 1000)\n        })\n      })\n    },\n\n    // auctionCountdown  30 \n    startUnifiedAuctionTimer(duration) {\n      // 0\n      this.auctionCountdown = Number(duration) || 30\n      if (this.auctionTimer) { clearInterval(this.auctionTimer); this.auctionTimer = null }\n      this.$store.commit('SET_GAME_PHASE', 'auction')\n      console.log(':', this.auctionCountdown)\n      this.auctionTimer = setInterval(async () => {\n        this.auctionCountdown--\n        console.log(':', this.auctionCountdown)\n        if (this.auctionCountdown <= 0) {\n          clearInterval(this.auctionTimer)\n          this.auctionTimer = null\n          await this.onAuctionTimeUp()\n        }\n      }, 1000)\n    },\n    \n    // \n    async autoStartAuction() {\n      try {\n        // \n        this.$store.commit('SET_GAME_PHASE', 'auction')\n        \n        // \n        await new Promise(resolve => setTimeout(resolve, 300))\n        \n        const artifacts = await this.loadArtifacts()\n        if (artifacts.length > 0) {\n          const picks = []\n          while (picks.length < Math.min(2, artifacts.length)) {\n            const candidate = artifacts[Math.floor(Math.random() * artifacts.length)]\n            if (!picks.find(p => p.id === candidate.id)) picks.push(candidate)\n          }\n          for (const art of picks) {\n            await this.$store.dispatch('startAuction', art)\n          }\n          // \n          this.startUnifiedAuctionTimer(30)\n          \n          // artifact\n          const rid = this.$store.state.roomId\n          if (rid) {\n            const { getSupabase } = await import('../../services/supabase-client')\n            const supabase = getSupabase()\n            await supabase.channel(`room_cast_${rid}`).send({\n              type: 'broadcast',\n              event: 'auction_started',\n              payload: { artifacts: picks, duration: 30 }\n            })\n          }\n        }\n      } catch (e) {\n        console.warn('[game] autoStartAuction failed', e)\n      }\n    },\n    \n    // \n    async sendMessage() {\n      if (!this.newMessage.trim() || !this.user) return\n      \n      const message = {\n        id: Date.now(),\n        userId: this.user.id,\n        username: this.user.email || '',\n        content: this.newMessage.trim(),\n        timestamp: Date.now()\n      }\n      \n      this.chatMessages.push(message)\n      this.newMessage = ''\n      \n      // \n      const rid = this.$store.state.roomId\n      if (rid) {\n        try {\n          const { getSupabase } = await import('../../services/supabase-client')\n          const supabase = getSupabase()\n          await supabase.channel(`room_cast_${rid}`).send({\n            type: 'broadcast',\n            event: 'chat_message',\n            payload: message\n          })\n        } catch (e) {\n          console.warn('[game] sendMessage failed', e)\n        }\n      }\n    },\n    \n    // \n    formatMessageTime(timestamp) {\n      const date = new Date(timestamp)\n      const now = new Date()\n      const diff = now - date\n      \n      if (diff < 60000) { // 1\n        return ''\n      } else if (diff < 3600000) { // 1\n        return `${Math.floor(diff / 60000)}`\n      } else {\n        return date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.game-container {\n  min-height: 100vh;\n  background: \n    radial-gradient(1200px circle at 20% 10%, #0b1220, #0f172a),\n    radial-gradient(800px circle at 80% 30%, rgba(59,130,246,0.08), rgba(59,130,246,0)),\n    linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);\n  position: relative;\n  overflow-x: hidden;\n}\n\n.game-container::before {\n  content: '';\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: \n    radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),\n    radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);\n  pointer-events: none;\n  z-index: 0;\n}\n\n.top-auth-bar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  background: rgba(255,255,255,0.8);\n  backdrop-filter: saturate(180%) blur(8px);\n}\n.top-auth-bar .brand { font-weight: 600; color: #334155; }\n.top-auth-bar .right { display: flex; align-items: center; gap: 8px; }\n.nav-button { background: #eaecef; border-radius: 8px; padding: 6px 10px; }\n.nav-button.primary { background: #3b82f6; color: #fff; }\n\n.game-status {\n  background: linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(30, 41, 59, 0.95));\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(59, 130, 246, 0.2);\n  border-radius: 16px;\n  margin: 16px;\n  padding: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  position: relative;\n  z-index: 10;\n}\n.player-energy-hud {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  margin-left: 12px;\n  background: linear-gradient(135deg, rgba(59,130,246,0.15), rgba(139,92,246,0.15));\n  border: 1px solid rgba(59,130,246,0.35);\n  color: #e2e8f0;\n  padding: 6px 10px;\n  border-radius: 16px;\n}\n.player-energy-hud .icon { font-size: 14px; }\n.player-energy-hud .label { font-size: 12px; color:#94a3b8; }\n.player-energy-hud .value { font-weight: 700; }\n.game-phase {\n  font-size: 18px;\n  font-weight: bold;\n  color: #333;\n}\n\n.game-controls {\n  display: flex;\n  gap: 8px;\n}\n\n.control-button {\n  background: #4caf50;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  padding: 8px 16px;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.control-button.danger { background: #ef4444; }\n\n.control-button:hover {\n  background: #45a049;\n}\n\n.players-avatars { \n  display: flex; \n  align-items: center; \n  justify-content: center; \n  gap: 12px; \n  padding: 12px 16px; \n  background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.9));\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(59, 130, 246, 0.2);\n  margin: 16px;\n  border-radius: 16px;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);\n  position: relative;\n  z-index: 5;\n  flex-wrap: wrap;\n  min-height: 60px;\n}\n\n.avatar-item { \n  display: flex; \n  flex-direction: column; \n  align-items: center; \n  gap: 6px; \n  cursor: pointer;\n  transition: all 0.3s ease;\n  padding: 8px;\n  border-radius: 12px;\n  position: relative;\n}\n\n.avatar-item:hover {\n  transform: translateY(-4px);\n  background: rgba(59, 130, 246, 0.1);\n  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.2);\n}\n\n.player-avatar { \n  width: 40px; \n  height: 40px; \n  border-radius: 50%; \n  border: 2px solid rgba(59, 130, 246, 0.3);\n  transition: all 0.3s ease;\n}\n\n.avatar-item:hover .player-avatar {\n  border-color: rgba(59, 130, 246, 0.6);\n  transform: scale(1.1);\n}\n\n.ready-indicator { \n  position: absolute; \n  right: 2px; \n  bottom: 2px; \n  width: 12px; \n  height: 12px; \n  border-radius: 50%; \n  background: #ef4444; \n  box-shadow: 0 0 0 2px #0f172a; \n  transition: all 0.3s ease;\n}\n\n.ready-indicator.on { \n  background: #10b981; \n  animation: statusPulse 2s infinite;\n}\n\n@keyframes statusPulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.7;\n  }\n}\n\n.player-name { \n  font-size: 11px; \n  color: #e2e8f0; \n  text-align: center;\n  font-weight: 500;\n  max-width: 60px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.seats { display:grid; gap: 10px; padding: 12px 16px; }\n.seat { background:#0f172a; border:1px solid #1f2937; border-radius:12px; padding:8px; color:#e2e8f0; text-align:center; transition: transform .1s ease, box-shadow .1s ease; }\n.seat:hover { transform: translateY(-1px); box-shadow:0 8px 24px rgba(2,6,23,.35); }\n.seat.occupied { border-color:#10b981; }\n.seat-index { font-size:12px; color:#94a3b8; }\n.seat-body { margin-top:6px; }\n.seat-empty { color:#94a3b8; }\n.seat-player { display:flex; flex-direction:column; align-items:center; gap:6px; }\n.avatar-wrap { position:relative; }\n.seat-avatar { width:40px; height:40px; border-radius:50%; border:1px solid #1f2937; }\n.ready-badge { position:absolute; right:-6px; bottom:-6px; background:#10b981; color:#fff; border-radius:50%; font-size:12px; width:18px; height:18px; display:flex; align-items:center; justify-content:center; box-shadow:0 0 0 2px #0f172a; }\n.seat-name { font-size:12px; }\n\n.players-section { margin: 16px 0; }\n.avatar-grid { display:flex; flex-wrap:wrap; gap:12px; padding: 0 16px; }\n.auction-stage { \n  display: flex; \n  align-items: center; \n  justify-content: center; \n  min-height: 320px; \n  margin: 16px; \n  background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.9));\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(59, 130, 246, 0.2);\n  border-radius: 20px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  position: relative;\n  overflow: hidden;\n}\n\n.auction-stage::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: \n    radial-gradient(circle at 30% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),\n    radial-gradient(circle at 70% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);\n  pointer-events: none;\n}\n\n.stage-placeholder { \n  color: #94a3b8; \n  text-align: center;\n  position: relative;\n  z-index: 1;\n}\n\n.my-hand { \n  background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.9));\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(59, 130, 246, 0.2);\n  margin: 16px;\n  border-radius: 16px;\n  padding: 20px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  position: relative;\n  z-index: 5;\n}\n\n.hand-title {\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: #e2e8f0;\n  margin: 0 0 16px 0;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.hand-grid { \n  display: flex; \n  flex-wrap: wrap; \n  gap: 12px; \n}\n\n.hand-card { \n  width: 160px; \n  background: linear-gradient(135deg, rgba(31, 41, 55, 0.8), rgba(55, 65, 81, 0.8));\n  border: 1px solid rgba(59, 130, 246, 0.2);\n  border-radius: 12px;\n  overflow: hidden;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  position: relative;\n}\n\n.hand-card:hover {\n  transform: translateY(-8px) scale(1.05);\n  border-color: rgba(59, 130, 246, 0.4);\n  box-shadow: 0 16px 32px rgba(59, 130, 246, 0.3);\n}\n\n.hand-image { \n  width: 100%; \n  height: 100px; \n  object-fit: cover;\n  transition: all 0.3s ease;\n}\n\n.hand-card:hover .hand-image {\n  transform: scale(1.1);\n}\n\n.hand-name { \n  font-size: 13px; \n  color: #e2e8f0; \n  padding: 8px 12px;\n  font-weight: 500;\n  line-height: 1.3;\n}\n\n.section-title {\n  font-size: 16px;\n  font-weight: bold;\n  color: #333;\n  margin: 0 16px 8px;\n}\n\n\n.collections-title {\n  font-size: 16px;\n  font-weight: 600;\n  color: #e2e8f0;\n  margin-bottom: 16px;\n  text-align: center;\n}\n\n.collections-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.collection-progress-item {\n  background: linear-gradient(135deg, #1f2937, #374151);\n  border: 1px solid #4b5563;\n  border-radius: 12px;\n  padding: 16px;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n\n.collection-progress-item.completed {\n  border-color: #10b981;\n  background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.05));\n}\n\n.collection-progress-item.completed::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.05));\n  opacity: 1;\n}\n\n.collection-header {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 12px;\n}\n\n.collection-icon {\n  font-size: 20px;\n  flex-shrink: 0;\n}\n\n.collection-info {\n  flex: 1;\n}\n\n.collection-name {\n  font-size: 14px;\n  font-weight: 600;\n  color: #e2e8f0;\n  margin-bottom: 4px;\n}\n\n.collection-description {\n  font-size: 12px;\n  color: #94a3b8;\n}\n\n.collection-reward {\n  flex-shrink: 0;\n}\n\n.reward-badge {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  background: #10b981;\n  color: white;\n  border-radius: 50%;\n  font-size: 12px;\n  font-weight: bold;\n}\n\n.progress-container {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.progress-bar {\n  flex: 1;\n  height: 8px;\n  background: #374151;\n  border-radius: 4px;\n  overflow: hidden;\n  position: relative;\n}\n\n.progress-fill {\n  height: 100%;\n  background: linear-gradient(90deg, #3b82f6, #8b5cf6);\n  border-radius: 4px;\n  transition: width 0.3s ease;\n  position: relative;\n}\n\n.collection-progress-item.completed .progress-fill {\n  background: linear-gradient(90deg, #10b981, #059669);\n}\n\n.progress-text {\n  font-size: 12px;\n  color: #e2e8f0;\n  font-weight: 600;\n  min-width: 40px;\n  text-align: right;\n}\n\n.my-hand { background:#0f172a; border:1px solid #1f2937; margin:16px; border-radius:12px; padding:12px; }\n.hand-grid { display:flex; flex-wrap:wrap; gap:8px; }\n.hand-card { width:160px; background:#0b1220; border:1px solid #1f2937; border-radius:12px; overflow:hidden; }\n.hand-image { width:100%; height:100px; object-fit:cover; }\n.hand-name { font-size:13px; color:#e2e8f0; padding:6px 8px; }\n\n/*  */\n.card-detail-popup, .shop-popup {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1000;\n}\n\n.popup-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n}\n\n.popup-content {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: white;\n  border-radius: 12px;\n  padding: 20px;\n  max-width: 80vw;\n  max-height: 80vh;\n  overflow-y: auto;\n}\n\n.detail-image {\n  width: 100%;\n  height: 200px;\n  border-radius: 8px;\n  margin-bottom: 16px;\n  object-fit: cover;\n}\n\n.detail-content {\n  margin-bottom: 16px;\n}\n\n.detail-name {\n  font-size: 20px;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 8px;\n}\n\n.detail-era {\n  font-size: 14px;\n  color: #666;\n  margin-bottom: 12px;\n}\n\n.detail-story {\n  font-size: 14px;\n  color: #333;\n  line-height: 1.5;\n  margin-bottom: 12px;\n}\n\n.detail-tags {\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 12px;\n}\n\n.detail-tag {\n  background: #e3f2fd;\n  color: #1976d2;\n  font-size: 12px;\n  padding: 4px 8px;\n  border-radius: 12px;\n  margin-right: 8px;\n  margin-bottom: 4px;\n}\n\n.hand-title { font-size:18px; font-weight:600; color:#334155; margin:0 16px 16px; }\n.hand-grid { display:flex; flex-wrap:wrap; gap:8px; }\n.hand-card { width:160px; background:#0b1220; border:1px solid #1f2937; border-radius:12px; overflow:hidden; }\n.hand-image { width:100%; height:100px; object-fit:cover; }\n.hand-name { font-size:13px; color:#e2e8f0; padding:6px 8px; }\n\n/*  */\n.game-end-popup {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2000;\n}\n\n.game-end-content {\n  background: linear-gradient(135deg, #0f172a, #1e293b);\n  border: 1px solid #374151;\n  border-radius: 20px;\n  padding: 40px;\n  max-width: 500px;\n  text-align: center;\n  box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);\n}\n\n.game-end-header {\n  margin-bottom: 32px;\n}\n\n.game-end-icon {\n  font-size: 4rem;\n  margin-bottom: 16px;\n  animation: bounce 2s infinite;\n}\n\n@keyframes bounce {\n  0%, 20%, 50%, 80%, 100% {\n    transform: translateY(0);\n  }\n  40% {\n    transform: translateY(-10px);\n  }\n  60% {\n    transform: translateY(-5px);\n  }\n}\n\n.game-end-title {\n  font-size: 2rem;\n  font-weight: 700;\n  color: #e2e8f0;\n  margin-bottom: 8px;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.game-end-subtitle {\n  font-size: 1.125rem;\n  color: #94a3b8;\n  margin: 0;\n}\n\n.game-end-actions {\n  display: flex;\n  gap: 16px;\n  justify-content: center;\n}\n\n.action-button {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px 32px;\n  border: none;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  min-width: 140px;\n  justify-content: center;\n}\n\n.action-button.primary {\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  color: white;\n}\n\n.action-button.primary:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 12px 40px rgba(59, 130, 246, 0.4);\n}\n\n.action-button.secondary {\n  background: rgba(255, 255, 255, 0.1);\n  color: #e2e8f0;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.action-button.secondary:hover {\n  background: rgba(255, 255, 255, 0.2);\n  transform: translateY(-2px);\n}\n\n.btn-icon {\n  font-size: 18px;\n}\n\n/*  */\n.countdown-stage {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 280px;\n  background: linear-gradient(135deg, #0f172a, #1e293b);\n  border: 1px solid #1f2937;\n  border-radius: 12px;\n}\n\n.countdown-content {\n  text-align: center;\n  color: #e2e8f0;\n}\n\n.countdown-icon {\n  font-size: 4rem;\n  margin-bottom: 16px;\n  animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.1);\n  }\n}\n\n.countdown-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 16px;\n  color: #e2e8f0;\n}\n\n.countdown-timer {\n  font-size: 3rem;\n  font-weight: 700;\n  color: #3b82f6;\n  margin-bottom: 16px;\n  text-shadow: 0 0 20px rgba(59, 130, 246, 0.5);\n  animation: countdownPulse 1s infinite;\n}\n\n@keyframes countdownPulse {\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.1);\n  }\n}\n\n.countdown-subtitle {\n  font-size: 1rem;\n  color: #94a3b8;\n  margin: 0;\n}\n\n/*  */\n.collections-panel {\n  position: fixed;\n  top: 120px;\n  left: 16px;\n  width: 300px;\n  max-height: calc(100vh - 140px);\n  background: linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(30, 41, 59, 0.95));\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(59, 130, 246, 0.2);\n  border-radius: 16px;\n  padding: 24px;\n  z-index: 5;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  overflow-y: auto;\n}\n\n/*  */\n.chat-panel {\n  position: fixed;\n  top: 200px;\n  right: 16px;\n  width: 320px;\n  height: calc(100vh - 220px);\n  background: linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(30, 41, 59, 0.95));\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(59, 130, 246, 0.2);\n  border-radius: 16px;\n  z-index: 5;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.chat-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px 24px;\n  border-bottom: 1px solid rgba(59, 130, 246, 0.2);\n  background: linear-gradient(135deg, rgba(31, 41, 55, 0.8), rgba(55, 65, 81, 0.8));\n}\n\n.chat-title {\n  font-size: 16px;\n  font-weight: 600;\n  color: #e2e8f0;\n  margin: 0;\n}\n\n.chat-status {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.status-dot {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #10b981;\n  animation: statusPulse 2s infinite;\n}\n\n@keyframes statusPulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n\n.status-text {\n  font-size: 12px;\n  color: #94a3b8;\n}\n\n.chat-messages {\n  flex: 1;\n  padding: 16px;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.chat-message {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.chat-message.own-message {\n  align-items: flex-end;\n}\n\n.chat-message.own-message .message-content {\n  background: linear-gradient(135deg, #3b82f6, #8b5cf6);\n  color: white;\n}\n\n.message-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 12px;\n}\n\n.message-username {\n  color: #e2e8f0;\n  font-weight: 600;\n}\n\n.message-time {\n  color: #94a3b8;\n}\n\n.message-content {\n  background: #1f2937;\n  color: #e2e8f0;\n  padding: 8px 12px;\n  border-radius: 12px;\n  max-width: 80%;\n  word-wrap: break-word;\n  line-height: 1.4;\n}\n\n.chat-input {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px 20px;\n  border-top: 1px solid #1f2937;\n  background: #0f172a;\n}\n\n.message-input {\n  flex: 1;\n  padding: 8px 12px;\n  border: 1px solid #374151;\n  border-radius: 8px;\n  background: #1f2937;\n  color: #e2e8f0;\n  font-size: 14px;\n  outline: none;\n}\n\n.message-input:focus {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);\n}\n\n.message-input::placeholder {\n  color: #94a3b8;\n}\n\n.send-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 36px;\n  border: none;\n  border-radius: 8px;\n  background: linear-gradient(135deg, #3b82f6, #8b5cf6);\n  color: white;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.send-button:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\n}\n\n.send-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.send-icon {\n  font-size: 16px;\n}\n/*  */\n.post-start {\n  display: grid;\n  grid-template-areas:\n    'status status status'\n    'avatars avatars avatars'\n    'sidebar-left stage sidebar-right'\n    'hand hand hand';\n  grid-template-columns: 280px 1fr 320px;\n  grid-auto-rows: min-content;\n  gap: 12px;\n}\n.post-start .game-status { grid-area: status; margin: 0; }\n.post-start .players-avatars { grid-area: avatars; margin: 0; }\n.post-start .auction-stage { grid-area: stage; margin: 0; min-height: 420px; }\n.post-start .my-hand { grid-area: hand; margin: 0; }\n.post-start .collections-panel { grid-area: sidebar-left; position: static; margin: 0; }\n.post-start .chat-panel { grid-area: sidebar-right; position: static; margin: 0; }\n\n/*  */\n.post-start .collections-panel,\n.post-start .chat-panel {\n  max-height: 100%;\n  overflow: hidden;\n}\n.post-start .collections-panel .collections-section,\n.post-start .chat-panel .chat-messages {\n  overflow-y: auto;\n}\n\n/*  */\n.post-start .my-hand { padding: 16px 16px 20px; }\n.post-start .hand-grid { gap: 12px; }\n.post-start .hand-card { width: 180px; }\n.post-start .hand-image { height: 120px; }\n\n/*  */\n.post-start .players-avatars {\n  overflow-x: auto;\n  white-space: nowrap;\n}\n.post-start .players-avatars .avatar-item {\n  display: inline-flex;\n}\n\n/*  */\n@media (max-width: 768px) {\n  .post-start {\n    grid-template-areas:\n      'status'\n      'avatars'\n      'stage'\n      'hand'\n      'sidebar-left'\n      'sidebar-right';\n    grid-template-columns: 1fr;\n    gap: 10px;\n  }\n  .post-start .auction-stage { min-height: 360px; }\n  .post-start .hand-card { width: calc((100vw - 32px - 16px) / 2); }\n  .post-start .hand-image { height: 110px; }\n  .post-start .collections-panel,\n  .post-start .chat-panel {\n    max-height: 300px;\n    overflow: hidden;\n  }\n  .post-start .chat-messages { max-height: 240px; }\n}\n\n/*  */\n@media (min-width: 1200px) {\n  .post-start {\n    grid-template-columns: 320px 1fr 360px;\n  }\n  .post-start .auction-stage { min-height: 500px; }\n  .post-start .hand-card { width: 200px; }\n  .post-start .hand-image { height: 130px; }\n}\n\n/*  */\n.post-start .top-auth-bar { display: none; }\n\n/*  */\n.post-start .hand-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); }\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6b61fc81&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6b61fc81&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b61fc81\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('view',{staticClass:\"card-detail-page\"},[_c('view',{staticClass:\"detail-header\"},[_c('button',{staticClass:\"back-button\",on:{\"click\":_vm.goBack}},[_vm._v(\" \")]),_c('text',{staticClass:\"page-title\"},[_vm._v(\"\")])]),(_vm.artifact)?_c('view',{staticClass:\"card-content\"},[_c('view',{staticClass:\"artifact-image-section\"},[_c('image',{staticClass:\"artifact-image\",attrs:{\"src\":_vm.artifact.image,\"mode\":\"aspectFit\"},on:{\"error\":_vm.onImageError}})]),_c('view',{staticClass:\"artifact-info\"},[_c('text',{staticClass:\"artifact-name\"},[_vm._v(_vm._s(_vm.artifact.name))]),_c('text',{staticClass:\"artifact-era\"},[_vm._v(_vm._s(_vm.artifact.era))]),_c('text',{staticClass:\"artifact-location\"},[_vm._v(_vm._s(_vm.artifact.location))]),_c('view',{staticClass:\"artifact-tags\"},_vm._l((_vm.artifact.collectionTags),function(tag){return _c('text',{key:tag,staticClass:\"artifact-tag\"},[_vm._v(\" \"+_vm._s(tag)+\" \")])}),0),_c('view',{staticClass:\"artifact-value\"},[_c('text',{staticClass:\"value-label\"},[_vm._v(\":\")]),_c('text',{staticClass:\"value-number\"},[_vm._v(_vm._s(_vm.artifact.baseValue))])])]),_c('view',{staticClass:\"artifact-story\"},[_c('text',{staticClass:\"story-title\"},[_vm._v(\"\")]),_c('text',{staticClass:\"story-content\"},[_vm._v(_vm._s(_vm.artifact.story))])]),_c('view',{staticClass:\"related-collections\"},[_c('text',{staticClass:\"collections-title\"},[_vm._v(\"\")]),_c('view',{staticClass:\"collections-list\"},_vm._l((_vm.artifact.collectionTags),function(tag){return _c('view',{key:tag,staticClass:\"collection-item\"},[_c('text',{staticClass:\"collection-name\"},[_vm._v(_vm._s(tag))]),_c('text',{staticClass:\"collection-progress\"},[_vm._v(\" \"+_vm._s(_vm.getCollectionProgress(tag))+\" \")])])}),0)])]):_c('view',{staticClass:\"loading\"},[_c('text',[_vm._v(\"...\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <view class=\"card-detail-page\">\r\n    <view class=\"detail-header\">\r\n      <button class=\"back-button\" @click=\"goBack\"> </button>\r\n      <text class=\"page-title\"></text>\r\n    </view>\r\n\r\n    <view class=\"card-content\" v-if=\"artifact\">\r\n      <!--  -->\r\n      <view class=\"artifact-image-section\">\r\n        <image \r\n          class=\"artifact-image\" \r\n          :src=\"artifact.image\" \r\n          mode=\"aspectFit\"\r\n          @error=\"onImageError\"\r\n        />\r\n      </view>\r\n\r\n      <!--  -->\r\n      <view class=\"artifact-info\">\r\n        <text class=\"artifact-name\">{{ artifact.name }}</text>\r\n        <text class=\"artifact-era\">{{ artifact.era }}</text>\r\n        <text class=\"artifact-location\">{{ artifact.location }}</text>\r\n        \r\n        <!--  -->\r\n        <view class=\"artifact-tags\">\r\n          <text \r\n            v-for=\"tag in artifact.collectionTags\" \r\n            :key=\"tag\"\r\n            class=\"artifact-tag\"\r\n          >\r\n            {{ tag }}\r\n          </text>\r\n        </view>\r\n\r\n        <!--  -->\r\n        <view class=\"artifact-value\">\r\n          <text class=\"value-label\">:</text>\r\n          <text class=\"value-number\">{{ artifact.baseValue }}</text>\r\n        </view>\r\n      </view>\r\n\r\n      <!--  -->\r\n      <view class=\"artifact-story\">\r\n        <text class=\"story-title\"></text>\r\n        <text class=\"story-content\">{{ artifact.story }}</text>\r\n      </view>\r\n\r\n      <!--  -->\r\n      <view class=\"related-collections\">\r\n        <text class=\"collections-title\"></text>\r\n        <view class=\"collections-list\">\r\n          <view \r\n            v-for=\"tag in artifact.collectionTags\" \r\n            :key=\"tag\"\r\n            class=\"collection-item\"\r\n          >\r\n            <text class=\"collection-name\">{{ tag }}</text>\r\n            <text class=\"collection-progress\">\r\n              {{ getCollectionProgress(tag) }}\r\n            </text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <view class=\"loading\" v-else>\r\n      <text>...</text>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  name: 'CardDetailPage',\r\n  data() {\r\n    return {\r\n      artifact: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentPlayer'])\r\n  },\r\n  async mounted() {\r\n    await this.loadArtifact()\r\n  },\r\n  methods: {\r\n    async loadArtifact() {\r\n      const artifactId = this.$route.query.id\r\n      if (!artifactId) {\r\n        uni.showToast({\r\n          title: 'ID',\r\n          icon: 'none'\r\n        })\r\n        this.goBack()\r\n        return\r\n      }\r\n\r\n      try {\r\n        const response = await uni.request({\r\n          url: '/static/data/artifacts.json'\r\n        })\r\n        const artifacts = response.data\r\n        this.artifact = artifacts.find(artifact => artifact.id === artifactId)\r\n        \r\n        if (!this.artifact) {\r\n          uni.showToast({\r\n            title: '',\r\n            icon: 'none'\r\n          })\r\n          this.goBack()\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        uni.showToast({\r\n          title: '',\r\n          icon: 'none'\r\n        })\r\n        this.goBack()\r\n      }\r\n    },\r\n    \r\n    onImageError() {\r\n      console.error(':', this.artifact.image)\r\n      // \r\n      this.artifact.image = '/static/images/placeholder.jpg'\r\n    },\r\n    \r\n    getCollectionProgress(tag) {\r\n      if (!this.currentPlayer || !this.currentPlayer.collections) {\r\n        return '0/'\r\n      }\r\n      \r\n      const currentCount = this.currentPlayer.collections[tag] || 0\r\n      const requiredCount = this.getRequiredCount(tag)\r\n      return `${currentCount}/${requiredCount}`\r\n    },\r\n    \r\n    getRequiredCount(tag) {\r\n      const requirements = {\r\n        '': 3,\r\n        '': 2,\r\n        '': 3,\r\n        '': 2\r\n      }\r\n      return requirements[tag] || 0\r\n    },\r\n    \r\n    goBack() {\r\n      uni.navigateBack()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card-detail-page {\r\n  min-height: 100vh;\r\n  background: #f5f5f5;\r\n}\r\n\r\n.detail-header {\r\n  background: #fff;\r\n  padding: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.back-button {\r\n  background: none;\r\n  border: none;\r\n  color: #4caf50;\r\n  font-size: 16px;\r\n  margin-right: 16px;\r\n}\r\n\r\n.page-title {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.card-content {\r\n  padding: 16px;\r\n}\r\n\r\n.artifact-image-section {\r\n  background: #fff;\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n  margin-bottom: 16px;\r\n  text-align: center;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.artifact-image {\r\n  width: 100%;\r\n  max-width: 300px;\r\n  height: 300px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.artifact-info {\r\n  background: #fff;\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n  margin-bottom: 16px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.artifact-name {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  display: block;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.artifact-era {\r\n  font-size: 16px;\r\n  color: #666;\r\n  display: block;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.artifact-location {\r\n  font-size: 14px;\r\n  color: #999;\r\n  display: block;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.artifact-tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.artifact-tag {\r\n  background: #e3f2fd;\r\n  color: #1976d2;\r\n  font-size: 12px;\r\n  padding: 6px 12px;\r\n  border-radius: 16px;\r\n  margin-right: 8px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.artifact-value {\r\n  display: flex;\r\n  align-items: center;\r\n  background: #fff3e0;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.value-label {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-right: 8px;\r\n}\r\n\r\n.value-number {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #ff9800;\r\n}\r\n\r\n.artifact-story {\r\n  background: #fff;\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n  margin-bottom: 16px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.story-title {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  display: block;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.story-content {\r\n  font-size: 14px;\r\n  color: #333;\r\n  line-height: 1.6;\r\n}\r\n\r\n.related-collections {\r\n  background: #fff;\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.collections-title {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  display: block;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.collections-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.collection-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 8px 0;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.collection-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.collection-name {\r\n  font-size: 14px;\r\n  color: #333;\r\n}\r\n\r\n.collection-progress {\r\n  font-size: 12px;\r\n  color: #666;\r\n  background: #f0f0f0;\r\n  padding: 2px 8px;\r\n  border-radius: 12px;\r\n}\r\n\r\n.loading {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 200px;\r\n  color: #666;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./card-detail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./card-detail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./card-detail.vue?vue&type=template&id=4e4f11fb&scoped=true\"\nimport script from \"./card-detail.vue?vue&type=script&lang=js\"\nexport * from \"./card-detail.vue?vue&type=script&lang=js\"\nimport style0 from \"./card-detail.vue?vue&type=style&index=0&id=4e4f11fb&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e4f11fb\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('view',{staticClass:\"shop-page\"},[_c('view',{staticClass:\"shop-header\"},[_c('text',{staticClass:\"page-title\"},[_vm._v(\"\")]),_c('view',{staticClass:\"player-info\"},[_c('text',{staticClass:\"player-name\"},[_vm._v(_vm._s(_vm.currentPlayer.name))]),_c('view',{staticClass:\"energy-display\"},[_c('text',{staticClass:\"energy-icon\"},[_vm._v(\"\")]),_c('text',{staticClass:\"energy-value\"},[_vm._v(_vm._s(_vm.currentPlayer.energy))])])])]),_c('view',{staticClass:\"shop-content\"},[_c('view',{staticClass:\"category-tabs\"},_vm._l((_vm.categories),function(category){return _c('view',{key:category,staticClass:\"category-tab\",class:{ active: _vm.selectedCategory === category },on:{\"click\":function($event){return _vm.selectCategory(category)}}},[_vm._v(\" \"+_vm._s(category)+\" \")])}),0),_c('view',{staticClass:\"items-list\"},_vm._l((_vm.filteredItems),function(item){return _c('view',{key:item.id,staticClass:\"item-card\"},[_c('image',{staticClass:\"item-icon\",attrs:{\"src\":item.icon,\"mode\":\"aspectFit\"}}),_c('view',{staticClass:\"item-details\"},[_c('text',{staticClass:\"item-name\"},[_vm._v(_vm._s(item.name))]),_c('text',{staticClass:\"item-description\"},[_vm._v(_vm._s(item.description))]),_c('view',{staticClass:\"item-meta\"},[_c('text',{staticClass:\"item-price\"},[_vm._v(_vm._s(item.price)+\" \")]),_c('text',{staticClass:\"item-type\"},[_vm._v(_vm._s(item.type))])])]),_c('button',{staticClass:\"buy-button\",attrs:{\"disabled\":!_vm.canBuyItem(item)},on:{\"click\":function($event){return _vm.buyItem(item)}}},[_vm._v(\" \"+_vm._s(_vm.getBuyButtonText(item))+\" \")])])}),0)]),_c('view',{staticClass:\"my-items\"},[_c('text',{staticClass:\"section-title\"},[_vm._v(\" (\"+_vm._s(_vm.playerItems.length)+\"/5)\")]),_c('view',{staticClass:\"items-grid\"},_vm._l((_vm.playerItems),function(item){return _c('view',{key:item.id,staticClass:\"player-item\",on:{\"click\":function($event){return _vm.useItem(item)}}},[_c('image',{staticClass:\"item-icon-small\",attrs:{\"src\":item.icon,\"mode\":\"aspectFit\"}}),_c('text',{staticClass:\"item-name-small\"},[_vm._v(_vm._s(item.name))]),_c('text',{staticClass:\"item-type-small\"},[_vm._v(_vm._s(item.type))])])}),0)]),_c('uni-popup',{ref:\"buyConfirmPopup\",attrs:{\"type\":\"center\"}},[_c('view',{staticClass:\"buy-confirm-popup\"},[_c('text',{staticClass:\"confirm-title\"},[_vm._v(\"\")]),_c('view',{staticClass:\"confirm-content\"},[_c('image',{staticClass:\"confirm-icon\",attrs:{\"src\":_vm.selectedItem.icon,\"mode\":\"aspectFit\"}}),_c('view',{staticClass:\"confirm-details\"},[_c('text',{staticClass:\"confirm-name\"},[_vm._v(_vm._s(_vm.selectedItem.name))]),_c('text',{staticClass:\"confirm-price\"},[_vm._v(\": \"+_vm._s(_vm.selectedItem.price)+\" \")]),_c('text',{staticClass:\"confirm-description\"},[_vm._v(_vm._s(_vm.selectedItem.description))])])]),_c('view',{staticClass:\"confirm-buttons\"},[_c('button',{staticClass:\"cancel-button\",on:{\"click\":_vm.cancelBuy}},[_vm._v(\"\")]),_c('button',{staticClass:\"confirm-button\",on:{\"click\":_vm.confirmBuy}},[_vm._v(\"\")])])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <view class=\"shop-page\">\r\n    <view class=\"shop-header\">\r\n      <text class=\"page-title\"></text>\r\n      <view class=\"player-info\">\r\n        <text class=\"player-name\">{{ currentPlayer.name }}</text>\r\n        <view class=\"energy-display\">\r\n          <text class=\"energy-icon\"></text>\r\n          <text class=\"energy-value\">{{ currentPlayer.energy }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <view class=\"shop-content\">\r\n      <!--  -->\r\n      <view class=\"category-tabs\">\r\n        <view \r\n          v-for=\"category in categories\" \r\n          :key=\"category\"\r\n          class=\"category-tab\"\r\n          :class=\"{ active: selectedCategory === category }\"\r\n          @click=\"selectCategory(category)\"\r\n        >\r\n          {{ category }}\r\n        </view>\r\n      </view>\r\n\r\n      <!--  -->\r\n      <view class=\"items-list\">\r\n        <view \r\n          v-for=\"item in filteredItems\" \r\n          :key=\"item.id\"\r\n          class=\"item-card\"\r\n        >\r\n          <image \r\n            class=\"item-icon\" \r\n            :src=\"item.icon\" \r\n            mode=\"aspectFit\"\r\n          />\r\n          <view class=\"item-details\">\r\n            <text class=\"item-name\">{{ item.name }}</text>\r\n            <text class=\"item-description\">{{ item.description }}</text>\r\n            <view class=\"item-meta\">\r\n              <text class=\"item-price\">{{ item.price }} </text>\r\n              <text class=\"item-type\">{{ item.type }}</text>\r\n            </view>\r\n          </view>\r\n          <button \r\n            class=\"buy-button\"\r\n            @click=\"buyItem(item)\"\r\n            :disabled=\"!canBuyItem(item)\"\r\n          >\r\n            {{ getBuyButtonText(item) }}\r\n          </button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!--  -->\r\n    <view class=\"my-items\">\r\n      <text class=\"section-title\"> ({{ playerItems.length }}/5)</text>\r\n      <view class=\"items-grid\">\r\n        <view \r\n          v-for=\"item in playerItems\" \r\n          :key=\"item.id\"\r\n          class=\"player-item\"\r\n          @click=\"useItem(item)\"\r\n        >\r\n          <image \r\n            class=\"item-icon-small\" \r\n            :src=\"item.icon\" \r\n            mode=\"aspectFit\"\r\n          />\r\n          <text class=\"item-name-small\">{{ item.name }}</text>\r\n          <text class=\"item-type-small\">{{ item.type }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!--  -->\r\n    <uni-popup ref=\"buyConfirmPopup\" type=\"center\">\r\n      <view class=\"buy-confirm-popup\">\r\n        <text class=\"confirm-title\"></text>\r\n        <view class=\"confirm-content\">\r\n          <image \r\n            class=\"confirm-icon\" \r\n            :src=\"selectedItem.icon\" \r\n            mode=\"aspectFit\"\r\n          />\r\n          <view class=\"confirm-details\">\r\n            <text class=\"confirm-name\">{{ selectedItem.name }}</text>\r\n            <text class=\"confirm-price\">: {{ selectedItem.price }} </text>\r\n            <text class=\"confirm-description\">{{ selectedItem.description }}</text>\r\n          </view>\r\n        </view>\r\n        <view class=\"confirm-buttons\">\r\n          <button class=\"cancel-button\" @click=\"cancelBuy\"></button>\r\n          <button class=\"confirm-button\" @click=\"confirmBuy\"></button>\r\n        </view>\r\n      </view>\r\n    </uni-popup>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport itemService from '../../services/item-service.js'\r\n\r\nexport default {\r\n  name: 'ShopPage',\r\n  data() {\r\n    return {\r\n      items: [],\r\n      playerItems: [],\r\n      categories: ['', '', '', '', ''],\r\n      selectedCategory: '',\r\n      selectedItem: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentPlayer']),\r\n    \r\n    filteredItems() {\r\n      if (this.selectedCategory === '') {\r\n        return this.items\r\n      }\r\n      return this.items.filter(item => item.type === this.selectedCategory)\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.loadData()\r\n  },\r\n  methods: {\r\n    async loadData() {\r\n      await this.loadItems()\r\n      await this.loadPlayerItems()\r\n    },\r\n    \r\n    async loadItems() {\r\n      this.items = itemService.getItems()\r\n    },\r\n    \r\n    async loadPlayerItems() {\r\n      if (this.currentPlayer) {\r\n        this.playerItems = itemService.getPlayerItems(this.currentPlayer.id)\r\n      }\r\n    },\r\n    \r\n    selectCategory(category) {\r\n      this.selectedCategory = category\r\n    },\r\n    \r\n    canBuyItem(item) {\r\n      return this.currentPlayer.energy >= item.price && \r\n             this.playerItems.length < 5\r\n    },\r\n    \r\n    getBuyButtonText(item) {\r\n      if (this.currentPlayer.energy < item.price) {\r\n        return ''\r\n      }\r\n      if (this.playerItems.length >= 5) {\r\n        return ''\r\n      }\r\n      return ''\r\n    },\r\n    \r\n    buyItem(item) {\r\n      this.selectedItem = item\r\n      this.$refs.buyConfirmPopup.open()\r\n    },\r\n    \r\n    async confirmBuy() {\r\n      if (!this.selectedItem) return\r\n      \r\n      try {\r\n        const result = await this.$store.dispatch('buyItem', {\r\n          playerId: this.currentPlayer.id,\r\n          itemId: this.selectedItem.id\r\n        })\r\n        \r\n        this.$store.commit('SET_PLAYER_ENERGY', result.remainingEnergy)\r\n        await this.loadPlayerItems()\r\n        \r\n        this.$refs.buyConfirmPopup.close()\r\n        this.selectedItem = null\r\n        \r\n        uni.showToast({\r\n          title: '',\r\n          icon: 'success'\r\n        })\r\n      } catch (error) {\r\n        uni.showToast({\r\n          title: error.message || '',\r\n          icon: 'none'\r\n        })\r\n      }\r\n    },\r\n    \r\n    cancelBuy() {\r\n      this.$refs.buyConfirmPopup.close()\r\n      this.selectedItem = null\r\n    },\r\n    \r\n    async useItem(item) {\r\n      uni.showModal({\r\n        title: '',\r\n        content: ` ${item.name} `,\r\n        success: async (res) => {\r\n          if (res.confirm) {\r\n            try {\r\n              const result = await this.$store.dispatch('useItem', {\r\n                playerId: this.currentPlayer.id,\r\n                itemId: item.id\r\n              })\r\n              \r\n              await this.loadPlayerItems()\r\n              \r\n              uni.showToast({\r\n                title: result.message || '',\r\n                icon: 'success'\r\n              })\r\n            } catch (error) {\r\n              uni.showToast({\r\n                title: error.message || '',\r\n                icon: 'none'\r\n              })\r\n            }\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.shop-page {\r\n  min-height: 100vh;\r\n  background: #f5f5f5;\r\n}\r\n\r\n.shop-header {\r\n  background: #fff;\r\n  padding: 16px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.page-title {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.player-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n}\r\n\r\n.player-name {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.energy-display {\r\n  display: flex;\r\n  align-items: center;\r\n  background: #fff3e0;\r\n  padding: 4px 12px;\r\n  border-radius: 16px;\r\n}\r\n\r\n.energy-icon {\r\n  font-size: 16px;\r\n  margin-right: 4px;\r\n}\r\n\r\n.energy-value {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #ff9800;\r\n}\r\n\r\n.shop-content {\r\n  background: #fff;\r\n  margin: 16px;\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n}\r\n\r\n.category-tabs {\r\n  display: flex;\r\n  margin-bottom: 16px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.category-tab {\r\n  padding: 8px 16px;\r\n  margin-right: 8px;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  color: #666;\r\n  background: #f8f9fa;\r\n}\r\n\r\n.category-tab.active {\r\n  background: #4caf50;\r\n  color: white;\r\n}\r\n\r\n.items-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.item-card {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px;\r\n  border: 1px solid #eee;\r\n  border-radius: 8px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.item-icon {\r\n  width: 48px;\r\n  height: 48px;\r\n  margin-right: 12px;\r\n}\r\n\r\n.item-details {\r\n  flex: 1;\r\n}\r\n\r\n.item-name {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  display: block;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.item-description {\r\n  font-size: 12px;\r\n  color: #666;\r\n  display: block;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.item-meta {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.item-price {\r\n  font-size: 14px;\r\n  color: #ff9800;\r\n  font-weight: bold;\r\n}\r\n\r\n.item-type {\r\n  font-size: 12px;\r\n  color: #999;\r\n  background: #f0f0f0;\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.buy-button {\r\n  background: #4caf50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  padding: 8px 16px;\r\n  font-size: 14px;\r\n}\r\n\r\n.buy-button:disabled {\r\n  background: #ccc;\r\n}\r\n\r\n.my-items {\r\n  background: #fff;\r\n  margin: 16px;\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n}\r\n\r\n.section-title {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 12px;\r\n  display: block;\r\n}\r\n\r\n.items-grid {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.player-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 80px;\r\n  padding: 8px;\r\n  margin: 4px;\r\n  border: 1px solid #eee;\r\n  border-radius: 8px;\r\n  background: #f8f9fa;\r\n}\r\n\r\n.item-icon-small {\r\n  width: 32px;\r\n  height: 32px;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.item-name-small {\r\n  font-size: 10px;\r\n  color: #333;\r\n  text-align: center;\r\n  margin-bottom: 2px;\r\n}\r\n\r\n.item-type-small {\r\n  font-size: 8px;\r\n  color: #999;\r\n  text-align: center;\r\n}\r\n\r\n.buy-confirm-popup {\r\n  background: #fff;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  max-width: 80vw;\r\n}\r\n\r\n.confirm-title {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  text-align: center;\r\n  margin-bottom: 16px;\r\n  display: block;\r\n}\r\n\r\n.confirm-content {\r\n  display: flex;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.confirm-icon {\r\n  width: 60px;\r\n  height: 60px;\r\n  margin-right: 12px;\r\n}\r\n\r\n.confirm-details {\r\n  flex: 1;\r\n}\r\n\r\n.confirm-name {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  display: block;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.confirm-price {\r\n  font-size: 14px;\r\n  color: #ff9800;\r\n  font-weight: bold;\r\n  display: block;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.confirm-description {\r\n  font-size: 12px;\r\n  color: #666;\r\n  line-height: 1.4;\r\n}\r\n\r\n.confirm-buttons {\r\n  display: flex;\r\n  gap: 12px;\r\n}\r\n\r\n.cancel-button {\r\n  flex: 1;\r\n  background: #ccc;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  padding: 12px;\r\n  font-size: 14px;\r\n}\r\n\r\n.confirm-button {\r\n  flex: 1;\r\n  background: #4caf50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  padding: 12px;\r\n  font-size: 14px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shop.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shop.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./shop.vue?vue&type=template&id=7dadcc5e&scoped=true\"\nimport script from \"./shop.vue?vue&type=script&lang=js\"\nexport * from \"./shop.vue?vue&type=script&lang=js\"\nimport style0 from \"./shop.vue?vue&type=style&index=0&id=7dadcc5e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7dadcc5e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('view',{staticClass:\"collection-page\"},[_c('view',{staticClass:\"page-header\"},[_c('text',{staticClass:\"page-title\"},[_vm._v(\"\")]),_c('view',{staticClass:\"player-info\"},[_c('text',{staticClass:\"player-name\"},[_vm._v(_vm._s(_vm.currentPlayer.name))]),_c('text',{staticClass:\"completion-rate\"},[_vm._v(\": \"+_vm._s(_vm.completionRate)+\"%\")])])]),_c('view',{staticClass:\"collections-list\"},_vm._l((_vm.collections),function(collection){return _c('view',{key:collection.id,staticClass:\"collection-card\",class:{ completed: _vm.isCollectionCompleted(collection) }},[_c('image',{staticClass:\"collection-icon\",attrs:{\"src\":collection.icon,\"mode\":\"aspectFit\"}}),_c('view',{staticClass:\"collection-info\"},[_c('text',{staticClass:\"collection-name\"},[_vm._v(_vm._s(collection.name))]),_c('text',{staticClass:\"collection-description\"},[_vm._v(_vm._s(collection.description))]),_c('view',{staticClass:\"collection-progress\"},[_c('view',{staticClass:\"progress-bar\"},[_c('view',{staticClass:\"progress-fill\",style:({ width: _vm.getProgressWidth(collection) })})]),_c('text',{staticClass:\"progress-text\"},[_vm._v(\" \"+_vm._s(_vm.getCurrentCount(collection))+\"/\"+_vm._s(collection.requiredCount)+\" \")])]),_c('view',{staticClass:\"collection-reward\"},[_c('text',{staticClass:\"reward-label\"},[_vm._v(\":\")]),_c('text',{staticClass:\"reward-points\"},[_vm._v(_vm._s(collection.rewardPoints)+\" \")]),(_vm.isCollectionCompleted(collection))?_c('text',{staticClass:\"reward-status\"},[_vm._v(\"   \")]):_vm._e()])])])}),0),_c('view',{staticClass:\"my-artifacts\"},[_c('text',{staticClass:\"section-title\"},[_vm._v(\" (\"+_vm._s(_vm.playerArtifacts.length)+\")\")]),_c('view',{staticClass:\"artifacts-grid\"},_vm._l((_vm.playerArtifacts),function(artifact){return _c('view',{key:artifact.id,staticClass:\"artifact-card\",on:{\"click\":function($event){return _vm.showArtifactDetail(artifact)}}},[_c('image',{staticClass:\"artifact-image\",attrs:{\"src\":artifact.image,\"mode\":\"aspectFit\"}}),_c('view',{staticClass:\"artifact-info\"},[_c('text',{staticClass:\"artifact-name\"},[_vm._v(_vm._s(artifact.name))]),_c('text',{staticClass:\"artifact-era\"},[_vm._v(_vm._s(artifact.era))]),_c('view',{staticClass:\"artifact-tags\"},_vm._l((artifact.collectionTags),function(tag){return _c('text',{key:tag,staticClass:\"artifact-tag\"},[_vm._v(\" \"+_vm._s(tag)+\" \")])}),0),_c('text',{staticClass:\"artifact-value\"},[_vm._v(\": \"+_vm._s(artifact.baseValue))])])])}),0)]),_c('uni-popup',{ref:\"artifactDetailPopup\",attrs:{\"type\":\"center\"}},[(_vm.selectedArtifact)?_c('view',{staticClass:\"artifact-detail-popup\"},[_c('image',{staticClass:\"detail-image\",attrs:{\"src\":_vm.selectedArtifact.image,\"mode\":\"aspectFit\"}}),_c('view',{staticClass:\"detail-content\"},[_c('text',{staticClass:\"detail-name\"},[_vm._v(_vm._s(_vm.selectedArtifact.name))]),_c('text',{staticClass:\"detail-era\"},[_vm._v(_vm._s(_vm.selectedArtifact.era)+\" - \"+_vm._s(_vm.selectedArtifact.location))]),_c('text',{staticClass:\"detail-story\"},[_vm._v(_vm._s(_vm.selectedArtifact.story))]),_c('view',{staticClass:\"detail-tags\"},_vm._l((_vm.selectedArtifact.collectionTags),function(tag){return _c('text',{key:tag,staticClass:\"detail-tag\"},[_vm._v(\" \"+_vm._s(tag)+\" \")])}),0),_c('text',{staticClass:\"detail-value\"},[_vm._v(\": \"+_vm._s(_vm.selectedArtifact.baseValue))])]),_c('button',{staticClass:\"close-button\",on:{\"click\":_vm.hideArtifactDetail}},[_vm._v(\"\")])]):_vm._e()])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <view class=\"collection-page\">\r\n    <view class=\"page-header\">\r\n      <text class=\"page-title\"></text>\r\n      <view class=\"player-info\">\r\n        <text class=\"player-name\">{{ currentPlayer.name }}</text>\r\n        <text class=\"completion-rate\">: {{ completionRate }}%</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!--  -->\r\n    <view class=\"collections-list\">\r\n      <view \r\n        v-for=\"collection in collections\" \r\n        :key=\"collection.id\"\r\n        class=\"collection-card\"\r\n        :class=\"{ completed: isCollectionCompleted(collection) }\"\r\n      >\r\n        <image \r\n          class=\"collection-icon\" \r\n          :src=\"collection.icon\" \r\n          mode=\"aspectFit\"\r\n        />\r\n        <view class=\"collection-info\">\r\n          <text class=\"collection-name\">{{ collection.name }}</text>\r\n          <text class=\"collection-description\">{{ collection.description }}</text>\r\n          <view class=\"collection-progress\">\r\n            <view class=\"progress-bar\">\r\n              <view \r\n                class=\"progress-fill\"\r\n                :style=\"{ width: getProgressWidth(collection) }\"\r\n              ></view>\r\n            </view>\r\n            <text class=\"progress-text\">\r\n              {{ getCurrentCount(collection) }}/{{ collection.requiredCount }}\r\n            </text>\r\n          </view>\r\n          <view class=\"collection-reward\">\r\n            <text class=\"reward-label\">:</text>\r\n            <text class=\"reward-points\">{{ collection.rewardPoints }} </text>\r\n            <text \r\n              class=\"reward-status\"\r\n              v-if=\"isCollectionCompleted(collection)\"\r\n            >\r\n               \r\n            </text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!--  -->\r\n    <view class=\"my-artifacts\">\r\n      <text class=\"section-title\"> ({{ playerArtifacts.length }})</text>\r\n      <view class=\"artifacts-grid\">\r\n        <view \r\n          v-for=\"artifact in playerArtifacts\" \r\n          :key=\"artifact.id\"\r\n          class=\"artifact-card\"\r\n          @click=\"showArtifactDetail(artifact)\"\r\n        >\r\n          <image \r\n            class=\"artifact-image\" \r\n            :src=\"artifact.image\" \r\n            mode=\"aspectFit\"\r\n          />\r\n          <view class=\"artifact-info\">\r\n            <text class=\"artifact-name\">{{ artifact.name }}</text>\r\n            <text class=\"artifact-era\">{{ artifact.era }}</text>\r\n            <view class=\"artifact-tags\">\r\n              <text \r\n                v-for=\"tag in artifact.collectionTags\" \r\n                :key=\"tag\"\r\n                class=\"artifact-tag\"\r\n              >\r\n                {{ tag }}\r\n              </text>\r\n            </view>\r\n            <text class=\"artifact-value\">: {{ artifact.baseValue }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!--  -->\r\n    <uni-popup ref=\"artifactDetailPopup\" type=\"center\">\r\n      <view class=\"artifact-detail-popup\" v-if=\"selectedArtifact\">\r\n        <image \r\n          class=\"detail-image\" \r\n          :src=\"selectedArtifact.image\" \r\n          mode=\"aspectFit\"\r\n        />\r\n        <view class=\"detail-content\">\r\n          <text class=\"detail-name\">{{ selectedArtifact.name }}</text>\r\n          <text class=\"detail-era\">{{ selectedArtifact.era }} - {{ selectedArtifact.location }}</text>\r\n          <text class=\"detail-story\">{{ selectedArtifact.story }}</text>\r\n          <view class=\"detail-tags\">\r\n            <text \r\n              v-for=\"tag in selectedArtifact.collectionTags\" \r\n              :key=\"tag\"\r\n              class=\"detail-tag\"\r\n            >\r\n              {{ tag }}\r\n            </text>\r\n          </view>\r\n          <text class=\"detail-value\">: {{ selectedArtifact.baseValue }}</text>\r\n        </view>\r\n        <button class=\"close-button\" @click=\"hideArtifactDetail\"></button>\r\n      </view>\r\n    </uni-popup>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  name: 'CollectionPage',\r\n  data() {\r\n    return {\r\n      collections: [],\r\n      playerArtifacts: [],\r\n      selectedArtifact: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentPlayer']),\r\n    \r\n    completionRate() {\r\n      if (this.collections.length === 0) return 0\r\n      const completedCount = this.collections.filter(collection => \r\n        this.isCollectionCompleted(collection)\r\n      ).length\r\n      return Math.round((completedCount / this.collections.length) * 100)\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.loadData()\r\n  },\r\n  methods: {\r\n    async loadData() {\r\n      await this.loadCollections()\r\n      await this.loadPlayerArtifacts()\r\n    },\r\n    \r\n    async loadCollections() {\r\n      try {\r\n        const response = await uni.request({\r\n          url: '/static/data/collections.json'\r\n        })\r\n        this.collections = response.data\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      }\r\n    },\r\n    \r\n    async loadPlayerArtifacts() {\r\n      if (this.currentPlayer && this.currentPlayer.artifacts) {\r\n        try {\r\n          const response = await uni.request({\r\n            url: '/static/data/artifacts.json'\r\n          })\r\n          const allArtifacts = response.data\r\n          this.playerArtifacts = allArtifacts.filter(artifact => \r\n            this.currentPlayer.artifacts.includes(artifact.id)\r\n          )\r\n        } catch (error) {\r\n          console.error(':', error)\r\n        }\r\n      }\r\n    },\r\n    \r\n    isCollectionCompleted(collection) {\r\n      const currentCount = this.getCurrentCount(collection)\r\n      return currentCount >= collection.requiredCount\r\n    },\r\n    \r\n    getCurrentCount(collection) {\r\n      if (!this.currentPlayer || !this.currentPlayer.collections) return 0\r\n      return this.currentPlayer.collections[collection.name] || 0\r\n    },\r\n    \r\n    getProgressWidth(collection) {\r\n      const currentCount = this.getCurrentCount(collection)\r\n      const percentage = Math.min((currentCount / collection.requiredCount) * 100, 100)\r\n      return `${percentage}%`\r\n    },\r\n    \r\n    showArtifactDetail(artifact) {\r\n      this.selectedArtifact = artifact\r\n      this.$refs.artifactDetailPopup.open()\r\n    },\r\n    \r\n    hideArtifactDetail() {\r\n      this.$refs.artifactDetailPopup.close()\r\n      this.selectedArtifact = null\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.collection-page {\r\n  min-height: 100vh;\r\n  background: #f5f5f5;\r\n}\r\n\r\n.page-header {\r\n  background: #fff;\r\n  padding: 16px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.page-title {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.player-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n}\r\n\r\n.player-name {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.completion-rate {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #4caf50;\r\n}\r\n\r\n.collections-list {\r\n  padding: 16px;\r\n}\r\n\r\n.collection-card {\r\n  background: #fff;\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.collection-card.completed {\r\n  background: linear-gradient(135deg, #e8f5e8, #f1f8e9);\r\n  border: 2px solid #4caf50;\r\n}\r\n\r\n.collection-icon {\r\n  width: 60px;\r\n  height: 60px;\r\n  margin-right: 16px;\r\n}\r\n\r\n.collection-info {\r\n  flex: 1;\r\n}\r\n\r\n.collection-name {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  display: block;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.collection-description {\r\n  font-size: 14px;\r\n  color: #666;\r\n  display: block;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.collection-progress {\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.progress-bar {\r\n  height: 20px;\r\n  background: #f0f0f0;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.progress-fill {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #4caf50, #8bc34a);\r\n  transition: width 0.3s ease;\r\n}\r\n\r\n.progress-text {\r\n  font-size: 12px;\r\n  color: #666;\r\n}\r\n\r\n.collection-reward {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.reward-label {\r\n  font-size: 12px;\r\n  color: #666;\r\n}\r\n\r\n.reward-points {\r\n  font-size: 14px;\r\n  color: #ff9800;\r\n  font-weight: bold;\r\n}\r\n\r\n.reward-status {\r\n  font-size: 12px;\r\n  color: #4caf50;\r\n  font-weight: bold;\r\n}\r\n\r\n.my-artifacts {\r\n  background: #fff;\r\n  margin: 16px;\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n}\r\n\r\n.section-title {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 12px;\r\n  display: block;\r\n}\r\n\r\n.artifacts-grid {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.artifact-card {\r\n  display: flex;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  padding: 12px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.artifact-image {\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 8px;\r\n  margin-right: 12px;\r\n}\r\n\r\n.artifact-info {\r\n  flex: 1;\r\n}\r\n\r\n.artifact-name {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  display: block;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.artifact-era {\r\n  font-size: 12px;\r\n  color: #666;\r\n  display: block;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.artifact-tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.artifact-tag {\r\n  background: #e3f2fd;\r\n  color: #1976d2;\r\n  font-size: 10px;\r\n  padding: 2px 6px;\r\n  border-radius: 10px;\r\n  margin-right: 4px;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.artifact-value {\r\n  font-size: 14px;\r\n  color: #ff9800;\r\n  font-weight: bold;\r\n}\r\n\r\n.artifact-detail-popup {\r\n  background: #fff;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  max-width: 80vw;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.detail-image {\r\n  width: 100%;\r\n  height: 200px;\r\n  border-radius: 8px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.detail-content {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.detail-name {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  display: block;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.detail-era {\r\n  font-size: 14px;\r\n  color: #666;\r\n  display: block;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.detail-story {\r\n  font-size: 14px;\r\n  color: #333;\r\n  line-height: 1.5;\r\n  display: block;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.detail-tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.detail-tag {\r\n  background: #e3f2fd;\r\n  color: #1976d2;\r\n  font-size: 12px;\r\n  padding: 4px 8px;\r\n  border-radius: 12px;\r\n  margin-right: 8px;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.detail-value {\r\n  font-size: 16px;\r\n  color: #ff9800;\r\n  font-weight: bold;\r\n}\r\n\r\n.close-button {\r\n  background: #666;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  padding: 8px 16px;\r\n  font-size: 14px;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collection.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collection.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./collection.vue?vue&type=template&id=953fb5ce&scoped=true\"\nimport script from \"./collection.vue?vue&type=script&lang=js\"\nexport * from \"./collection.vue?vue&type=script&lang=js\"\nimport style0 from \"./collection.vue?vue&type=style&index=0&id=953fb5ce&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"953fb5ce\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"auth-container\"},[_c('div',{staticClass:\"topbar\"},[_c('button',{staticClass:\"btn link\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.$router.replace('/menu')}}},[_vm._v(\"\")])]),_c('div',{staticClass:\"auth-card\"},[_c('div',{staticClass:\"form-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.account),expression:\"account\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.account)},on:{\"input\":function($event){if($event.target.composing)return;_vm.account=$event.target.value}}})]),_c('div',{staticClass:\"form-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"6\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.password=$event.target.value}}})]),(_vm.mode==='register')?_c('div',{staticClass:\"form-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing)return;_vm.username=$event.target.value}}})]):_vm._e(),_c('p',{staticClass:\"hint\"},[_vm._v(_vm._s(_vm.mode==='login' ? '' : '+'))]),_c('div',{staticClass:\"actions\"},[(_vm.mode==='login')?_c('button',{staticClass:\"btn primary\",attrs:{\"disabled\":_vm.isSubmitting},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleSignIn.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.isSubmitting ? '...' : ''))]):_c('button',{staticClass:\"btn primary\",attrs:{\"disabled\":_vm.isSubmitting},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleSignUp.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.isSubmitting ? '...' : ''))]),_c('button',{staticClass:\"btn link\",attrs:{\"disabled\":_vm.isSubmitting},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.toggleRegister.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.mode==='login' ? '' : ''))])])]),(_vm.errorMessage)?_c('p',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errorMessage))]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { getSupabase } from './supabase-client'\n\nclass AuthService {\n  async signUpAccount(account, password, username) {\n    const supabase = getSupabase()\n    //  account  Supabase \n    const isEmail = /@/.test(account)\n    const email = isEmail ? account : `${account}@local.invalid`\n    const { data, error } = await supabase.auth.signUp({ email, password })\n    if (error) throw error\n    if (data && data.user) {\n      await supabase.from('profiles').upsert({ id: data.user.id, username: username || account, account })\n    }\n    return data\n  }\n\n  async signInAccount(account, password) {\n    const supabase = getSupabase()\n    let email = account\n    if (!/@/.test(account)) {\n      const { data: prof } = await supabase.from('profiles').select('id, username, account').eq('username', account).maybeSingle()\n      email = (prof && prof.account) ? `${prof.account}@local.invalid` : `${account}@local.invalid`\n    }\n    const { data, error } = await supabase.auth.signInWithPassword({ email, password })\n    if (error) throw error\n    return data\n  }\n\n  async signOut() {\n    const supabase = getSupabase()\n    await supabase.auth.signOut()\n  }\n\n  async getUser() {\n    const supabase = getSupabase()\n    const { data } = await supabase.auth.getUser()\n    if (!data || !data.user) return null\n    \n    // \n    try {\n      const { data: profile } = await supabase\n        .from('profiles')\n        .select('username, avatar')\n        .eq('id', data.user.id)\n        .single()\n      \n      // \n      return {\n        ...data.user,\n        username: profile && profile.username,\n        avatar: profile && profile.avatar\n      }\n    } catch (e) {\n      console.warn('Failed to load user profile:', e)\n      return data.user\n    }\n  }\n\n  onAuthStateChange(callback) {\n    const supabase = getSupabase()\n    return supabase.auth.onAuthStateChange(async (_event, session) => {\n      const baseUser = (session && session.user) || null\n      if (!baseUser) {\n        callback(null)\n        return\n      }\n      try {\n        const { data: profile } = await supabase\n          .from('profiles')\n          .select('username, avatar')\n          .eq('id', baseUser.id)\n          .single()\n        const merged = {\n          ...baseUser,\n          username: profile && profile.username,\n          avatar: profile && profile.avatar\n        }\n        callback(merged)\n      } catch (_) {\n        callback(baseUser)\n      }\n    })\n  }\n}\n\nexport default new AuthService()\n","<template>\r\n  <div class=\"auth-container\">\r\n    <div class=\"topbar\">\r\n      <button class=\"btn link\" @click.prevent.stop=\"$router.replace('/menu')\"></button>\r\n    </div>\r\n    <div class=\"auth-card\">\r\n      <div class=\"form-field\">\r\n        <label></label>\r\n        <input v-model=\"account\" type=\"text\" placeholder=\"\" />\r\n      </div>\r\n      <div class=\"form-field\">\r\n        <label></label>\r\n        <input v-model=\"password\" type=\"password\" placeholder=\"6\" />\r\n      </div>\r\n      <div class=\"form-field\" v-if=\"mode==='register'\">\r\n        <label></label>\r\n        <input v-model=\"username\" type=\"text\" placeholder=\"\" />\r\n      </div>\r\n      <p class=\"hint\">{{ mode==='login' ? '' : '+' }}</p>\r\n      <div class=\"actions\">\r\n        <button class=\"btn primary\" :disabled=\"isSubmitting\" v-if=\"mode==='login'\" @click.prevent.stop=\"handleSignIn\">{{ isSubmitting ? '...' : '' }}</button>\r\n        <button class=\"btn primary\" :disabled=\"isSubmitting\" v-else @click.prevent.stop=\"handleSignUp\">{{ isSubmitting ? '...' : '' }}</button>\r\n        <button class=\"btn link\" :disabled=\"isSubmitting\" @click.prevent.stop=\"toggleRegister\">{{ mode==='login' ? '' : '' }}</button>\r\n      </div>\r\n    </div>\r\n    <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport authService from '../../services/auth-service'\r\n\r\nexport default {\r\n  name: 'LoginPage',\r\n  data() {\r\n    return {\r\n      account: '',\r\n      password: '',\r\n      username: '',\r\n      errorMessage: '',\r\n      mode: 'login',\r\n      isSubmitting: false\r\n    }\r\n  },\r\n  methods: {\r\n    async handleSignUp() {\r\n      this.errorMessage = ''\r\n      try {\r\n        const res = await authService.signUpAccount(this.account, this.password, this.username)\r\n        const user = (res && res.user)\r\n        if (user) {\r\n          this.$store.commit('SET_USER', user)\r\n          this.$router.push('/menu')\r\n        }\r\n      } catch (e) {\r\n        this.errorMessage = e.message || ''\r\n      }\r\n    },\r\n    async handleSignIn() {\r\n      this.errorMessage = ''\r\n      try {\r\n        const res = await authService.signInAccount(this.account, this.password)\r\n        const user = (res && res.user)\r\n        if (user) {\r\n          this.$store.commit('SET_USER', user)\r\n          this.$router.push('/menu')\r\n        }\r\n      } catch (e) {\r\n        this.errorMessage = e.message || ''\r\n      }\r\n    },\r\n    toggleRegister() {\r\n      this.mode = this.mode === 'login' ? 'register' : 'login'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.auth-container { min-height: 100vh; display: flex; flex-direction:column; align-items: center; justify-content: flex-start; padding: 24px; background:\r\n  radial-gradient(1400px circle at 15% 0%, #0b1220, #0f172a),\r\n  radial-gradient(900px circle at 85% 25%, rgba(99,102,241,0.12), rgba(99,102,241,0)); }\r\n.topbar { width:100%; display:flex; justify-content:flex-end; align-items:center; margin-bottom: 12px; }\r\n.btn.link { background: transparent; color: #3b82f6; text-decoration: underline; }\r\n.auth-container::before { content:''; position:fixed; inset:0; pointer-events:none; background:\r\n  radial-gradient(600px 300px at 20% 10%, rgba(99,102,241,0.18), rgba(99,102,241,0)),\r\n  radial-gradient(400px 200px at 80% 30%, rgba(16,185,129,0.14), rgba(16,185,129,0)),\r\n  radial-gradient(500px 250px at 50% 80%, rgba(234,179,8,0.10), rgba(234,179,8,0)); filter: blur(20px); z-index: 0; }\r\n.auth-card { width: 420px; background: #0f172a; border: 1px solid #1f2937; border-radius: 16px; box-shadow: 0 20px 40px rgba(2,6,23,0.5); padding: 20px; position: relative; overflow: hidden; z-index: 1; }\r\n.auth-card::after { content:''; position:absolute; inset:-1px; border-radius:16px; padding:1px; background: linear-gradient(90deg, rgba(59,130,246,0.25), rgba(16,185,129,0.25)); -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);\r\n  -webkit-mask-composite: xor; mask-composite: exclude; pointer-events: none; }\r\n.auth-container::after { content:''; position:fixed; inset:0; pointer-events:none; background-image: radial-gradient(2px 2px at 20% 30%, rgba(226,232,240,0.12), transparent), radial-gradient(1.5px 1.5px at 60% 70%, rgba(226,232,240,0.08), transparent); background-repeat: repeat; animation: starfield 20s linear infinite; opacity: .6; }\r\n@keyframes starfield { from { background-position: 0 0, 0 0; } to { background-position: 200px 300px, -200px -300px; }\r\n}\r\n.form-field { margin-bottom: 12px; }\r\nlabel { display: block; font-size: 12px; color: #94a3b8; margin-bottom: 4px; }\r\ninput { width: 100%; padding: 10px 12px; border-radius: 8px; background: #0b1220; color:#e2e8f0; border:1px solid #1f2937; outline:none; }\r\ninput:focus { box-shadow: 0 0 0 2px rgba(59,130,246,0.35); border-color:#3b82f6; }\r\n.actions { display: flex; gap: 8px; margin-top: 12px; }\r\n.btn { padding: 10px 14px; border-radius: 10px; background: #1f2937; color:#e2e8f0; cursor: pointer; transition: transform .15s ease, box-shadow .15s ease; }\r\n.btn.primary { background: #3b82f6; color: #fff; }\r\n.btn:hover { transform: translateY(-1px); box-shadow: 0 6px 20px rgba(59,130,246,0.2); }\r\n.error { color: #ef4444; margin-top: 8px; text-align: center; }\r\n.hint { color: #94a3b8; font-size: 12px; margin-top: 8px; text-align:center; }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=f8057020&scoped=true\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=f8057020&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8057020\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"rooms-container\"},[_c('nav',{staticClass:\"navbar\"},[_c('div',{staticClass:\"nav-content\"},[_vm._m(0),_c('div',{staticClass:\"nav-actions\"},[_c('button',{staticClass:\"nav-btn\",on:{\"click\":function($event){return _vm.$router.push('/create-room')}}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")]),_c('button',{staticClass:\"nav-btn\",on:{\"click\":function($event){return _vm.$router.push('/menu')}}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")])])])]),_c('main',{staticClass:\"main-content\"},[_vm._m(1),_c('section',{staticClass:\"quick-join-section\"},[_c('div',{staticClass:\"quick-join-card\"},[_vm._m(2),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"input-icon\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.roomIdInput),expression:\"roomIdInput\"}],staticClass:\"room-input\",attrs:{\"type\":\"text\",\"placeholder\":\"ID6UUID\"},domProps:{\"value\":(_vm.roomIdInput)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.joinById.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.roomIdInput=$event.target.value}}}),_c('button',{staticClass:\"input-btn\",attrs:{\"disabled\":!_vm.roomIdInput},on:{\"click\":_vm.joinById}},[_vm._v(\"  \")])]),(_vm.errorMessage)?_c('p',{staticClass:\"error-message\"},[_vm._v(_vm._s(_vm.errorMessage))]):_vm._e()])])]),_c('section',{staticClass:\"rooms-section\"},[_c('div',{staticClass:\"section-header\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"section-subtitle\"},[_vm._v(_vm._s(_vm.rooms.length)+\" \")])]),(_vm.rooms && _vm.rooms.length)?_c('div',{staticClass:\"rooms-grid\"},_vm._l((_vm.rooms),function(room){return _c('div',{key:room.id,staticClass:\"room-card\",class:{ 'selected': _vm.selectedRoomId === room.id },on:{\"click\":function($event){return _vm.selectRoom(room.id)}}},[_c('div',{staticClass:\"room-header\"},[_c('div',{staticClass:\"room-icon\"},[_vm._v(\"\")]),_c('div',{staticClass:\"room-info\"},[_c('h3',{staticClass:\"room-name\"},[_vm._v(_vm._s(room.name || ('' + (room.short_id || room.id.slice(0,8)))))]),_c('div',{staticClass:\"room-id\"},[_vm._v(\"ID: \"+_vm._s(room.short_id || room.id.slice(0,8)))])]),_c('div',{staticClass:\"room-status\",class:room.status},[_c('span',{staticClass:\"status-dot\"}),_vm._v(\" \"+_vm._s(_vm.getStatusText(room.status))+\" \")])]),_c('div',{staticClass:\"room-details\"},[_c('div',{staticClass:\"detail-item\"},[_c('span',{staticClass:\"detail-icon\"},[_vm._v(\"\")]),_c('span',{staticClass:\"detail-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"detail-value\"},[_vm._v(_vm._s((room.current_players != null ? room.current_players : 0))+\"/\"+_vm._s(room.max_players))])]),_c('div',{staticClass:\"detail-item\"},[_c('span',{staticClass:\"detail-icon\"},[_vm._v(\"\")]),_c('span',{staticClass:\"detail-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"detail-value\"},[_vm._v(_vm._s(_vm.formatTime(room.created_at)))])])]),_c('div',{staticClass:\"room-actions\"},[_c('button',{staticClass:\"join-btn\",attrs:{\"disabled\":room.status !== 'waiting'},on:{\"click\":function($event){$event.stopPropagation();_vm.selectedRoomId === room.id ? _vm.joinSelectedRoom() : _vm.selectRoom(room.id)}}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\" \"+_vm._s(_vm.selectedRoomId === room.id ? '' : '')+\" \")])])])}),0):_c('div',{staticClass:\"empty-state\"},[_c('div',{staticClass:\"empty-icon\"},[_vm._v(\"\")]),_c('h3',{staticClass:\"empty-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"empty-subtitle\"},[_vm._v(\"\")]),_c('button',{staticClass:\"empty-action\",on:{\"click\":function($event){return _vm.$router.push('/create-room')}}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"brand\"},[_c('div',{staticClass:\"brand-icon\"},[_vm._v(\"\")]),_c('span',{staticClass:\"brand-text\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"header-section\"},[_c('div',{staticClass:\"section-header\"},[_c('h1',{staticClass:\"section-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"section-subtitle\"},[_vm._v(\"ID\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"card-icon\"},[_vm._v(\"\")]),_c('h2',{staticClass:\"card-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"card-subtitle\"},[_vm._v(\"ID\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"rooms-container\">\n    <!--  -->\n    <nav class=\"navbar\">\n      <div class=\"nav-content\">\n        <div class=\"brand\">\n          <div class=\"brand-icon\"></div>\n          <span class=\"brand-text\"></span>\n        </div>\n        <div class=\"nav-actions\">\n          <button class=\"nav-btn\" @click=\"$router.push('/create-room')\">\n            <span class=\"btn-icon\"></span>\n            \n          </button>\n          <button class=\"nav-btn\" @click=\"$router.push('/menu')\">\n            <span class=\"btn-icon\"></span>\n            \n          </button>\n        </div>\n      </div>\n    </nav>\n\n    <!--  -->\n    <main class=\"main-content\">\n      <!--  -->\n      <section class=\"header-section\">\n        <div class=\"section-header\">\n          <h1 class=\"section-title\"></h1>\n          <p class=\"section-subtitle\">ID</p>\n        </div>\n      </section>\n\n      <!--  -->\n      <section class=\"quick-join-section\">\n        <div class=\"quick-join-card\">\n          <div class=\"card-header\">\n            <div class=\"card-icon\"></div>\n            <h2 class=\"card-title\"></h2>\n            <p class=\"card-subtitle\">ID</p>\n          </div>\n          <div class=\"card-content\">\n            <div class=\"input-group\">\n              <div class=\"input-icon\"></div>\n              <input \n                v-model=\"roomIdInput\" \n                type=\"text\" \n                placeholder=\"ID6UUID\"\n                class=\"room-input\"\n                @keyup.enter=\"joinById\"\n              />\n              <button class=\"input-btn\" @click=\"joinById\" :disabled=\"!roomIdInput\">\n                \n              </button>\n            </div>\n            <p v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</p>\n          </div>\n        </div>\n      </section>\n\n      <!--  -->\n      <section class=\"rooms-section\">\n        <div class=\"section-header\">\n          <h2 class=\"section-title\"></h2>\n          <p class=\"section-subtitle\">{{ rooms.length }} </p>\n        </div>\n\n        <div v-if=\"rooms && rooms.length\" class=\"rooms-grid\">\n          <div \n            v-for=\"room in rooms\" \n            :key=\"room.id\" \n            class=\"room-card\"\n            :class=\"{ 'selected': selectedRoomId === room.id }\"\n            @click=\"selectRoom(room.id)\"\n          >\n            <div class=\"room-header\">\n              <div class=\"room-icon\"></div>\n              <div class=\"room-info\">\n                <h3 class=\"room-name\">{{ room.name || ('' + (room.short_id || room.id.slice(0,8))) }}</h3>\n                <div class=\"room-id\">ID: {{ room.short_id || room.id.slice(0,8) }}</div>\n              </div>\n              <div class=\"room-status\" :class=\"room.status\">\n                <span class=\"status-dot\"></span>\n                {{ getStatusText(room.status) }}\n              </div>\n            </div>\n\n            <div class=\"room-details\">\n              <div class=\"detail-item\">\n                <span class=\"detail-icon\"></span>\n                <span class=\"detail-label\"></span>\n                <span class=\"detail-value\">{{ (room.current_players != null ? room.current_players : 0) }}/{{ room.max_players }}</span>\n              </div>\n              <div class=\"detail-item\">\n                <span class=\"detail-icon\"></span>\n                <span class=\"detail-label\"></span>\n                <span class=\"detail-value\">{{ formatTime(room.created_at) }}</span>\n              </div>\n            </div>\n\n            <div class=\"room-actions\">\n              <button \n                class=\"join-btn\" \n                @click.stop=\"selectedRoomId === room.id ? joinSelectedRoom() : selectRoom(room.id)\"\n                :disabled=\"room.status !== 'waiting'\"\n              >\n                <span class=\"btn-icon\"></span>\n                {{ selectedRoomId === room.id ? '' : '' }}\n              </button>\n      </div>\n      </div>\n      </div>\n\n        <div v-else class=\"empty-state\">\n          <div class=\"empty-icon\"></div>\n          <h3 class=\"empty-title\"></h3>\n          <p class=\"empty-subtitle\"></p>\n          <button class=\"empty-action\" @click=\"$router.push('/create-room')\">\n            <span class=\"btn-icon\"></span>\n            \n          </button>\n    </div>\n      </section>\n    </main>\n  </div>\n</template>\n\n<script>\nimport roomService from '../../services/room-service'\nimport authService from '../../services/auth-service'\n\nexport default {\n  name: 'RoomsPage',\n  data() {\n    return {\n      rooms: [],\n      selectedRoomId: '',\n      roomIdInput: '',\n      errorMessage: '',\n      refreshTimer: null\n    }\n  },\n  async mounted() {\n    const user = await authService.getUser()\n    if (user) this.$store.commit('SET_USER', user)\n    this.refreshTimer = setInterval(this.loadRooms, 5000)\n    await this.loadRooms()\n  },\n  beforeDestroy() {\n    if (this.refreshTimer) clearInterval(this.refreshTimer)\n  },\n  methods: {\n    async loadRooms() {\n      try {\n        this.rooms = await roomService.listRooms()\n      } catch (_) {}\n    },\n    selectRoom(id) { \n      this.selectedRoomId = id \n    },\n    async joinSelectedRoom() {\n      try {\n        const user = this.$store.state.user\n        console.log('[rooms.vue] joinSelectedRoom clicked', { selectedRoomId: this.selectedRoomId, userId: user && user.id })\n        if (!user) return this.$router.push('/login')\n        if (!this.selectedRoomId) throw new Error('')\n        const room = await roomService.joinRoom(this.selectedRoomId, user.id)\n        console.log('[rooms.vue] joinSelectedRoom success', { roomId: room && room.id })\n        this.$store.commit('SET_ROOM_ID', room.id)\n        this.$router.push({ path: '/game', query: { roomId: room.id } })\n      } catch (e) {\n        console.error('[rooms] joinSelectedRoom error', e)\n        this.errorMessage = e.message || ''\n      }\n    },\n    async joinById() {\n      try {\n        const user = this.$store.state.user\n        console.log('[rooms.vue] joinById clicked', { input: this.roomIdInput, userId: user && user.id })\n        if (!user) return this.$router.push('/login')\n        if (!this.roomIdInput) throw new Error('ID')\n        const room = await roomService.joinRoom(this.roomIdInput, user.id)\n        console.log('[rooms.vue] joinById success', { roomId: room && room.id })\n        this.$store.commit('SET_ROOM_ID', room.id)\n        this.$router.push({ path: '/game', query: { roomId: room.id } })\n      } catch (e) {\n        console.error('[rooms] joinById error', e)\n        this.errorMessage = e.message || ''\n      }\n    },\n    getStatusText(status) {\n      const statusMap = {\n        'waiting': '',\n        'playing': '',\n        'ended': ''\n      }\n      return statusMap[status] || status\n    },\n    formatTime(timestamp) {\n      const date = new Date(timestamp)\n      const now = new Date()\n      const diff = now - date\n      \n      if (diff < 60000) { // 1\n        return ''\n      } else if (diff < 3600000) { // 1\n        return `${Math.floor(diff / 60000)}`\n      } else if (diff < 86400000) { // 1\n        return `${Math.floor(diff / 3600000)}`\n      } else {\n        return date.toLocaleDateString('zh-CN')\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.rooms-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);\n  color: #e2e8f0;\n}\n\n/*  */\n.navbar {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n  background: rgba(15, 23, 42, 0.95);\n  backdrop-filter: blur(10px);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.nav-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 24px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 64px;\n}\n\n.brand {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.brand-icon {\n  font-size: 24px;\n}\n\n.brand-text {\n  font-size: 20px;\n  font-weight: 700;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.nav-actions {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.nav-btn {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 16px;\n  border: none;\n  border-radius: 8px;\n  background: rgba(255, 255, 255, 0.1);\n  color: #e2e8f0;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.nav-btn:hover {\n  background: rgba(255, 255, 255, 0.2);\n  transform: translateY(-1px);\n}\n\n/*  */\n.main-content {\n  padding-top: 64px;\n}\n\n/*  */\n.header-section {\n  padding: 60px 24px 40px;\n  text-align: center;\n}\n\n.section-header {\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.section-title {\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin-bottom: 16px;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.section-subtitle {\n  font-size: 1.125rem;\n  color: #94a3b8;\n}\n\n/*  */\n.quick-join-section {\n  padding: 0 24px 40px;\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.quick-join-card {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 16px;\n  padding: 32px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);\n}\n\n.card-header {\n  text-align: center;\n  margin-bottom: 24px;\n}\n\n.card-icon {\n  font-size: 2.5rem;\n  margin-bottom: 12px;\n}\n\n.card-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 8px;\n}\n\n.card-subtitle {\n  color: #94a3b8;\n}\n\n.card-content {\n  max-width: 500px;\n  margin: 0 auto;\n}\n\n.input-group {\n  display: flex;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 12px;\n  padding: 4px;\n  transition: all 0.3s ease;\n}\n\n.input-group:focus-within {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n.input-icon {\n  padding: 0 16px;\n  font-size: 1.25rem;\n}\n\n.room-input {\n  flex: 1;\n  padding: 16px;\n  border: none;\n  background: transparent;\n  color: #e2e8f0;\n  font-size: 16px;\n  outline: none;\n}\n\n.room-input::placeholder {\n  color: #64748b;\n}\n\n.input-btn {\n  padding: 16px 24px;\n  border: none;\n  border-radius: 8px;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.input-btn:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);\n}\n\n.input-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.error-message {\n  color: #fca5a5;\n  text-align: center;\n  margin-top: 16px;\n  padding: 12px;\n  background: rgba(239, 68, 68, 0.1);\n  border: 1px solid rgba(239, 68, 68, 0.2);\n  border-radius: 8px;\n}\n\n/*  */\n.rooms-section {\n  padding: 40px 24px 80px;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.rooms-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: 24px;\n  margin-top: 32px;\n}\n\n.room-card {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 16px;\n  padding: 24px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n\n.room-card:hover {\n  transform: translateY(-4px);\n  border-color: rgba(59, 130, 246, 0.3);\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);\n}\n\n.room-card.selected {\n  border-color: #3b82f6;\n  background: rgba(59, 130, 246, 0.1);\n  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);\n}\n\n.room-header {\n  display: flex;\n  align-items: flex-start;\n  gap: 12px;\n  margin-bottom: 16px;\n}\n\n.room-icon {\n  font-size: 2rem;\n  flex-shrink: 0;\n}\n\n.room-info {\n  flex: 1;\n}\n\n.room-name {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin-bottom: 4px;\n  color: #e2e8f0;\n}\n\n.room-id {\n  font-size: 0.875rem;\n  color: #94a3b8;\n  font-family: 'Courier New', monospace;\n}\n\n.room-status {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  flex-shrink: 0;\n}\n\n.room-status.waiting {\n  background: rgba(16, 185, 129, 0.2);\n  color: #10b981;\n}\n\n.room-status.playing {\n  background: rgba(245, 158, 11, 0.2);\n  color: #f59e0b;\n}\n\n.room-status.ended {\n  background: rgba(107, 114, 128, 0.2);\n  color: #6b7280;\n}\n\n.status-dot {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: currentColor;\n}\n\n.room-details {\n  display: flex;\n  gap: 16px;\n  margin-bottom: 20px;\n}\n\n.detail-item {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 0.875rem;\n}\n\n.detail-icon {\n  font-size: 1rem;\n}\n\n.detail-label {\n  color: #94a3b8;\n}\n\n.detail-value {\n  color: #e2e8f0;\n  font-weight: 500;\n}\n\n.room-actions {\n  text-align: center;\n}\n\n.join-btn {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 24px;\n  border: none;\n  border-radius: 10px;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  color: white;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.join-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);\n}\n\n.join-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n}\n\n/*  */\n.empty-state {\n  text-align: center;\n  padding: 80px 24px;\n}\n\n.empty-icon {\n  font-size: 4rem;\n  margin-bottom: 24px;\n  opacity: 0.5;\n}\n\n.empty-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 12px;\n  color: #e2e8f0;\n}\n\n.empty-subtitle {\n  color: #94a3b8;\n  margin-bottom: 32px;\n  font-size: 1.125rem;\n}\n\n.empty-action {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px 32px;\n  border: none;\n  border-radius: 12px;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  color: white;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.empty-action:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 12px 40px rgba(59, 130, 246, 0.4);\n}\n\n/*  */\n@media (max-width: 768px) {\n  .section-title {\n    font-size: 2rem;\n  }\n  \n  .rooms-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .nav-actions {\n    gap: 8px;\n  }\n  \n  .nav-btn {\n    padding: 6px 12px;\n    font-size: 12px;\n  }\n  \n  .room-details {\n    flex-direction: column;\n    gap: 8px;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rooms.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rooms.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./rooms.vue?vue&type=template&id=502c8979&scoped=true\"\nimport script from \"./rooms.vue?vue&type=script&lang=js\"\nexport * from \"./rooms.vue?vue&type=script&lang=js\"\nimport style0 from \"./rooms.vue?vue&type=style&index=0&id=502c8979&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"502c8979\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"create-room-container\"},[_c('nav',{staticClass:\"navbar\"},[_c('div',{staticClass:\"nav-content\"},[_vm._m(0),_c('div',{staticClass:\"nav-actions\"},[(_vm.currentRoom)?_c('button',{staticClass:\"nav-btn\",on:{\"click\":function($event){return _vm.$router.push('/rooms')}}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")]):_vm._e(),_c('button',{staticClass:\"nav-btn\",on:{\"click\":function($event){return _vm.$router.push('/menu')}}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")])])])]),_c('main',{staticClass:\"main-content\"},[_c('section',{staticClass:\"create-section\"},[_vm._m(1),_c('div',{staticClass:\"form-container\"},[_c('div',{staticClass:\"form-card\"},[_vm._m(2),_c('div',{staticClass:\"form-content\"},[_c('div',{staticClass:\"form-field\"},[_vm._m(3),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"-1\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.name=$event.target.value}}}),_c('p',{staticClass:\"field-hint\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"form-field\"},[_vm._m(4),_c('div',{staticClass:\"number-input-group\"},[_c('button',{staticClass:\"number-btn\",attrs:{\"disabled\":_vm.maxPlayers <= 2},on:{\"click\":_vm.decreasePlayers}},[_vm._v(\"-\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.maxPlayers),expression:\"maxPlayers\",modifiers:{\"number\":true}}],staticClass:\"number-input\",attrs:{\"type\":\"number\",\"min\":\"2\",\"max\":\"8\",\"readonly\":\"\"},domProps:{\"value\":(_vm.maxPlayers)},on:{\"input\":function($event){if($event.target.composing)return;_vm.maxPlayers=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('button',{staticClass:\"number-btn\",attrs:{\"disabled\":_vm.maxPlayers >= 8},on:{\"click\":_vm.increasePlayers}},[_vm._v(\"+\")])]),_c('p',{staticClass:\"field-hint\"},[_vm._v(\"2-84-6\")])]),_c('div',{staticClass:\"form-field\"},[_vm._m(5),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],staticClass:\"form-textarea\",attrs:{\"placeholder\":\"...\",\"rows\":\"3\"},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.description=$event.target.value}}}),_c('p',{staticClass:\"field-hint\"},[_vm._v(\"\")])])]),_c('div',{staticClass:\"form-actions\"},[_c('button',{staticClass:\"create-btn\",attrs:{\"disabled\":_vm.isCreating},on:{\"click\":_vm.handleCreate}},[(_vm.isCreating)?_c('span',{staticClass:\"btn-spinner\"}):_vm._e(),_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\" \"+_vm._s(_vm.isCreating ? '...' : '')+\" \")])]),(_vm.errorMessage)?_c('p',{staticClass:\"error-message\"},[_vm._v(_vm._s(_vm.errorMessage))]):_vm._e()])])]),(_vm.room)?_c('section',{staticClass:\"success-section\"},[_c('div',{staticClass:\"success-card\"},[_vm._m(6),_c('div',{staticClass:\"room-info\"},[_c('div',{staticClass:\"info-item\"},[_c('div',{staticClass:\"info-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.room.name || ''))])]),_c('div',{staticClass:\"info-item\"},[_c('div',{staticClass:\"info-label\"},[_vm._v(\"ID\")]),_c('div',{staticClass:\"info-value room-id\"},[_vm._v(_vm._s(_vm.room.short_id))])]),_c('div',{staticClass:\"info-item\"},[_c('div',{staticClass:\"info-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.room.max_players)+\"\")])]),(_vm.room.description)?_c('div',{staticClass:\"info-item\"},[_c('div',{staticClass:\"info-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.room.description))])]):_vm._e()]),_c('div',{staticClass:\"invite-section\"},[_c('h3',{staticClass:\"invite-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"invite-methods\"},[_c('div',{staticClass:\"invite-method\"},[_c('div',{staticClass:\"method-icon\"},[_vm._v(\"\")]),_c('div',{staticClass:\"method-content\"},[_c('div',{staticClass:\"method-label\"},[_vm._v(\"ID\")]),_c('div',{staticClass:\"method-value\"},[_vm._v(_vm._s(_vm.room.short_id))]),_c('button',{staticClass:\"copy-btn\",on:{\"click\":_vm.copyRoomId}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"invite-method\"},[_c('div',{staticClass:\"method-icon\"},[_vm._v(\"\")]),_c('div',{staticClass:\"method-content\"},[_c('div',{staticClass:\"method-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"method-value link\"},[_vm._v(_vm._s(_vm.inviteLink))]),_c('button',{staticClass:\"copy-btn\",on:{\"click\":_vm.copyInviteLink}},[_vm._v(\"\")])])])])]),_c('div',{staticClass:\"success-actions\"},[_c('button',{staticClass:\"action-btn primary\",on:{\"click\":function($event){return _vm.$router.push({ path: '/game', query: { roomId: _vm.room.id } })}}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")]),_c('button',{staticClass:\"action-btn secondary\",on:{\"click\":_vm.copyAllInfo}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")])])])]):_vm._e()])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"brand\"},[_c('div',{staticClass:\"brand-icon\"},[_vm._v(\"\")]),_c('span',{staticClass:\"brand-text\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"section-header\"},[_c('h1',{staticClass:\"section-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"section-subtitle\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"form-header\"},[_c('div',{staticClass:\"form-icon\"},[_vm._v(\"\")]),_c('h2',{staticClass:\"form-title\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('label',{staticClass:\"field-label\"},[_c('span',{staticClass:\"label-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('label',{staticClass:\"field-label\"},[_c('span',{staticClass:\"label-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('label',{staticClass:\"field-label\"},[_c('span',{staticClass:\"label-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"success-header\"},[_c('div',{staticClass:\"success-icon\"},[_vm._v(\"\")]),_c('h2',{staticClass:\"success-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"success-subtitle\"},[_vm._v(\"\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"create-room-container\">\n    <!--  -->\n    <nav class=\"navbar\">\n      <div class=\"nav-content\">\n        <div class=\"brand\">\n          <div class=\"brand-icon\"></div>\n          <span class=\"brand-text\"></span>\n        </div>\n        <div class=\"nav-actions\">\n          <button v-if=\"currentRoom\" class=\"nav-btn\" @click=\"$router.push('/rooms')\">\n            <span class=\"btn-icon\"></span>\n            \n          </button>\n          <button class=\"nav-btn\" @click=\"$router.push('/menu')\">\n            <span class=\"btn-icon\"></span>\n            \n          </button>\n        </div>\n      </div>\n    </nav>\n\n    <!--  -->\n    <main class=\"main-content\">\n      <!--  -->\n      <section class=\"create-section\">\n        <div class=\"section-header\">\n          <h1 class=\"section-title\"></h1>\n          <p class=\"section-subtitle\"></p>\n        </div>\n\n        <div class=\"form-container\">\n          <div class=\"form-card\">\n            <div class=\"form-header\">\n              <div class=\"form-icon\"></div>\n              <h2 class=\"form-title\"></h2>\n      </div>\n\n            <div class=\"form-content\">\n        <div class=\"form-field\">\n                <label class=\"field-label\">\n                  <span class=\"label-icon\"></span>\n                  \n                </label>\n                <input \n                  v-model=\"name\" \n                  type=\"text\" \n                  placeholder=\"-1\"\n                  class=\"form-input\"\n                />\n                <p class=\"field-hint\"></p>\n        </div>\n\n        <div class=\"form-field\">\n                <label class=\"field-label\">\n                  <span class=\"label-icon\"></span>\n                  \n                </label>\n                <div class=\"number-input-group\">\n                  <button class=\"number-btn\" @click=\"decreasePlayers\" :disabled=\"maxPlayers <= 2\">-</button>\n                  <input \n                    v-model.number=\"maxPlayers\" \n                    type=\"number\" \n                    min=\"2\" \n                    max=\"8\"\n                    class=\"number-input\"\n                    readonly\n                  />\n                  <button class=\"number-btn\" @click=\"increasePlayers\" :disabled=\"maxPlayers >= 8\">+</button>\n                </div>\n                <p class=\"field-hint\">2-84-6</p>\n        </div>\n\n        <div class=\"form-field\">\n                <label class=\"field-label\">\n                  <span class=\"label-icon\"></span>\n                  \n                </label>\n                <textarea \n                  v-model=\"description\" \n                  placeholder=\"...\"\n                  class=\"form-textarea\"\n                  rows=\"3\"\n                ></textarea>\n                <p class=\"field-hint\"></p>\n        </div>\n      </div>\n\n            <div class=\"form-actions\">\n              <button class=\"create-btn\" @click=\"handleCreate\" :disabled=\"isCreating\">\n                <span v-if=\"isCreating\" class=\"btn-spinner\"></span>\n                <span class=\"btn-icon\"></span>\n                {{ isCreating ? '...' : '' }}\n              </button>\n            </div>\n\n            <p v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</p>\n      </div>\n        </div>\n      </section>\n\n      <!--  -->\n      <section v-if=\"room\" class=\"success-section\">\n        <div class=\"success-card\">\n          <div class=\"success-header\">\n            <div class=\"success-icon\"></div>\n            <h2 class=\"success-title\"></h2>\n            <p class=\"success-subtitle\"></p>\n          </div>\n\n          <div class=\"room-info\">\n            <div class=\"info-item\">\n              <div class=\"info-label\"></div>\n              <div class=\"info-value\">{{ room.name || '' }}</div>\n            </div>\n            <div class=\"info-item\">\n              <div class=\"info-label\">ID</div>\n              <div class=\"info-value room-id\">{{ room.short_id }}</div>\n            </div>\n            <div class=\"info-item\">\n              <div class=\"info-label\"></div>\n              <div class=\"info-value\">{{ room.max_players }}</div>\n            </div>\n            <div class=\"info-item\" v-if=\"room.description\">\n              <div class=\"info-label\"></div>\n              <div class=\"info-value\">{{ room.description }}</div>\n        </div>\n      </div>\n\n          <div class=\"invite-section\">\n            <h3 class=\"invite-title\"></h3>\n            <div class=\"invite-methods\">\n              <div class=\"invite-method\">\n                <div class=\"method-icon\"></div>\n                <div class=\"method-content\">\n                  <div class=\"method-label\">ID</div>\n                  <div class=\"method-value\">{{ room.short_id }}</div>\n                  <button class=\"copy-btn\" @click=\"copyRoomId\"></button>\n                </div>\n      </div>\n              <div class=\"invite-method\">\n                <div class=\"method-icon\"></div>\n                <div class=\"method-content\">\n                  <div class=\"method-label\"></div>\n                  <div class=\"method-value link\">{{ inviteLink }}</div>\n                  <button class=\"copy-btn\" @click=\"copyInviteLink\"></button>\n        </div>\n      </div>\n    </div>\n          </div>\n\n          <div class=\"success-actions\">\n            <button class=\"action-btn primary\" @click=\"$router.push({ path: '/game', query: { roomId: room.id } })\">\n              <span class=\"btn-icon\"></span>\n              \n            </button>\n            <button class=\"action-btn secondary\" @click=\"copyAllInfo\">\n              <span class=\"btn-icon\"></span>\n              \n            </button>\n      </div>\n    </div>\n      </section>\n    </main>\n  </div>\n</template>\n\n<script>\nimport roomService from '../../services/room-service'\nimport authService from '../../services/auth-service'\n\nexport default {\n  name: 'CreateRoomPage',\n  data() {\n    return {\n      name: '',\n      maxPlayers: 6,\n      description: '',\n      errorMessage: '',\n      room: null,\n      inviteLink: '',\n      isCreating: false,\n      currentRoom: null\n    }\n  },\n  async mounted() {\n    const user = await authService.getUser()\n    if (user) {\n      this.$store.commit('SET_USER', user)\n      // \n      await this.loadCurrentRoom()\n    } else {\n      this.$router.push('/login')\n    }\n  },\n  methods: {\n    async loadCurrentRoom() {\n      try {\n        const roomId = this.$store.state.roomId\n        if (roomId) {\n          this.currentRoom = await roomService.getRoom(roomId)\n        }\n      } catch (e) {\n        console.warn('[create-room] loadCurrentRoom failed', e)\n        this.currentRoom = null\n      }\n    },\n    decreasePlayers() {\n      if (this.maxPlayers > 2) {\n        this.maxPlayers--\n      }\n    },\n    increasePlayers() {\n      if (this.maxPlayers < 8) {\n        this.maxPlayers++\n      }\n    },\n    async handleCreate() {\n      this.errorMessage = ''\n      this.isCreating = true\n      \n      try {\n        const user = this.$store.state.user\n        if (!user) return this.$router.push('/login')\n        \n        const room = await roomService.createRoom(user.id, { \n          name: this.name, \n          maxPlayers: this.maxPlayers, \n          description: this.description \n        })\n        \n        this.room = room\n        this.$store.commit('SET_ROOM_ID', room.id)\n        this.inviteLink = `${window.location.origin}/game?roomId=${room.id}`\n        \n        // \n        this.$nextTick(() => {\n          const successSection = document.querySelector('.success-section')\n          if (successSection) {\n            successSection.scrollIntoView({ behavior: 'smooth' })\n          }\n        })\n        \n      } catch (e) {\n        this.errorMessage = e.message || ''\n      } finally {\n        this.isCreating = false\n      }\n    },\n    async copyRoomId() {\n      try {\n        await navigator.clipboard.writeText(this.room.short_id)\n        this.showCopySuccess('ID')\n      } catch (e) {\n        console.error(':', e)\n      }\n    },\n    async copyInviteLink() {\n      try {\n        await navigator.clipboard.writeText(this.inviteLink)\n        this.showCopySuccess('')\n      } catch (e) {\n        console.error(':', e)\n      }\n    },\n    async copyAllInfo() {\n      const text = `${this.room.name || ''}\nID${this.room.short_id}\n${this.room.max_players}\n${this.room.description ? `${this.room.description}` : ''}\n${this.inviteLink}`\n      \n      try {\n        await navigator.clipboard.writeText(text)\n        this.showCopySuccess('')\n      } catch (e) {\n        console.error(':', e)\n      }\n    },\n    showCopySuccess(message) {\n      // \n      const toast = document.createElement('div')\n      toast.textContent = message\n      toast.style.cssText = `\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: #10b981;\n        color: white;\n        padding: 12px 20px;\n        border-radius: 8px;\n        z-index: 1000;\n        font-size: 14px;\n        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);\n      `\n      document.body.appendChild(toast)\n      setTimeout(() => {\n        document.body.removeChild(toast)\n      }, 3000)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.create-room-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);\n  color: #e2e8f0;\n}\n\n/*  */\n.navbar {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n  background: rgba(15, 23, 42, 0.95);\n  backdrop-filter: blur(10px);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.nav-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 24px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 64px;\n}\n\n.brand {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.brand-icon {\n  font-size: 24px;\n}\n\n.brand-text {\n  font-size: 20px;\n  font-weight: 700;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.nav-actions {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.nav-btn {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 16px;\n  border: none;\n  border-radius: 8px;\n  background: rgba(255, 255, 255, 0.1);\n  color: #e2e8f0;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.nav-btn:hover {\n  background: rgba(255, 255, 255, 0.2);\n  transform: translateY(-1px);\n}\n\n/*  */\n.main-content {\n  padding-top: 64px;\n}\n\n/*  */\n.create-section {\n  padding: 80px 24px;\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.section-header {\n  text-align: center;\n  margin-bottom: 48px;\n}\n\n.section-title {\n  font-size: 3rem;\n  font-weight: 800;\n  margin-bottom: 16px;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.section-subtitle {\n  font-size: 1.25rem;\n  color: #94a3b8;\n}\n\n.form-container {\n  display: flex;\n  justify-content: center;\n}\n\n.form-card {\n  width: 100%;\n  max-width: 600px;\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 20px;\n  padding: 40px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);\n}\n\n.form-header {\n  text-align: center;\n  margin-bottom: 32px;\n}\n\n.form-icon {\n  font-size: 3rem;\n  margin-bottom: 16px;\n}\n\n.form-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 8px;\n}\n\n.form-content {\n  margin-bottom: 32px;\n}\n\n.form-field {\n  margin-bottom: 24px;\n}\n\n.field-label {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  color: #e2e8f0;\n  margin-bottom: 8px;\n}\n\n.label-icon {\n  font-size: 16px;\n}\n\n.form-input, .form-textarea {\n  width: 100%;\n  padding: 16px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 12px;\n  background: rgba(255, 255, 255, 0.1);\n  color: #e2e8f0;\n  font-size: 16px;\n  outline: none;\n  transition: all 0.3s ease;\n}\n\n.form-input:focus, .form-textarea:focus {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n.form-textarea {\n  resize: vertical;\n  min-height: 80px;\n}\n\n.field-hint {\n  font-size: 12px;\n  color: #94a3b8;\n  margin-top: 4px;\n}\n\n.number-input-group {\n  display: flex;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 12px;\n  overflow: hidden;\n}\n\n.number-btn {\n  padding: 16px 20px;\n  border: none;\n  background: rgba(255, 255, 255, 0.1);\n  color: #e2e8f0;\n  font-size: 18px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.number-btn:hover:not(:disabled) {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.number-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.number-input {\n  flex: 1;\n  padding: 16px;\n  border: none;\n  background: transparent;\n  color: #e2e8f0;\n  font-size: 16px;\n  text-align: center;\n  outline: none;\n}\n\n.form-actions {\n  text-align: center;\n}\n\n.create-btn {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px 32px;\n  border: none;\n  border-radius: 12px;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  color: white;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 8px 32px rgba(59, 130, 246, 0.3);\n}\n\n.create-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 12px 40px rgba(59, 130, 246, 0.4);\n}\n\n.create-btn:disabled {\n  opacity: 0.7;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.btn-spinner {\n  width: 16px;\n  height: 16px;\n  border: 2px solid #ffffff;\n  border-top: 2px solid transparent;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.error-message {\n  color: #fca5a5;\n  text-align: center;\n  margin-top: 16px;\n  padding: 12px;\n  background: rgba(239, 68, 68, 0.1);\n  border: 1px solid rgba(239, 68, 68, 0.2);\n  border-radius: 8px;\n}\n\n/*  */\n.success-section {\n  padding: 40px 24px;\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.success-card {\n  background: rgba(16, 185, 129, 0.1);\n  border: 1px solid rgba(16, 185, 129, 0.3);\n  border-radius: 20px;\n  padding: 40px;\n  text-align: center;\n}\n\n.success-header {\n  margin-bottom: 32px;\n}\n\n.success-icon {\n  font-size: 4rem;\n  margin-bottom: 16px;\n}\n\n.success-title {\n  font-size: 2rem;\n  font-weight: 700;\n  color: #10b981;\n  margin-bottom: 8px;\n}\n\n.success-subtitle {\n  color: #94a3b8;\n  font-size: 1.125rem;\n}\n\n.room-info {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 16px;\n  margin-bottom: 32px;\n}\n\n.info-item {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 12px;\n  padding: 16px;\n}\n\n.info-label {\n  font-size: 12px;\n  color: #94a3b8;\n  margin-bottom: 4px;\n}\n\n.info-value {\n  font-size: 16px;\n  font-weight: 600;\n  color: #e2e8f0;\n}\n\n.room-id {\n  font-family: 'Courier New', monospace;\n  background: rgba(59, 130, 246, 0.2);\n  padding: 4px 8px;\n  border-radius: 6px;\n  display: inline-block;\n}\n\n.invite-section {\n  margin-bottom: 32px;\n}\n\n.invite-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin-bottom: 16px;\n}\n\n.invite-methods {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 16px;\n}\n\n.invite-method {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 12px;\n  padding: 16px;\n}\n\n.method-icon {\n  font-size: 1.5rem;\n}\n\n.method-content {\n  flex: 1;\n}\n\n.method-label {\n  font-size: 12px;\n  color: #94a3b8;\n  margin-bottom: 4px;\n}\n\n.method-value {\n  font-size: 14px;\n  font-weight: 600;\n  color: #e2e8f0;\n  margin-bottom: 8px;\n  word-break: break-all;\n}\n\n.method-value.link {\n  font-family: 'Courier New', monospace;\n  font-size: 12px;\n}\n\n.copy-btn {\n  padding: 4px 8px;\n  border: none;\n  border-radius: 6px;\n  background: rgba(59, 130, 246, 0.2);\n  color: #3b82f6;\n  font-size: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.copy-btn:hover {\n  background: rgba(59, 130, 246, 0.3);\n}\n\n.success-actions {\n  display: flex;\n  gap: 16px;\n  justify-content: center;\n}\n\n.action-btn {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 24px;\n  border: none;\n  border-radius: 10px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.action-btn.primary {\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  color: white;\n}\n\n.action-btn.primary:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);\n}\n\n.action-btn.secondary {\n  background: rgba(255, 255, 255, 0.1);\n  color: #e2e8f0;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.action-btn.secondary:hover {\n  background: rgba(255, 255, 255, 0.2);\n  transform: translateY(-2px);\n}\n\n/*  */\n@media (max-width: 768px) {\n  .section-title {\n    font-size: 2rem;\n  }\n  \n  .form-card {\n    padding: 24px;\n  }\n  \n  .room-info {\n    grid-template-columns: 1fr;\n  }\n  \n  .invite-methods {\n    grid-template-columns: 1fr;\n  }\n  \n  .success-actions {\n    flex-direction: column;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create-room.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create-room.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./create-room.vue?vue&type=template&id=63de556e&scoped=true\"\nimport script from \"./create-room.vue?vue&type=script&lang=js\"\nexport * from \"./create-room.vue?vue&type=script&lang=js\"\nimport style0 from \"./create-room.vue?vue&type=style&index=0&id=63de556e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63de556e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"player-page\"},[_c('div',{staticClass:\"header\"},[_c('button',{staticClass:\"back\",on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\" \")]),_c('h2',{staticClass:\"title\"},[_vm._v(\"\"+_vm._s(_vm.player ? _vm.player.name : ''))])]),(_vm.player)?_c('div',{staticClass:\"stats\"},[_c('div',{staticClass:\"stat\"},[_vm._v(\"\"+_vm._s(_vm.player.energy))]),_c('div',{staticClass:\"stat\"},[_vm._v(\"\"+_vm._s(_vm.player.artifacts.length))]),_c('div',{staticClass:\"stat\"},[_vm._v(\"\"+_vm._s(_vm.player.items.length))])]):_vm._e(),(_vm.player)?_c('div',{staticClass:\"hand-section\"},[_c('h3',{staticClass:\"section-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"hand-grid\"},_vm._l((_vm.player.artifacts),function(aid){return _c('div',{key:aid,staticClass:\"hand-card\"},[_c('img',{staticClass:\"hand-image\",attrs:{\"src\":_vm.artifactMap[aid] ? _vm.artifactMap[aid].image : 'https://via.placeholder.com/200x120?text='}}),_c('div',{staticClass:\"hand-name\"},[_vm._v(_vm._s(_vm.artifactMap[aid] ? _vm.artifactMap[aid].name : aid))])])}),0)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"player-page\">\r\n    <div class=\"header\">\r\n      <button class=\"back\" @click=\"$router.back()\"> </button>\r\n      <h2 class=\"title\">{{ player ? player.name : '' }}</h2>\r\n    </div>\r\n\r\n    <div class=\"stats\" v-if=\"player\">\r\n      <div class=\"stat\">{{ player.energy }}</div>\r\n      <div class=\"stat\">{{ player.artifacts.length }}</div>\r\n      <div class=\"stat\">{{ player.items.length }}</div>\r\n    </div>\r\n\r\n    <div class=\"hand-section\" v-if=\"player\">\r\n      <h3 class=\"section-title\"></h3>\r\n      <div class=\"hand-grid\">\r\n        <div v-for=\"aid in player.artifacts\" :key=\"aid\" class=\"hand-card\">\r\n          <img class=\"hand-image\" :src=\"artifactMap[aid] ? artifactMap[aid].image : 'https://via.placeholder.com/200x120?text='\" />\r\n          <div class=\"hand-name\">{{ artifactMap[aid] ? artifactMap[aid].name : aid }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PlayerPage',\r\n  data() {\r\n    return {\r\n      player: null,\r\n      artifactMap: {}\r\n    }\r\n  },\r\n  async mounted() {\r\n    const id = this.$route.params.id\r\n    const player = this.$store.state.players.find(p => p.id === id) || null\r\n    this.player = player\r\n    const artifacts = await this.loadArtifacts()\r\n    this.artifactMap = artifacts.reduce((acc, a) => { acc[a.id] = a; return acc }, {})\r\n  },\r\n  methods: {\r\n    async loadArtifacts() {\r\n      try {\r\n        return [\r\n          { id: 'artifact_001', name: '', image: 'https://via.placeholder.com/300x200?text=' },\r\n          { id: 'artifact_002', name: '', image: 'https://via.placeholder.com/300x200?text=' }\r\n        ]\r\n      } catch (e) { return [] }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.player-page { min-height: 100vh; padding: 16px; }\r\n.header { display:flex; align-items:center; gap:8px; }\r\n.back { background:#334155; color:#fff; border-radius:8px; padding:6px 10px; }\r\n.title { color:#e2e8f0; }\r\n.stats { display:flex; gap:12px; margin:12px 0; color:#e2e8f0; }\r\n.section-title { color:#e2e8f0; margin-bottom:8px; }\r\n.hand-grid { display:flex; flex-wrap:wrap; gap:8px; }\r\n.hand-card { width:200px; background: #0f172a; border:1px solid #1f2937; border-radius:12px; overflow:hidden; }\r\n.hand-image { width:100%; height:120px; object-fit:cover; }\r\n.hand-name { font-size:13px; color:#e2e8f0; padding:6px 8px; }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./player.vue?vue&type=template&id=1e1863fb&scoped=true\"\nimport script from \"./player.vue?vue&type=script&lang=js\"\nexport * from \"./player.vue?vue&type=script&lang=js\"\nimport style0 from \"./player.vue?vue&type=style&index=0&id=1e1863fb&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e1863fb\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"menu-container\"},[_c('nav',{staticClass:\"navbar\"},[_c('div',{staticClass:\"nav-content\"},[_vm._m(0),(_vm.$store.state.user)?_c('div',{staticClass:\"nav-actions\"},[_c('div',{staticClass:\"user-info\"},[_c('img',{staticClass:\"user-avatar\",attrs:{\"src\":_vm.getUserAvatar(),\"alt\":\"\"}}),_c('span',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.getUserName()))])]),_c('button',{staticClass:\"nav-btn\",on:{\"click\":function($event){return _vm.$router.push('/profile')}}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")]),_c('button',{staticClass:\"nav-btn logout\",on:{\"click\":_vm.logout}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")])]):_c('div',{staticClass:\"nav-actions\"},[_c('button',{staticClass:\"nav-btn primary\",on:{\"click\":function($event){return _vm.$router.push('/login')}}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\"  /  \")])])])]),_c('main',{staticClass:\"main-content\"},[_c('section',{staticClass:\"hero-section\"},[_c('div',{staticClass:\"hero-content\"},[_c('div',{staticClass:\"hero-badge\"},[_vm._v(\" \")]),_vm._m(1),_vm._m(2),_c('div',{staticClass:\"hero-actions\"},[_c('button',{staticClass:\"hero-btn primary\",on:{\"click\":_vm.quickStart}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")]),_c('button',{staticClass:\"hero-btn secondary\",on:{\"click\":_vm.scrollToGame}},[_c('span',{staticClass:\"btn-icon\"},[_vm._v(\"\")]),_vm._v(\"  \")])])]),_vm._m(3)]),_c('section',{ref:\"gameSection\",staticClass:\"game-section\"},[_vm._m(4),_c('div',{staticClass:\"game-actions\"},[_c('div',{staticClass:\"action-card primary\"},[_c('div',{staticClass:\"card-icon\"},[_vm._v(\"\")]),_c('h3',{staticClass:\"card-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"card-desc\"},[_vm._v(\"\")]),_c('button',{staticClass:\"card-btn\",on:{\"click\":_vm.createRoom}},[_vm._v(\"\")])]),_c('div',{staticClass:\"action-card secondary\"},[_c('div',{staticClass:\"card-icon\"},[_vm._v(\"\")]),_c('h3',{staticClass:\"card-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"card-desc\"},[_vm._v(\"\")]),_c('button',{staticClass:\"card-btn\",on:{\"click\":_vm.goRooms}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"join-room-section\"},[_vm._m(5),_c('div',{staticClass:\"form-content\"},[_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"input-icon\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.roomIdInput),expression:\"roomIdInput\"}],staticClass:\"room-input\",attrs:{\"type\":\"text\",\"placeholder\":\"ID6UUID\"},domProps:{\"value\":(_vm.roomIdInput)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.joinRoom.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.roomIdInput=$event.target.value}}}),_c('button',{staticClass:\"input-btn\",attrs:{\"disabled\":!_vm.roomIdInput},on:{\"click\":_vm.joinRoom}},[_vm._v(\"  \")])]),(_vm.errorMessage)?_c('p',{staticClass:\"error-message\"},[_vm._v(_vm._s(_vm.errorMessage))]):_vm._e()])])]),_vm._m(6)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"brand\"},[_c('div',{staticClass:\"brand-icon\"},[_vm._v(\"\")]),_c('span',{staticClass:\"brand-text\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('h1',{staticClass:\"hero-title\"},[_c('span',{staticClass:\"title-highlight\"},[_vm._v(\"\")]),_c('br'),_vm._v(\" \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',{staticClass:\"hero-subtitle\"},[_vm._v(\" \"),_c('br'),_vm._v(\"  \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"hero-visual\"},[_c('div',{staticClass:\"floating-card card-1\"},[_vm._v(\"\")]),_c('div',{staticClass:\"floating-card card-2\"},[_vm._v(\"\")]),_c('div',{staticClass:\"floating-card card-3\"},[_vm._v(\"\")]),_c('div',{staticClass:\"floating-card card-4\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"section-header\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"section-subtitle\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"form-header\"},[_c('h3',{staticClass:\"form-title\"},[_vm._v(\"ID\")]),_c('p',{staticClass:\"form-subtitle\"},[_vm._v(\"ID\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"features-section\"},[_c('div',{staticClass:\"section-header\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"section-subtitle\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"features-grid\"},[_c('div',{staticClass:\"feature-card\"},[_c('div',{staticClass:\"feature-icon\"},[_vm._v(\"\")]),_c('h3',{staticClass:\"feature-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"feature-desc\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"feature-card\"},[_c('div',{staticClass:\"feature-icon\"},[_vm._v(\"\")]),_c('h3',{staticClass:\"feature-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"feature-desc\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"feature-card\"},[_c('div',{staticClass:\"feature-icon\"},[_vm._v(\"\")]),_c('h3',{staticClass:\"feature-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"feature-desc\"},[_vm._v(\"\")])])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"menu-container\">\n    <!--  -->\n    <nav class=\"navbar\">\n      <div class=\"nav-content\">\n        <div class=\"brand\">\n          <div class=\"brand-icon\"></div>\n          <span class=\"brand-text\"></span>\n        </div>\n        <div class=\"nav-actions\" v-if=\"$store.state.user\">\n          <div class=\"user-info\">\n            <img class=\"user-avatar\" :src=\"getUserAvatar()\" alt=\"\" />\n            <span class=\"user-name\">{{ getUserName() }}</span>\n          </div>\n          <button class=\"nav-btn\" @click=\"$router.push('/profile')\">\n            <span class=\"btn-icon\"></span>\n            \n          </button>\n          <button class=\"nav-btn logout\" @click=\"logout\">\n            <span class=\"btn-icon\"></span>\n            \n          </button>\n      </div>\n        <div class=\"nav-actions\" v-else>\n          <button class=\"nav-btn primary\" @click=\"$router.push('/login')\">\n            <span class=\"btn-icon\"></span>\n             / \n          </button>\n      </div>\n    </div>\n    </nav>\n\n    <!--  -->\n    <main class=\"main-content\">\n      <!--  -->\n      <section class=\"hero-section\">\n        <div class=\"hero-content\">\n          <div class=\"hero-badge\"> </div>\n          <h1 class=\"hero-title\">\n            <span class=\"title-highlight\"></span>\n            <br>\n          </h1>\n          <p class=\"hero-subtitle\">\n            <br>\n            \n          </p>\n          <div class=\"hero-actions\">\n            <button class=\"hero-btn primary\" @click=\"quickStart\">\n              <span class=\"btn-icon\"></span>\n              \n            </button>\n            <button class=\"hero-btn secondary\" @click=\"scrollToGame\">\n              <span class=\"btn-icon\"></span>\n              \n            </button>\n      </div>\n    </div>\n        <div class=\"hero-visual\">\n          <div class=\"floating-card card-1\"></div>\n          <div class=\"floating-card card-2\"></div>\n          <div class=\"floating-card card-3\"></div>\n          <div class=\"floating-card card-4\"></div>\n        </div>\n      </section>\n\n      <!--  -->\n      <section class=\"game-section\" ref=\"gameSection\">\n        <div class=\"section-header\">\n      <h2 class=\"section-title\"></h2>\n          <p class=\"section-subtitle\"></p>\n      </div>\n\n        <div class=\"game-actions\">\n          <div class=\"action-card primary\">\n            <div class=\"card-icon\"></div>\n            <h3 class=\"card-title\"></h3>\n            <p class=\"card-desc\"></p>\n            <button class=\"card-btn\" @click=\"createRoom\"></button>\n      </div>\n\n          <div class=\"action-card secondary\">\n            <div class=\"card-icon\"></div>\n            <h3 class=\"card-title\"></h3>\n            <p class=\"card-desc\"></p>\n            <button class=\"card-btn\" @click=\"goRooms\"></button>\n      </div>\n          \n          \n    </div>\n\n        <!--  -->\n        <div class=\"join-room-section\">\n          <div class=\"form-header\">\n            <h3 class=\"form-title\">ID</h3>\n            <p class=\"form-subtitle\">ID</p>\n      </div>\n          <div class=\"form-content\">\n            <div class=\"input-group\">\n              <div class=\"input-icon\"></div>\n              <input \n                v-model=\"roomIdInput\" \n                type=\"text\" \n                placeholder=\"ID6UUID\"\n                class=\"room-input\"\n                @keyup.enter=\"joinRoom\"\n              />\n              <button class=\"input-btn\" @click=\"joinRoom\" :disabled=\"!roomIdInput\">\n                \n              </button>\n      </div>\n            <p v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</p>\n      </div>\n    </div>\n      </section>\n\n      <!--  -->\n      <section class=\"features-section\">\n        <div class=\"section-header\">\n          <h2 class=\"section-title\"></h2>\n          <p class=\"section-subtitle\"></p>\n        </div>\n        <div class=\"features-grid\">\n          <div class=\"feature-card\">\n            <div class=\"feature-icon\"></div>\n            <h3 class=\"feature-title\"></h3>\n            <p class=\"feature-desc\"></p>\n          </div>\n          <div class=\"feature-card\">\n            <div class=\"feature-icon\"></div>\n            <h3 class=\"feature-title\"></h3>\n            <p class=\"feature-desc\"></p>\n          </div>\n          <div class=\"feature-card\">\n            <div class=\"feature-icon\"></div>\n            <h3 class=\"feature-title\"></h3>\n            <p class=\"feature-desc\"></p>\n          </div>\n        </div>\n      </section>\n    </main>\n  </div>\n</template>\n\n<script>\nimport roomService from '../../services/room-service'\nimport authService from '../../services/auth-service'\n\nexport default {\n  name: 'MenuPage',\n  data() {\n    return {\n      roomIdInput: '',\n      errorMessage: '',\n      room: null,\n      refreshTimer: null\n    }\n  },\n  computed: {\n    hasRoom() { return !!this.room },\n    allReady() {\n      if (!this.room || !this.room.room_players) return false\n      const players = this.room.room_players\n      return players.length > 0 && players.every(p => !!p.is_ready)\n    },\n    isOwner() { return this.room && this.$store.state.user && this.room.owner_id === this.$store.state.user.id },\n    canStart() { return this.hasRoom && this.allReady && this.isOwner }\n  },\n  async mounted() {\n      const user = await authService.getUser()\n      if (user) {\n        console.log('Loaded user:', user) // \n        this.$store.commit('SET_USER', user)\n      }\n    this.refreshTimer = setInterval(this.loadRoom, 5000)\n    await this.loadRoom()\n  },\n  beforeDestroy() {\n    if (this.refreshTimer) clearInterval(this.refreshTimer)\n  },\n  methods: {\n    async loadRoom() {\n      try {\n        const rid = this.$store.state.roomId\n        if (!rid) { this.room = null; return }\n        this.room = await roomService.getRoom(rid)\n      } catch (e) { console.warn('[menu] loadRoom failed', e) }\n    },\n    goRoom() { this.$router.push('/room') },\n    \n    goRooms() { this.$router.push('/rooms') },\n    async createRoom() {\n      const user = this.$store.state.user\n      if (!user) return this.$router.push('/login')\n      this.$router.push('/create-room')\n    },\n    async joinRoom() {\n      this.errorMessage = ''\n      try {\n        const user = this.$store.state.user\n        console.log('[menu.vue] joinRoom clicked', { input: this.roomIdInput, userId: user && user.id })\n        if (!user) return this.$router.push('/login')\n        if (!this.roomIdInput) throw new Error('ID')\n        const room = await roomService.joinRoom(this.roomIdInput, user.id)\n        console.log('[menu.vue] joinRoom success', { roomId: room && room.id })\n        this.$store.commit('SET_ROOM_ID', room.id)\n        await this.loadRoom()\n        this.$router.push({ path: '/game', query: { roomId: room.id } })\n      } catch (e) {\n        this.errorMessage = e.message || ''\n      }\n    },\n    async quickStart() {\n      this.errorMessage = ''\n      try {\n        const user = this.$store.state.user\n        if (!user) return this.$router.push('/login')\n        const room = await roomService.quickJoinRandomRoom(user.id)\n        this.$store.commit('SET_ROOM_ID', room.id)\n        await this.$nextTick()\n        this.$router.push({ path: '/game', query: { roomId: room.id } })\n      } catch (e) {\n        this.errorMessage = e.message || ''\n      }\n    },\n    async logout() {\n      await authService.signOut()\n      this.$store.commit('SET_USER', null)\n      this.$store.commit('SET_ROOM_ID', null)\n      this.$router.push('/menu')\n    },\n    scrollToGame() {\n      this.$refs.gameSection.scrollIntoView({ behavior: 'smooth' })\n    },\n    getUserAvatar() {\n      const user = this.$store.state.user\n      if (!user) return 'https://via.placeholder.com/36x36?text=U'\n      if (user.avatar) return user.avatar\n      const code = (user.username || (user.email ? user.email.split('@')[0] : 'U')).toString().slice(0, 2).toUpperCase()\n      const bg = '334155'\n      const fg = 'e2e8f0'\n      const svg = encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' width='36' height='36'><rect width='100%' height='100%' fill='#${bg}'/><text x='50%' y='55%' dominant-baseline='middle' text-anchor='middle' font-size='16' fill='#${fg}' font-family='Arial, sans-serif'>${code}</text></svg>`)\n      return `data:image/svg+xml;charset=utf-8,${svg}`\n    },\n    getUserName() {\n      const user = this.$store.state.user\n      if (!user) return ''\n      if (user.username) return user.username\n      return user.email ? user.email.split('@')[0] : ''\n    }\n  }\n}\n</script>\n\n<style scoped>\n.menu-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);\n  color: #e2e8f0;\n}\n\n/*  */\n.navbar {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n  background: rgba(15, 23, 42, 0.95);\n  backdrop-filter: blur(10px);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.nav-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 24px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 64px;\n}\n\n.brand {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.brand-icon {\n  font-size: 24px;\n  animation: pulse 2s infinite;\n}\n\n.brand-text {\n  font-size: 20px;\n  font-weight: 700;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.nav-actions {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.user-avatar {\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  border: 2px solid #3b82f6;\n}\n\n.user-name {\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.nav-btn {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 16px;\n  border: none;\n  border-radius: 8px;\n  background: rgba(255, 255, 255, 0.1);\n  color: #e2e8f0;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.nav-btn:hover {\n  background: rgba(255, 255, 255, 0.2);\n  transform: translateY(-1px);\n}\n\n.nav-btn.primary {\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  color: white;\n}\n\n.nav-btn.logout {\n  background: rgba(239, 68, 68, 0.2);\n  color: #fca5a5;\n}\n\n.nav-btn.logout:hover {\n  background: rgba(239, 68, 68, 0.3);\n}\n\n/*  */\n.main-content {\n  padding-top: 64px;\n}\n\n/*  */\n.hero-section {\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  overflow: hidden;\n}\n\n.hero-content {\n  text-align: center;\n  z-index: 2;\n  max-width: 800px;\n  padding: 0 24px;\n}\n\n.hero-badge {\n  display: inline-block;\n  padding: 8px 16px;\n  background: rgba(59, 130, 246, 0.2);\n  border: 1px solid rgba(59, 130, 246, 0.3);\n  border-radius: 20px;\n  font-size: 14px;\n  margin-bottom: 24px;\n  animation: fadeInUp 1s ease-out;\n}\n\n.hero-title {\n  font-size: 4rem;\n  font-weight: 800;\n  line-height: 1.1;\n  margin-bottom: 24px;\n  animation: fadeInUp 1s ease-out 0.2s both;\n}\n\n.title-highlight {\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6, #ec4899);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.hero-subtitle {\n  font-size: 1.25rem;\n  line-height: 1.6;\n  color: #94a3b8;\n  margin-bottom: 40px;\n  animation: fadeInUp 1s ease-out 0.4s both;\n}\n\n.hero-actions {\n  display: flex;\n  gap: 16px;\n  justify-content: center;\n  animation: fadeInUp 1s ease-out 0.6s both;\n}\n\n.hero-btn {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px 32px;\n  border: none;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  text-decoration: none;\n}\n\n.hero-btn.primary {\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  color: white;\n  box-shadow: 0 8px 32px rgba(59, 130, 246, 0.3);\n}\n\n.hero-btn.primary:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 12px 40px rgba(59, 130, 246, 0.4);\n}\n\n.hero-btn.secondary {\n  background: rgba(255, 255, 255, 0.1);\n  color: #e2e8f0;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.hero-btn.secondary:hover {\n  background: rgba(255, 255, 255, 0.2);\n  transform: translateY(-2px);\n}\n\n/*  */\n.hero-visual {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n}\n\n.floating-card {\n  position: absolute;\n  font-size: 3rem;\n  opacity: 0.1;\n  animation: float 6s ease-in-out infinite;\n}\n\n.card-1 {\n  top: 20%;\n  left: 10%;\n  animation-delay: 0s;\n}\n\n.card-2 {\n  top: 30%;\n  right: 15%;\n  animation-delay: 1.5s;\n}\n\n.card-3 {\n  bottom: 30%;\n  left: 20%;\n  animation-delay: 3s;\n}\n\n.card-4 {\n  bottom: 20%;\n  right: 10%;\n  animation-delay: 4.5s;\n}\n\n/*  */\n.game-section {\n  padding: 80px 24px;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.section-header {\n  text-align: center;\n  margin-bottom: 48px;\n}\n\n.section-title {\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin-bottom: 16px;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.section-subtitle {\n  font-size: 1.125rem;\n  color: #94a3b8;\n}\n\n.game-actions {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 24px;\n  margin-bottom: 48px;\n}\n\n.action-card {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 16px;\n  padding: 32px;\n  text-align: center;\n  transition: all 0.3s ease;\n}\n\n.action-card:hover {\n  transform: translateY(-4px);\n  border-color: rgba(59, 130, 246, 0.3);\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);\n}\n\n.action-card.primary {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));\n  border-color: rgba(59, 130, 246, 0.3);\n}\n\n.action-card.secondary {\n  background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(34, 197, 94, 0.1));\n  border-color: rgba(16, 185, 129, 0.3);\n}\n\n.action-card.tertiary {\n  background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(168, 85, 247, 0.1));\n  border-color: rgba(139, 92, 246, 0.3);\n}\n\n.card-icon {\n  font-size: 3rem;\n  margin-bottom: 16px;\n}\n\n.card-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 12px;\n}\n\n.card-desc {\n  color: #94a3b8;\n  margin-bottom: 24px;\n  line-height: 1.6;\n}\n\n.card-btn {\n  padding: 12px 24px;\n  border: none;\n  border-radius: 8px;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.card-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);\n}\n\n/*  */\n.join-room-section {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 16px;\n  padding: 32px;\n}\n\n.form-header {\n  text-align: center;\n  margin-bottom: 24px;\n}\n\n.form-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 8px;\n}\n\n.form-subtitle {\n  color: #94a3b8;\n}\n\n.form-content {\n  max-width: 500px;\n  margin: 0 auto;\n}\n\n.input-group {\n  display: flex;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 12px;\n  padding: 4px;\n  transition: all 0.3s ease;\n}\n\n.input-group:focus-within {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n.input-icon {\n  padding: 0 16px;\n  font-size: 1.25rem;\n}\n\n.room-input {\n  flex: 1;\n  padding: 16px;\n  border: none;\n  background: transparent;\n  color: #e2e8f0;\n  font-size: 16px;\n  outline: none;\n}\n\n.room-input::placeholder {\n  color: #64748b;\n}\n\n.input-btn {\n  padding: 16px 24px;\n  border: none;\n  border-radius: 8px;\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.input-btn:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);\n}\n\n.input-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.error-message {\n  color: #fca5a5;\n  text-align: center;\n  margin-top: 16px;\n  padding: 12px;\n  background: rgba(239, 68, 68, 0.1);\n  border: 1px solid rgba(239, 68, 68, 0.2);\n  border-radius: 8px;\n}\n\n/*  */\n.features-section {\n  padding: 80px 24px;\n  background: rgba(0, 0, 0, 0.2);\n}\n\n.features-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 32px;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.feature-card {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 16px;\n  padding: 32px;\n  text-align: center;\n  transition: all 0.3s ease;\n}\n\n.feature-card:hover {\n  transform: translateY(-4px);\n  border-color: rgba(59, 130, 246, 0.3);\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);\n}\n\n.feature-icon {\n  font-size: 3rem;\n  margin-bottom: 16px;\n}\n\n.feature-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 12px;\n}\n\n.feature-desc {\n  color: #94a3b8;\n  line-height: 1.6;\n}\n\n/*  */\n@keyframes pulse {\n  0%, 100% { transform: scale(1); }\n  50% { transform: scale(1.1); }\n}\n\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes float {\n  0%, 100% { transform: translateY(0px); }\n  50% { transform: translateY(-20px); }\n}\n\n/*  */\n@media (max-width: 768px) {\n  .hero-title {\n    font-size: 2.5rem;\n  }\n  \n  .hero-actions {\n    flex-direction: column;\n    align-items: center;\n  }\n  \n  .nav-actions {\n    gap: 8px;\n  }\n  \n  .user-name {\n    display: none;\n  }\n  \n  .game-actions {\n    grid-template-columns: 1fr;\n  }\n  \n  .features-grid {\n    grid-template-columns: 1fr;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./menu.vue?vue&type=template&id=28d3071c&scoped=true\"\nimport script from \"./menu.vue?vue&type=script&lang=js\"\nexport * from \"./menu.vue?vue&type=script&lang=js\"\nimport style0 from \"./menu.vue?vue&type=style&index=0&id=28d3071c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28d3071c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"profile-container\"},[_c('div',{staticClass:\"profile-card\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"\")]),(_vm.user)?_c('div',{staticClass:\"user-info\"},[_c('div',{staticClass:\"avatar-section\"},[_c('div',{staticClass:\"avatar-container\"},[_c('div',{staticClass:\"avatar-wrapper\",on:{\"click\":_vm.changeAvatar}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.userProfile.avatar || _vm.defaultAvatar,\"alt\":\"\"},on:{\"error\":_vm.handleAvatarError}}),(_vm.isUploading)?_c('div',{staticClass:\"upload-overlay\"},[_c('div',{staticClass:\"upload-spinner\"}),_c('span',[_vm._v(\"...\")])]):_vm._e()]),_c('button',{staticClass:\"avatar-edit-btn\",attrs:{\"disabled\":_vm.isUploading},on:{\"click\":_vm.changeAvatar}},[_vm._v(\" \"+_vm._s(_vm.isUploading ? '...' : '')+\" \")])])]),_c('div',{staticClass:\"info-section\"},[_c('div',{staticClass:\"form-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userProfile.username),expression:\"userProfile.username\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\",\"disabled\":!_vm.isEditing},domProps:{\"value\":(_vm.userProfile.username)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.userProfile, \"username\", $event.target.value)}}})]),_c('div',{staticClass:\"form-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],staticClass:\"disabled-input\",attrs:{\"type\":\"email\",\"disabled\":\"\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.user, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{staticClass:\"disabled-input\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":_vm.formatDate(_vm.user.created_at)}})])]),_c('div',{staticClass:\"actions\"},[(!_vm.isEditing)?_c('button',{staticClass:\"btn\",on:{\"click\":_vm.toggleEdit}},[_vm._v(\"  \")]):[_c('button',{staticClass:\"btn primary\",on:{\"click\":_vm.saveProfile}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn\",on:{\"click\":_vm.cancelEdit}},[_vm._v(\"\")])]],2)]):_vm._e(),_c('div',{staticClass:\"divider\"}),_c('div',{staticClass:\"stats-section\"},[_c('h3',[_vm._v(\"\")]),_c('div',{staticClass:\"stats-grid\"},[_c('div',{staticClass:\"stat-item\"},[_c('div',{staticClass:\"stat-value\"},[_vm._v(_vm._s(_vm.gameStats.totalGames || 0))]),_c('div',{staticClass:\"stat-label\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"stat-item\"},[_c('div',{staticClass:\"stat-value\"},[_vm._v(_vm._s(_vm.gameStats.wins || 0))]),_c('div',{staticClass:\"stat-label\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"stat-item\"},[_c('div',{staticClass:\"stat-value\"},[_vm._v(_vm._s(_vm.gameStats.totalArtifacts || 0))]),_c('div',{staticClass:\"stat-label\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"stat-item\"},[_c('div',{staticClass:\"stat-value\"},[_vm._v(_vm._s(_vm.gameStats.totalEnergy || 0))]),_c('div',{staticClass:\"stat-label\"},[_vm._v(\"\")])])])]),_c('div',{staticClass:\"divider\"}),_c('div',{staticClass:\"profile-actions\"},[_c('button',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.$router.push('/menu')}}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn danger\",on:{\"click\":_vm.logout}},[_vm._v(\"\")])]),(_vm.errorMessage)?_c('p',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errorMessage))]):_vm._e(),(_vm.successMessage)?_c('p',{staticClass:\"success\"},[_vm._v(_vm._s(_vm.successMessage))]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"profile-container\">\r\n    <div class=\"profile-card\">\r\n      <h2 class=\"title\"></h2>\r\n      \r\n      <div class=\"user-info\" v-if=\"user\">\r\n        <div class=\"avatar-section\">\r\n          <div class=\"avatar-container\">\r\n            <div class=\"avatar-wrapper\" @click=\"changeAvatar\">\r\n              <img \r\n                class=\"avatar\" \r\n                :src=\"userProfile.avatar || defaultAvatar\" \r\n                alt=\"\"\r\n                @error=\"handleAvatarError\"\r\n              />\r\n              <div v-if=\"isUploading\" class=\"upload-overlay\">\r\n                <div class=\"upload-spinner\"></div>\r\n                <span>...</span>\r\n              </div>\r\n            </div>\r\n            <button class=\"avatar-edit-btn\" @click=\"changeAvatar\" :disabled=\"isUploading\">\r\n              {{ isUploading ? '...' : '' }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"info-section\">\r\n          <div class=\"form-field\">\r\n            <label></label>\r\n            <input \r\n              v-model=\"userProfile.username\" \r\n              type=\"text\" \r\n              placeholder=\"\"\r\n              :disabled=\"!isEditing\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-field\">\r\n            <label></label>\r\n            <input \r\n              v-model=\"user.email\" \r\n              type=\"email\" \r\n              disabled\r\n              class=\"disabled-input\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-field\">\r\n            <label></label>\r\n            <input \r\n              :value=\"formatDate(user.created_at)\" \r\n              type=\"text\" \r\n              disabled\r\n              class=\"disabled-input\"\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"actions\">\r\n          <button \r\n            class=\"btn\" \r\n            @click=\"toggleEdit\"\r\n            v-if=\"!isEditing\"\r\n          >\r\n            \r\n          </button>\r\n          <template v-else>\r\n            <button class=\"btn primary\" @click=\"saveProfile\"></button>\r\n            <button class=\"btn\" @click=\"cancelEdit\"></button>\r\n          </template>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"divider\"></div>\r\n      \r\n      <!--  -->\r\n      <div class=\"stats-section\">\r\n        <h3></h3>\r\n        <div class=\"stats-grid\">\r\n          <div class=\"stat-item\">\r\n            <div class=\"stat-value\">{{ gameStats.totalGames || 0 }}</div>\r\n            <div class=\"stat-label\"></div>\r\n          </div>\r\n          <div class=\"stat-item\">\r\n            <div class=\"stat-value\">{{ gameStats.wins || 0 }}</div>\r\n            <div class=\"stat-label\"></div>\r\n          </div>\r\n          <div class=\"stat-item\">\r\n            <div class=\"stat-value\">{{ gameStats.totalArtifacts || 0 }}</div>\r\n            <div class=\"stat-label\"></div>\r\n          </div>\r\n          <div class=\"stat-item\">\r\n            <div class=\"stat-value\">{{ gameStats.totalEnergy || 0 }}</div>\r\n            <div class=\"stat-label\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"divider\"></div>\r\n      \r\n      <!--  -->\r\n      <div class=\"profile-actions\">\r\n        <button class=\"btn\" @click=\"$router.push('/menu')\"></button>\r\n        <button class=\"btn danger\" @click=\"logout\"></button>\r\n      </div>\r\n      \r\n      <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n      <p v-if=\"successMessage\" class=\"success\">{{ successMessage }}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport authService from '../../services/auth-service'\r\nimport { getSupabase } from '../../services/supabase-client'\r\n\r\nexport default {\r\n  name: 'ProfilePage',\r\n  data() {\r\n    return {\r\n      user: null,\r\n      userProfile: {\r\n        username: '',\r\n        avatar: ''\r\n      },\r\n      gameStats: {\r\n        totalGames: 0,\r\n        wins: 0,\r\n        totalArtifacts: 0,\r\n        totalEnergy: 0\r\n      },\r\n      isEditing: false,\r\n      isUploading: false,\r\n      originalProfile: {},\r\n      errorMessage: '',\r\n      successMessage: ''\r\n    }\r\n  },\r\n  computed: {\r\n    defaultAvatar() {\r\n      if (!this.user) return ''\r\n      const code = (this.user.id || 'U').slice(0, 2).toUpperCase()\r\n      const bg = '334155'\r\n      const fg = 'e2e8f0'\r\n      const svg = encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120'><rect width='100%' height='100%' fill='#${bg}'/><text x='50%' y='55%' dominant-baseline='middle' text-anchor='middle' font-size='48' fill='#${fg}' font-family='Arial, sans-serif'>${code}</text></svg>`)\r\n      return `data:image/svg+xml;charset=utf-8,${svg}`\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.loadUserData()\r\n    await this.loadUserProfile()\r\n    await this.loadGameStats()\r\n  },\r\n  methods: {\r\n    async loadUserData() {\r\n      const user = await authService.getUser()\r\n      if (user) {\r\n        this.user = user\r\n        this.$store.commit('SET_USER', user)\r\n      } else {\r\n        this.$router.push('/login')\r\n      }\r\n    },\r\n    \r\n    async loadUserProfile() {\r\n      if (!this.user) return\r\n      \r\n      try {\r\n        const supabase = getSupabase()\r\n        const { data, error } = await supabase\r\n          .from('profiles')\r\n          .select('*')\r\n          .eq('id', this.user.id)\r\n          .single()\r\n        \r\n        if (error && error.code !== 'PGRST116') {\r\n          throw error\r\n        }\r\n        \r\n        if (data) {\r\n          this.userProfile = {\r\n            username: data.username || '',\r\n            avatar: data.avatar || ''\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        this.errorMessage = ''\r\n      }\r\n    },\r\n    \r\n    async loadGameStats() {\r\n      if (!this.user) return\r\n      \r\n      try {\r\n        const supabase = getSupabase()\r\n        \r\n        // \r\n        // \r\n        this.gameStats = {\r\n          totalGames: 0,\r\n          wins: 0,\r\n          totalArtifacts: 0,\r\n          totalEnergy: 0\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      }\r\n    },\r\n    \r\n    toggleEdit() {\r\n      this.isEditing = true\r\n      this.originalProfile = { ...this.userProfile }\r\n    },\r\n    \r\n    cancelEdit() {\r\n      this.isEditing = false\r\n      this.userProfile = { ...this.originalProfile }\r\n      this.errorMessage = ''\r\n      this.successMessage = ''\r\n    },\r\n    \r\n    async saveProfile() {\r\n      if (!this.user) return\r\n      \r\n      try {\r\n        const supabase = getSupabase()\r\n        \r\n        // \r\n        const updateData = {\r\n          id: this.user.id,\r\n          username: this.userProfile.username || null\r\n        }\r\n        \r\n        // avataravatar\r\n        if (this.userProfile.avatar) {\r\n          updateData.avatar = this.userProfile.avatar\r\n        }\r\n        \r\n        // \r\n        const { error } = await supabase\r\n          .from('profiles')\r\n          .upsert(updateData)\r\n        \r\n        if (error) throw error\r\n        \r\n        // store/\r\n        const newUser = {\r\n          ...this.$store.state.user,\r\n          username: this.userProfile.username || (this.$store.state.user && this.$store.state.user.username),\r\n          avatar: this.userProfile.avatar || (this.$store.state.user && this.$store.state.user.avatar)\r\n        }\r\n        this.$store.commit('SET_USER', newUser)\r\n        \r\n        this.isEditing = false\r\n        this.successMessage = ''\r\n        setTimeout(() => {\r\n          this.successMessage = ''\r\n        }, 3000)\r\n        \r\n      } catch (error) {\r\n        console.error(':', error)\r\n        this.errorMessage = ': ' + (error.message || '')\r\n      }\r\n    },\r\n    \r\n    changeAvatar() {\r\n      // \r\n      const input = document.createElement('input')\r\n      input.type = 'file'\r\n      input.accept = 'image/*'\r\n      input.style.display = 'none'\r\n      \r\n      input.onchange = async (event) => {\r\n        const file = event.target.files[0]\r\n        if (!file) return\r\n        \r\n        // 2MB\r\n        if (file.size > 2 * 1024 * 1024) {\r\n          this.errorMessage = '2MB'\r\n          return\r\n        }\r\n        \r\n        // \r\n        if (!file.type.startsWith('image/')) {\r\n          this.errorMessage = ''\r\n          return\r\n        }\r\n        \r\n        try {\r\n          await this.uploadAvatar(file)\r\n        } catch (error) {\r\n          console.error(':', error)\r\n          this.errorMessage = ''\r\n        }\r\n      }\r\n      \r\n      // \r\n      document.body.appendChild(input)\r\n      input.click()\r\n      document.body.removeChild(input)\r\n    },\r\n    \r\n    async uploadAvatar(file) {\r\n      this.isUploading = true\r\n      this.errorMessage = ''\r\n      \r\n      try {\r\n        const supabase = getSupabase()\r\n        \r\n        // \r\n        const fileExt = file.name.split('.').pop()\r\n        const fileName = `${this.user.id}_${Date.now()}.${fileExt}`\r\n        const filePath = `${this.user.id}/${fileName}`\r\n        \r\n        // Supabase Storage\r\n        const { error: uploadError } = await supabase.storage\r\n          .from('avatars')\r\n          .upload(filePath, file, {\r\n            cacheControl: '3600',\r\n            upsert: false\r\n          })\r\n        \r\n        if (uploadError) throw uploadError\r\n        \r\n        // URL\r\n        const { data } = supabase.storage\r\n          .from('avatars')\r\n          .getPublicUrl(filePath)\r\n        \r\n        // URL\r\n        this.userProfile.avatar = data.publicUrl\r\n        \r\n        // \r\n        await this.saveProfile()\r\n        \r\n        this.successMessage = ''\r\n        setTimeout(() => {\r\n          this.successMessage = ''\r\n        }, 3000)\r\n        \r\n      } catch (error) {\r\n        console.error(':', error)\r\n        this.errorMessage = ': ' + (error.message || '')\r\n      } finally {\r\n        this.isUploading = false\r\n      }\r\n    },\r\n    \r\n    handleAvatarError(event) {\r\n      // \r\n      event.target.src = this.defaultAvatar\r\n    },\r\n    \r\n    formatDate(dateString) {\r\n      if (!dateString) return '-'\r\n      const date = new Date(dateString)\r\n      return date.toLocaleDateString('zh-CN', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      })\r\n    },\r\n    \r\n    async logout() {\r\n      try {\r\n        await authService.signOut()\r\n        this.$store.commit('SET_USER', null)\r\n        this.$store.commit('SET_ROOM_ID', null)\r\n        this.$router.push('/login')\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        this.errorMessage = ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.profile-container {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 24px;\r\n  background:\r\n    radial-gradient(1400px circle at 15% 0%, #0b1220, #0f172a),\r\n    radial-gradient(900px circle at 85% 25%, rgba(99,102,241,0.12), rgba(99,102,241,0));\r\n}\r\n\r\n.profile-card {\r\n  width: 720px;\r\n  background: #0f172a;\r\n  border: 1px solid #1f2937;\r\n  border-radius: 16px;\r\n  box-shadow: 0 20px 40px rgba(2,6,23,0.5);\r\n  padding: 24px;\r\n  color: #e2e8f0;\r\n}\r\n\r\n.title {\r\n  margin: 0 0 20px;\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n}\r\n\r\n.avatar-section {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.avatar-container {\r\n  text-align: center;\r\n}\r\n\r\n.avatar-wrapper {\r\n  position: relative;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n}\r\n\r\n.avatar {\r\n  width: 120px;\r\n  height: 120px;\r\n  border-radius: 50%;\r\n  border: 3px solid #1f2937;\r\n  transition: border-color 0.3s ease;\r\n  object-fit: cover;\r\n}\r\n\r\n.avatar:hover {\r\n  border-color: #3b82f6;\r\n}\r\n\r\n.upload-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  font-size: 12px;\r\n}\r\n\r\n.upload-spinner {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 2px solid #ffffff;\r\n  border-top: 2px solid transparent;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.avatar-edit-btn {\r\n  display: block;\r\n  margin: 8px auto 0;\r\n  padding: 6px 12px;\r\n  background: #1f2937;\r\n  color: #e2e8f0;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.avatar-edit-btn:hover {\r\n  background: #374151;\r\n}\r\n\r\n.info-section {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.form-field {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.form-field label {\r\n  display: block;\r\n  font-size: 14px;\r\n  color: #94a3b8;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.form-field input {\r\n  width: 100%;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n  background: #0b1220;\r\n  color: #e2e8f0;\r\n  border: 1px solid #1f2937;\r\n  outline: none;\r\n  font-size: 14px;\r\n}\r\n\r\n.form-field input:focus {\r\n  box-shadow: 0 0 0 2px rgba(59,130,246,0.35);\r\n  border-color: #3b82f6;\r\n}\r\n\r\n.form-field input.disabled-input {\r\n  background: #1f2937;\r\n  color: #94a3b8;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.btn {\r\n  padding: 12px 20px;\r\n  border-radius: 8px;\r\n  background: #1f2937;\r\n  color: #e2e8f0;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.btn:hover {\r\n  background: #374151;\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.btn.primary {\r\n  background: #3b82f6;\r\n  color: #fff;\r\n}\r\n\r\n.btn.primary:hover {\r\n  background: #2563eb;\r\n}\r\n\r\n.btn.danger {\r\n  background: #ef4444;\r\n  color: #fff;\r\n}\r\n\r\n.btn.danger:hover {\r\n  background: #dc2626;\r\n}\r\n\r\n.divider {\r\n  height: 1px;\r\n  background: #1f2937;\r\n  margin: 24px 0;\r\n}\r\n\r\n.stats-section h3 {\r\n  margin: 0 0 16px;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n}\r\n\r\n.stats-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  gap: 16px;\r\n}\r\n\r\n.stat-item {\r\n  text-align: center;\r\n  padding: 16px;\r\n  background: #0b1220;\r\n  border: 1px solid #1f2937;\r\n  border-radius: 8px;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  color: #3b82f6;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 12px;\r\n  color: #94a3b8;\r\n}\r\n\r\n.profile-actions {\r\n  display: flex;\r\n  gap: 12px;\r\n  justify-content: center;\r\n}\r\n\r\n.error {\r\n  color: #ef4444;\r\n  margin-top: 12px;\r\n  text-align: center;\r\n}\r\n\r\n.success {\r\n  color: #10b981;\r\n  margin-top: 12px;\r\n  text-align: center;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .profile-card {\r\n    width: 100%;\r\n    margin: 0 16px;\r\n  }\r\n  \r\n  .stats-grid {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./profile.vue?vue&type=template&id=924f9130&scoped=true\"\nimport script from \"./profile.vue?vue&type=script&lang=js\"\nexport * from \"./profile.vue?vue&type=script&lang=js\"\nimport style0 from \"./profile.vue?vue&type=style&index=0&id=924f9130&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"924f9130\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport GameIndex from '../pages/index/index.vue'\nimport CardDetail from '../pages/card-detail/card-detail.vue'\nimport Shop from '../pages/shop/shop.vue'\nimport Collection from '../pages/collection/collection.vue'\nimport Login from '../pages/auth/login.vue'\nimport Rooms from '../pages/rooms/rooms.vue'\nimport CreateRoom from '../pages/create-room/create-room.vue'\nimport PlayerPage from '../pages/player/player.vue'\nimport Menu from '../pages/menu/menu.vue'\nimport Profile from '../pages/profile/profile.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    alias: ['/menu'],\n    name: 'Menu',\n    component: Menu\n  },\n  {\n    path: '/card-detail',\n    name: 'CardDetail',\n    component: CardDetail\n  },\n  {\n    path: '/shop',\n    name: 'Shop',\n    component: Shop\n  },\n  {\n    path: '/collection',\n    name: 'Collection',\n    component: Collection\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login\n  },\n  {\n    path: '/rooms',\n    name: 'Rooms',\n    component: Rooms\n  },\n  {\n    path: '/create-room',\n    name: 'CreateRoom',\n    component: CreateRoom\n  },\n  {\n    path: '/player/:id',\n    name: 'PlayerPage',\n    component: PlayerPage\n  },\n  {\n    path: '/game',\n    name: 'GameIndex',\n    component: GameIndex\n  },\n  {\n    path: '/profile',\n    name: 'Profile',\n    component: Profile\n  },\n  { path: '*', redirect: '/' }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\n// \nimport authService from '../services/auth-service'\nimport store from '../store'\nconst publicPaths = ['/menu', '/login', '/rooms']\nrouter.beforeEach(async (to, from, next) => {\n  if (publicPaths.includes(to.path)) return next()\n  try {\n    const user = await authService.getUser()\n    if (user && !store.state.user) store.commit('SET_USER', user)\n    if (!user) return next('/login')\n    next()\n  } catch (e) {\n    console.error('[router guard] error', e)\n    return next('/login')\n  }\n})\n\nexport default router","import roomService from './room-service'\r\n\r\nclass CleanupService {\r\n  constructor() {\r\n    this.cleanupInterval = null\r\n    this.isRunning = false\r\n  }\r\n\r\n  // \r\n  startCleanup(intervalMinutes = 5) {\r\n    if (this.isRunning) {\r\n      console.warn('')\r\n      return\r\n    }\r\n\r\n    this.isRunning = true\r\n    this.cleanupInterval = setInterval(async () => {\r\n      try {\r\n        await this.performCleanup()\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      }\r\n    }, intervalMinutes * 60 * 1000)\r\n\r\n    console.log(`${intervalMinutes}`)\r\n  }\r\n\r\n  // \r\n  stopCleanup() {\r\n    if (this.cleanupInterval) {\r\n      clearInterval(this.cleanupInterval)\r\n      this.cleanupInterval = null\r\n      this.isRunning = false\r\n      console.log('')\r\n    }\r\n  }\r\n\r\n  // \r\n  async performCleanup() {\r\n    try {\r\n      await roomService.cleanupEmptyRooms()\r\n      console.log('')\r\n    } catch (error) {\r\n      console.error(':', error)\r\n    }\r\n  }\r\n\r\n  // \r\n  async manualCleanup() {\r\n    await this.performCleanup()\r\n  }\r\n}\r\n\r\nexport default new CleanupService()\r\n","import Vue from 'vue'\nimport App from './App.vue'\nimport store from './store'\nimport router from './router'\nimport cleanupService from './services/cleanup-service'\n\nVue.config.productionTip = false\n\n// \ncleanupService.startCleanup(5) // 5\n\nnew Vue({\n  store,\n  router,\n  render: h => h(App)\n}).$mount('#app')\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6b61fc81&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player.vue?vue&type=style&index=0&id=1e1863fb&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collection.vue?vue&type=style&index=0&id=953fb5ce&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./card-detail.vue?vue&type=style&index=0&id=4e4f11fb&prod&scoped=true&lang=css\"","import { getSupabase } from './supabase-client'\n\n// 6ID\nfunction generateShortId() {\n  return Math.floor(100000 + Math.random() * 900000).toString()\n}\n\n// short_id\nasync function isShortIdExists(shortId) {\n  const supabase = getSupabase()\n  const { data, error } = await supabase\n    .from('rooms')\n    .select('id')\n    .eq('short_id', shortId)\n    .maybeSingle()\n  return !error && !!data\n}\n\n// short_id\nasync function generateUniqueShortId() {\n  let shortId\n  let attempts = 0\n  do {\n    shortId = generateShortId()\n    attempts++\n    if (attempts > 10) {\n      throw new Error('ID')\n    }\n  } while (await isShortIdExists(shortId))\n  return shortId\n}\n\nclass RoomService {\n  async createRoom(ownerId, { name, maxPlayers = 6, description } = {}) {\n    const supabase = getSupabase()\n    const shortId = await generateUniqueShortId()\n    const { data, error } = await supabase\n      .from('rooms')\n      .insert({ \n        owner_id: ownerId, \n        status: 'waiting', \n        name, \n        max_players: maxPlayers, \n        description,\n        short_id: shortId\n      })\n      .select()\n      .single()\n    if (error) throw error\n    // add owner to room_players\n    await supabase.from('room_players').insert({ room_id: data.id, user_id: ownerId, role: 'owner', energy: 50, is_ready: false, seat_index: 0 })\n    return data\n  }\n\n  async joinRoom(roomId, userId) {\n    const supabase = getSupabase()\n    console.log('[room-service] joinRoom begin', { roomId, userId })\n    \n    // \n    const { data: existingRooms, error: checkError } = await supabase\n      .from('room_players')\n      .select('room_id, rooms!inner(id, status)')\n      .eq('user_id', userId)\n    \n    if (checkError) throw checkError\n    \n    // \n    if (existingRooms && existingRooms.length > 0) {\n      for (const existingRoom of existingRooms) {\n        if (existingRoom.rooms.status === 'waiting') {\n          await this.leaveRoom(existingRoom.room_id, userId)\n        }\n      }\n    }\n    \n    // UUIDshort_id\n    let room\n    if (roomId.length === 6 && /^\\d{6}$/.test(roomId)) {\n      // 6ID\n      const { data, error } = await supabase.from('rooms').select().eq('short_id', roomId).single()\n      if (error) throw error\n      room = data\n    } else {\n      // UUID\n      const { data, error } = await supabase.from('rooms').select().eq('id', roomId).single()\n      if (error) throw error\n      room = data\n    }\n    \n    //  ended waiting \n    if (room.status === 'playing') {\n      throw new Error('')\n    }\n    if (room.status === 'ended') {\n      const { error: resetErr } = await supabase.from('rooms').update({ status: 'waiting' }).eq('id', room.id)\n      if (resetErr) throw resetErr\n      room.status = 'waiting'\n    }\n    \n    // \n    const { data: currentPlayers } = await supabase.from('room_players').select('id').eq('room_id', room.id)\n    if (currentPlayers && currentPlayers.length >= (room.max_players || 6)) {\n      throw new Error('')\n    }\n    \n    // avoid duplicate join under race conditions: upsert on (room_id, user_id)\n    const { data: players } = await supabase.from('room_players').select('seat_index').eq('room_id', room.id)\n    const taken = new Set((players || []).filter(p => typeof p.seat_index === 'number').map(p => p.seat_index))\n    let seatIndex = null\n    for (let i = 0; i < (room.max_players || 6); i++) { if (!taken.has(i)) { seatIndex = i; break } }\n    const { error: upsertErr } = await supabase\n      .from('room_players')\n      .upsert(\n        { room_id: room.id, user_id: userId, role: 'player', energy: 50, is_ready: false, seat_index: seatIndex },\n        { onConflict: 'room_id,user_id', ignoreDuplicates: true }\n      )\n    if (upsertErr && upsertErr.code !== '23505') throw upsertErr\n    console.log('[room-service] joinRoom success', { roomId: room.id, userId })\n    return room\n  }\n\n  async getRoom(roomId) {\n    const supabase = getSupabase()\n    let query = supabase\n      .from('rooms')\n      .select('id, short_id, name, status, owner_id, max_players, invite_code, room_players(id, user_id, role, energy, is_ready, seat_index)')\n    \n    // UUIDshort_id\n    if (roomId.length === 6 && /^\\d{6}$/.test(roomId)) {\n      query = query.eq('short_id', roomId)\n    } else {\n      query = query.eq('id', roomId)\n    }\n    \n    const { data, error } = await query.single()\n    if (error) throw error\n    return data\n  }\n\n  async listRooms() {\n    const supabase = getSupabase()\n    const { data, error } = await supabase\n      .from('rooms')\n      .select(`\n        id, \n        short_id, \n        name, \n        status, \n        created_at, \n        max_players, \n        invite_code,\n        room_players(count)\n      `)\n      .order('created_at', { ascending: false })\n    if (error) throw error\n    \n    // \n    const rooms = (data || []).map(room => ({\n      ...room,\n      current_players: room.room_players ? room.room_players.length : 0\n    }))\n    \n    return rooms\n  }\n\n  async quickJoinRandomRoom(userId) {\n    const rooms = await this.listRooms()\n    const waiting = rooms.filter(r => r.status === 'waiting')\n    \n    // \n    if (waiting.length > 0) {\n      const pick = waiting[Math.floor(Math.random() * waiting.length)]\n      await this.joinRoom(pick.id, userId)\n      // \n      return await this.getRoom(pick.id)\n    } else {\n      // \n      console.log('[room-service] ')\n      const newRoom = await this.createRoom(userId, { \n        name: ``,\n        maxPlayers: 6,\n        description: ''\n      })\n      // \n      return await this.getRoom(newRoom.id)\n    }\n  }\n\n  async setReady(roomId, userId, isReady) {\n    const supabase = getSupabase()\n    const { error } = await supabase\n      .from('room_players')\n      .update({ is_ready: !!isReady })\n      .eq('room_id', roomId)\n      .eq('user_id', userId)\n    if (error) throw error\n  }\n\n  async setSeat(roomId, userId, seatIndex) {\n    const supabase = getSupabase()\n    const { error } = await supabase\n      .from('room_players')\n      .update({ seat_index: seatIndex })\n      .eq('room_id', roomId)\n      .eq('user_id', userId)\n    if (error) throw error\n  }\n\n  async startGame(roomId, ownerId) {\n    const supabase = getSupabase()\n    // check owner\n    const { data: room, error: rerr } = await supabase.from('rooms').select().eq('id', roomId).single()\n    if (rerr) throw rerr\n    if (room.owner_id !== ownerId) throw new Error('')\n    // check all ready\n    const { data: players, error: perr } = await supabase.from('room_players').select('*').eq('room_id', roomId)\n    if (perr) throw perr\n    const allReady = players.length > 0 && players.every(p => !!p.is_ready)\n    if (!allReady) throw new Error('')\n    // set room status\n    const { error: uerr } = await supabase.from('rooms').update({ status: 'playing' }).eq('id', roomId)\n    if (uerr) throw uerr\n\n    // \n    // 1) 50\n    const { error: perr2 } = await supabase\n      .from('room_players')\n      .update({ energy: 50 })\n      .eq('room_id', roomId)\n    if (perr2) throw perr2\n\n    // 2) \n    const { error: aerr } = await supabase\n      .from('room_artifacts')\n      .delete()\n      .eq('room_id', roomId)\n    if (aerr) throw aerr\n\n    return { success: true }\n  }\n\n  // \n  async leaveRoom(roomId, userId) {\n    const supabase = getSupabase()\n    \n    // \n    const { data: room, error: roomErr } = await supabase.from('rooms').select('*').eq('id', roomId).single()\n    if (roomErr) throw roomErr\n    \n    // \n    const { data: players, error: playersErr } = await supabase.from('room_players').select('*').eq('room_id', roomId)\n    if (playersErr) throw playersErr\n    \n    // \n    const { error: deleteErr } = await supabase\n      .from('room_players')\n      .delete()\n      .eq('room_id', roomId)\n      .eq('user_id', userId)\n    if (deleteErr) throw deleteErr\n    \n    // \n    const { data: remainingPlayers } = await supabase.from('room_players').select('id, user_id').eq('room_id', roomId)\n    const remainingCount = Array.isArray(remainingPlayers) ? remainingPlayers.length : 0\n    \n    // 2\n    \n    //  waiting\n    if (remainingCount === 0) {\n      await supabase.from('rooms').update({ status: 'waiting', owner_id: null }).eq('id', roomId)\n      await this.deleteEmptyRoom(roomId, userId).catch(() => {})\n      return\n    }\n    \n    // \n    if (room.owner_id === userId) {\n      // \n      const newOwner = remainingPlayers[0]\n      await supabase\n        .from('rooms')\n        .update({ owner_id: newOwner.user_id })\n        .eq('id', roomId)\n      \n      // \n      await supabase\n        .from('room_players')\n        .update({ role: 'owner' })\n        .eq('room_id', roomId)\n        .eq('user_id', newOwner.user_id)\n    }\n    \n    return { success: true }\n  }\n\n  // \n  async deleteEmptyRoom(roomId, actingUserId) {\n    const supabase = getSupabase()\n    \n    // \n    const { data: players } = await supabase.from('room_players').select('id').eq('room_id', roomId)\n    if (players && players.length > 0) {\n      return // \n    }\n    \n    // RLS\n    const { data: room } = await supabase.from('rooms').select('owner_id').eq('id', roomId).single()\n    if (!room || room.owner_id !== actingUserId) {\n      return\n    }\n    // room_playersroom_artifacts\n    const { error } = await supabase.from('rooms').delete().eq('id', roomId)\n    if (error) {\n      console.error(':', error)\n    }\n  }\n\n  // \n  async cleanupEmptyRooms() {\n    const supabase = getSupabase()\n    \n    // waiting/ended\n    const { data: rooms, error: roomsErr } = await supabase\n      .from('rooms')\n      .select('id, status')\n      .in('status', ['waiting', 'ended'])\n    if (roomsErr) throw roomsErr\n    \n    // \n    for (const room of rooms) {\n      const { data: players } = await supabase.from('room_players').select('id').eq('room_id', room.id)\n      if (!players || players.length === 0) {\n        await this.deleteEmptyRoom(room.id).catch(() => {})\n      }\n    }\n  }\n}\n\nexport default new RoomService()\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player-avatar.vue?vue&type=style&index=0&id=fc4eb968&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rooms.vue?vue&type=style&index=0&id=502c8979&prod&scoped=true&lang=css\""],"sourceRoot":""}