{"remainingRequest":"D:\\大学生活\\大三\\全栈ai\\项目\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\大学生活\\大三\\全栈ai\\项目\\-Time-Traveler-Auction\\src\\pages\\auth\\login.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\大学生活\\大三\\全栈ai\\项目\\-Time-Traveler-Auction\\src\\pages\\auth\\login.vue","mtime":1762087622745},{"path":"D:\\大学生活\\大三\\全栈ai\\项目\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1762215254891},{"path":"D:\\大学生活\\大三\\全栈ai\\项目\\node_modules\\babel-loader\\lib\\index.js","mtime":1762215256120},{"path":"D:\\大学生活\\大三\\全栈ai\\项目\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1762215254891},{"path":"D:\\大学生活\\大三\\全栈ai\\项目\\node_modules\\vue-loader\\lib\\index.js","mtime":1762215256637}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXV0aFNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvYXV0aC1zZXJ2aWNlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdMb2dpblBhZ2UnLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBhY2NvdW50OiAnJywNCiAgICAgIHBhc3N3b3JkOiAnJywNCiAgICAgIHVzZXJuYW1lOiAnJywNCiAgICAgIGVycm9yTWVzc2FnZTogJycsDQogICAgICBtb2RlOiAnbG9naW4nLA0KICAgICAgaXNTdWJtaXR0aW5nOiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGhhbmRsZVNpZ25VcCgpIHsNCiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gJycNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF1dGhTZXJ2aWNlLnNpZ25VcEFjY291bnQodGhpcy5hY2NvdW50LCB0aGlzLnBhc3N3b3JkLCB0aGlzLnVzZXJuYW1lKQ0KICAgICAgICBjb25zdCB1c2VyID0gKHJlcyAmJiByZXMudXNlcikNCiAgICAgICAgaWYgKHVzZXIpIHsNCiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ1NFVF9VU0VSJywgdXNlcikNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL21lbnUnKQ0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZS5tZXNzYWdlIHx8ICfms6jlhozlpLHotKUnDQogICAgICB9DQogICAgfSwNCiAgICBhc3luYyBoYW5kbGVTaWduSW4oKSB7DQogICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICcnDQogICAgICB0cnkgew0KICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhdXRoU2VydmljZS5zaWduSW5BY2NvdW50KHRoaXMuYWNjb3VudCwgdGhpcy5wYXNzd29yZCkNCiAgICAgICAgY29uc3QgdXNlciA9IChyZXMgJiYgcmVzLnVzZXIpDQogICAgICAgIGlmICh1c2VyKSB7DQogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRfVVNFUicsIHVzZXIpDQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9tZW51JykNCiAgICAgICAgfQ0KICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGUubWVzc2FnZSB8fCAn55m75b2V5aSx6LSlJw0KICAgICAgfQ0KICAgIH0sDQogICAgdG9nZ2xlUmVnaXN0ZXIoKSB7DQogICAgICB0aGlzLm1vZGUgPSB0aGlzLm1vZGUgPT09ICdsb2dpbicgPyAncmVnaXN0ZXInIDogJ2xvZ2luJw0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";AA8BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/pages/auth","sourcesContent":["<template>\r\n  <div class=\"auth-container\">\r\n    <div class=\"topbar\">\r\n      <button class=\"btn link\" @click.prevent.stop=\"$router.replace('/menu')\">返回菜单</button>\r\n    </div>\r\n    <div class=\"auth-card\">\r\n      <div class=\"form-field\">\r\n        <label>账号（邮箱或用户名）</label>\r\n        <input v-model=\"account\" type=\"text\" placeholder=\"输入邮箱或用户名\" />\r\n      </div>\r\n      <div class=\"form-field\">\r\n        <label>密码</label>\r\n        <input v-model=\"password\" type=\"password\" placeholder=\"至少6位\" />\r\n      </div>\r\n      <div class=\"form-field\" v-if=\"mode==='register'\">\r\n        <label>昵称（注册时可选）</label>\r\n        <input v-model=\"username\" type=\"text\" placeholder=\"你的昵称\" />\r\n      </div>\r\n      <p class=\"hint\">{{ mode==='login' ? '使用账号（邮箱或用户名）登录后进入菜单创建或加入房间' : '仅用账号+密码注册；如使用用户名注册将生成系统邮箱' }}</p>\r\n      <div class=\"actions\">\r\n        <button class=\"btn primary\" :disabled=\"isSubmitting\" v-if=\"mode==='login'\" @click.prevent.stop=\"handleSignIn\">{{ isSubmitting ? '处理中...' : '登录' }}</button>\r\n        <button class=\"btn primary\" :disabled=\"isSubmitting\" v-else @click.prevent.stop=\"handleSignUp\">{{ isSubmitting ? '处理中...' : '注册' }}</button>\r\n        <button class=\"btn link\" :disabled=\"isSubmitting\" @click.prevent.stop=\"toggleRegister\">{{ mode==='login' ? '没有账号？注册' : '已有账号？去登录' }}</button>\r\n      </div>\r\n    </div>\r\n    <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport authService from '../../services/auth-service'\r\n\r\nexport default {\r\n  name: 'LoginPage',\r\n  data() {\r\n    return {\r\n      account: '',\r\n      password: '',\r\n      username: '',\r\n      errorMessage: '',\r\n      mode: 'login',\r\n      isSubmitting: false\r\n    }\r\n  },\r\n  methods: {\r\n    async handleSignUp() {\r\n      this.errorMessage = ''\r\n      try {\r\n        const res = await authService.signUpAccount(this.account, this.password, this.username)\r\n        const user = (res && res.user)\r\n        if (user) {\r\n          this.$store.commit('SET_USER', user)\r\n          this.$router.push('/menu')\r\n        }\r\n      } catch (e) {\r\n        this.errorMessage = e.message || '注册失败'\r\n      }\r\n    },\r\n    async handleSignIn() {\r\n      this.errorMessage = ''\r\n      try {\r\n        const res = await authService.signInAccount(this.account, this.password)\r\n        const user = (res && res.user)\r\n        if (user) {\r\n          this.$store.commit('SET_USER', user)\r\n          this.$router.push('/menu')\r\n        }\r\n      } catch (e) {\r\n        this.errorMessage = e.message || '登录失败'\r\n      }\r\n    },\r\n    toggleRegister() {\r\n      this.mode = this.mode === 'login' ? 'register' : 'login'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.auth-container { min-height: 100vh; display: flex; flex-direction:column; align-items: center; justify-content: flex-start; padding: 24px; background:\r\n  radial-gradient(1400px circle at 15% 0%, #0b1220, #0f172a),\r\n  radial-gradient(900px circle at 85% 25%, rgba(99,102,241,0.12), rgba(99,102,241,0)); }\r\n.topbar { width:100%; display:flex; justify-content:flex-end; align-items:center; margin-bottom: 12px; }\r\n.btn.link { background: transparent; color: #3b82f6; text-decoration: underline; }\r\n.auth-container::before { content:''; position:fixed; inset:0; pointer-events:none; background:\r\n  radial-gradient(600px 300px at 20% 10%, rgba(99,102,241,0.18), rgba(99,102,241,0)),\r\n  radial-gradient(400px 200px at 80% 30%, rgba(16,185,129,0.14), rgba(16,185,129,0)),\r\n  radial-gradient(500px 250px at 50% 80%, rgba(234,179,8,0.10), rgba(234,179,8,0)); filter: blur(20px); z-index: 0; }\r\n.auth-card { width: 420px; background: #0f172a; border: 1px solid #1f2937; border-radius: 16px; box-shadow: 0 20px 40px rgba(2,6,23,0.5); padding: 20px; position: relative; overflow: hidden; z-index: 1; }\r\n.auth-card::after { content:''; position:absolute; inset:-1px; border-radius:16px; padding:1px; background: linear-gradient(90deg, rgba(59,130,246,0.25), rgba(16,185,129,0.25)); -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);\r\n  -webkit-mask-composite: xor; mask-composite: exclude; pointer-events: none; }\r\n.auth-container::after { content:''; position:fixed; inset:0; pointer-events:none; background-image: radial-gradient(2px 2px at 20% 30%, rgba(226,232,240,0.12), transparent), radial-gradient(1.5px 1.5px at 60% 70%, rgba(226,232,240,0.08), transparent); background-repeat: repeat; animation: starfield 20s linear infinite; opacity: .6; }\r\n@keyframes starfield { from { background-position: 0 0, 0 0; } to { background-position: 200px 300px, -200px -300px; }\r\n}\r\n.form-field { margin-bottom: 12px; }\r\nlabel { display: block; font-size: 12px; color: #94a3b8; margin-bottom: 4px; }\r\ninput { width: 100%; padding: 10px 12px; border-radius: 8px; background: #0b1220; color:#e2e8f0; border:1px solid #1f2937; outline:none; }\r\ninput:focus { box-shadow: 0 0 0 2px rgba(59,130,246,0.35); border-color:#3b82f6; }\r\n.actions { display: flex; gap: 8px; margin-top: 12px; }\r\n.btn { padding: 10px 14px; border-radius: 10px; background: #1f2937; color:#e2e8f0; cursor: pointer; transition: transform .15s ease, box-shadow .15s ease; }\r\n.btn.primary { background: #3b82f6; color: #fff; }\r\n.btn:hover { transform: translateY(-1px); box-shadow: 0 6px 20px rgba(59,130,246,0.2); }\r\n.error { color: #ef4444; margin-top: 8px; text-align: center; }\r\n.hint { color: #94a3b8; font-size: 12px; margin-top: 8px; text-align:center; }\r\n</style>\r\n"]}]}