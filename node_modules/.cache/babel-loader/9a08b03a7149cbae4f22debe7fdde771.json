{"remainingRequest":"D:\\大学生活\\大三\\全栈ai\\项目\\node_modules\\babel-loader\\lib\\index.js!D:\\大学生活\\大三\\全栈ai\\项目\\-Time-Traveler-Auction\\src\\features\\game\\chat.service.js","dependencies":[{"path":"D:\\大学生活\\大三\\全栈ai\\项目\\-Time-Traveler-Auction\\src\\features\\game\\chat.service.js","mtime":1762152285804},{"path":"D:\\大学生活\\大三\\全栈ai\\项目\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1762215254891},{"path":"D:\\大学生活\\大三\\全栈ai\\项目\\node_modules\\babel-loader\\lib\\index.js","mtime":1762215256120}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8g6IGK5aSp5pyN5Yqh77ya6LSf6LSj5oi/6Ze05YaF5raI5oGv5bm/5pKtCgovKioNCiAqIOWPkemAgeiBiuWkqea2iOaBr+WIsOaIv+mXtA0KICogQHBhcmFtIHtPYmplY3R9IGRlcHMNCiAqIEBwYXJhbSB7YW55fSBkZXBzLnN1cGFiYXNlDQogKiBAcGFyYW0ge3N0cmluZ30gZGVwcy5yb29tSWQNCiAqIEBwYXJhbSB7T2JqZWN0fSBkZXBzLm1lc3NhZ2UNCiAqLwpleHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZENoYXRNZXNzYWdlKHsKICBzdXBhYmFzZSwKICByb29tSWQsCiAgbWVzc2FnZQp9KSB7CiAgaWYgKCFyb29tSWQpIHJldHVybjsKICBhd2FpdCBzdXBhYmFzZS5jaGFubmVsKGByb29tX2Nhc3RfJHtyb29tSWR9YCkuc2VuZCh7CiAgICB0eXBlOiAnYnJvYWRjYXN0JywKICAgIGV2ZW50OiAnY2hhdF9tZXNzYWdlJywKICAgIHBheWxvYWQ6IG1lc3NhZ2UKICB9KTsKfQ=="},{"version":3,"names":["sendChatMessage","supabase","roomId","message","channel","send","type","event","payload"],"sources":["D:/大学生活/大三/全栈ai/项目/-Time-Traveler-Auction/src/features/game/chat.service.js"],"sourcesContent":["// 聊天服务：负责房间内消息广播\r\n\r\n/**\r\n * 发送聊天消息到房间\r\n * @param {Object} deps\r\n * @param {any} deps.supabase\r\n * @param {string} deps.roomId\r\n * @param {Object} deps.message\r\n */\r\nexport async function sendChatMessage({ supabase, roomId, message }) {\r\n  if (!roomId) return\r\n  await supabase.channel(`room_cast_${roomId}`).send({\r\n    type: 'broadcast',\r\n    event: 'chat_message',\r\n    payload: message\r\n  })\r\n}\r\n\r\n\r\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeA,eAAeA,CAAC;EAAEC,QAAQ;EAAEC,MAAM;EAAEC;AAAQ,CAAC,EAAE;EACnE,IAAI,CAACD,MAAM,EAAE;EACb,MAAMD,QAAQ,CAACG,OAAO,CAAC,aAAaF,MAAM,EAAE,CAAC,CAACG,IAAI,CAAC;IACjDC,IAAI,EAAE,WAAW;IACjBC,KAAK,EAAE,cAAc;IACrBC,OAAO,EAAEL;EACX,CAAC,CAAC;AACJ","ignoreList":[]}]}