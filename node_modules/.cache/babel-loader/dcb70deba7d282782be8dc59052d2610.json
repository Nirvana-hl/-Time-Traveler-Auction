{"remainingRequest":"D:\\大学生活\\大三\\全栈ai\\项目\\node_modules\\babel-loader\\lib\\index.js!D:\\大学生活\\大三\\全栈ai\\项目\\-Time-Traveler-Auction\\src\\services\\item-service.js","dependencies":[{"path":"D:\\大学生活\\大三\\全栈ai\\项目\\-Time-Traveler-Auction\\src\\services\\item-service.js","mtime":1762087622759},{"path":"D:\\大学生活\\大三\\全栈ai\\项目\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1762215254891},{"path":"D:\\大学生活\\大三\\全栈ai\\项目\\node_modules\\babel-loader\\lib\\index.js","mtime":1762215256120}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqDQogKiDpgZPlhbfmnI3liqENCiAqLwpjbGFzcyBJdGVtU2VydmljZSB7CiAgY29uc3RydWN0b3IoKSB7CiAgICB0aGlzLml0ZW1zID0gW107CiAgICB0aGlzLnBsYXllckl0ZW1zID0gbmV3IE1hcCgpOyAvLyDnjqnlrrbpgZPlhbflupPlrZgKICAgIHRoaXMubG9hZEl0ZW1zKCk7CiAgfQoKICAvKioNCiAgICog5Yqg6L296YGT5YW35pWw5o2uDQogICAqLwogIGFzeW5jIGxvYWRJdGVtcygpIHsKICAgIHRyeSB7CiAgICAgIGNvbnN0IHsKICAgICAgICBnZXRTdXBhYmFzZQogICAgICB9ID0gYXdhaXQgaW1wb3J0KCcuL3N1cGFiYXNlLWNsaWVudCcpOwogICAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlKCk7CiAgICAgIGNvbnN0IHsKICAgICAgICBkYXRhLAogICAgICAgIGVycm9yCiAgICAgIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKCdpdGVtcycpLnNlbGVjdCgnKicpOwogICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yOwogICAgICB0aGlzLml0ZW1zID0gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbXTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ+WKoOi9vemBk+WFt+aVsOaNruWksei0pTonLCBlcnJvcik7CiAgICAgIHRoaXMuaXRlbXMgPSBbXTsKICAgIH0KICB9CgogIC8qKg0KICAgKiDojrflj5bmiYDmnInpgZPlhbcNCiAgICovCiAgZ2V0SXRlbXMoKSB7CiAgICByZXR1cm4gdGhpcy5pdGVtczsKICB9CgogIC8qKg0KICAgKiDmoLnmja5JROiOt+WPlumBk+WFtw0KICAgKi8KICBnZXRJdGVtQnlJZChpdGVtSWQpIHsKICAgIHJldHVybiB0aGlzLml0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBpdGVtSWQpOwogIH0KCiAgLyoqDQogICAqIOi0reS5sOmBk+WFtw0KICAgKiBAcGFyYW0ge3N0cmluZ30gcGxheWVySWQgLSDnjqnlrrZJRA0KICAgKiBAcGFyYW0ge3N0cmluZ30gaXRlbUlkIC0g6YGT5YW3SUQNCiAgICogQHBhcmFtIHtudW1iZXJ9IHBsYXllckVuZXJneSAtIOeOqeWutuW9k+WJjeiDvemHjw0KICAgKi8KICBidXlJdGVtKHBsYXllcklkLCBpdGVtSWQsIHBsYXllckVuZXJneSkgewogICAgY29uc3QgaXRlbSA9IHRoaXMuZ2V0SXRlbUJ5SWQoaXRlbUlkKTsKICAgIGlmICghaXRlbSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ+mBk+WFt+S4jeWtmOWcqCcpOwogICAgfQogICAgaWYgKHBsYXllckVuZXJneSA8IGl0ZW0ucHJpY2UpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCfog73ph4/kuI3otrMnKTsKICAgIH0KCiAgICAvLyDmo4Dmn6XpgZPlhbfmoI/kuIrpmZAKICAgIGNvbnN0IHBsYXllckl0ZW1Db3VudCA9IHRoaXMuZ2V0UGxheWVySXRlbUNvdW50KHBsYXllcklkKTsKICAgIGlmIChwbGF5ZXJJdGVtQ291bnQgPj0gNSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ+mBk+WFt+agj+W3sua7oScpOwogICAgfQoKICAgIC8vIOajgOafpeWQjOexu+mBk+WFt+aMgeacieS4iumZkAogICAgY29uc3Qgc2FtZVR5cGVDb3VudCA9IHRoaXMuZ2V0UGxheWVySXRlbUNvdW50QnlUeXBlKHBsYXllcklkLCBpdGVtLnR5cGUpOwogICAgaWYgKHNhbWVUeXBlQ291bnQgPj0gMikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ+WQjOexu+mBk+WFt+aMgeacieW3sui+vuS4iumZkCcpOwogICAgfQoKICAgIC8vIOa3u+WKoOmBk+WFt+WIsOeOqeWutuW6k+WtmAogICAgaWYgKCF0aGlzLnBsYXllckl0ZW1zLmhhcyhwbGF5ZXJJZCkpIHsKICAgICAgdGhpcy5wbGF5ZXJJdGVtcy5zZXQocGxheWVySWQsIFtdKTsKICAgIH0KICAgIHRoaXMucGxheWVySXRlbXMuZ2V0KHBsYXllcklkKS5wdXNoKHsKICAgICAgLi4uaXRlbSwKICAgICAgcHVyY2hhc2VUaW1lOiBEYXRlLm5vdygpCiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIHN1Y2Nlc3M6IHRydWUsCiAgICAgIGl0ZW06IGl0ZW0sCiAgICAgIHJlbWFpbmluZ0VuZXJneTogcGxheWVyRW5lcmd5IC0gaXRlbS5wcmljZQogICAgfTsKICB9CgogIC8qKg0KICAgKiDkvb/nlKjpgZPlhbcNCiAgICogQHBhcmFtIHtzdHJpbmd9IHBsYXllcklkIC0g546p5a62SUQNCiAgICogQHBhcmFtIHtzdHJpbmd9IGl0ZW1JZCAtIOmBk+WFt0lEDQogICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgLSDnm67moIflr7nosaENCiAgICovCiAgdXNlSXRlbShwbGF5ZXJJZCwgaXRlbUlkLCB0YXJnZXQgPSBudWxsKSB7CiAgICBjb25zdCBwbGF5ZXJJdGVtTGlzdCA9IHRoaXMucGxheWVySXRlbXMuZ2V0KHBsYXllcklkKSB8fCBbXTsKICAgIGNvbnN0IHBsYXllckl0ZW0gPSBwbGF5ZXJJdGVtTGlzdC5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gaXRlbUlkKTsKICAgIGlmICghcGxheWVySXRlbSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ+mBk+WFt+S4jeWtmOWcqCcpOwogICAgfQoKICAgIC8vIOmqjOivgeS9v+eUqOaXtuacugogICAgaWYgKCF0aGlzLnZhbGlkYXRlVXNlVGltaW5nKHBsYXllckl0ZW0sIHRhcmdldCkpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCflvZPliY3ml7bmnLrkuI3og73kvb/nlKjmraTpgZPlhbcnKTsKICAgIH0KCiAgICAvLyDmiafooYzpgZPlhbfmlYjmnpwKICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZXhlY3V0ZUl0ZW1FZmZlY3QocGxheWVySXRlbSwgdGFyZ2V0KTsKCiAgICAvLyDnp7vpmaTlt7Lkvb/nlKjnmoTpgZPlhbcKICAgIGNvbnN0IGluZGV4ID0gcGxheWVySXRlbUxpc3QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5pZCA9PT0gaXRlbUlkKTsKICAgIHBsYXllckl0ZW1MaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgLyoqDQogICAqIOmqjOivgeS9v+eUqOaXtuacug0KICAgKi8KICB2YWxpZGF0ZVVzZVRpbWluZyhpdGVtLCB0YXJnZXQpIHsKICAgIC8vIOi/memHjOWPr+S7peagueaNrua4uOaIj+eKtuaAgeWSjOmBk+WFt+exu+Wei+i/m+ihjOmqjOivgQogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioNCiAgICog5omn6KGM6YGT5YW35pWI5p6cDQogICAqLwogIGV4ZWN1dGVJdGVtRWZmZWN0KGl0ZW0sIHRhcmdldCkgewogICAgc3dpdGNoIChpdGVtLmVmZmVjdCkgewogICAgICBjYXNlICdyZXR1cm5fYXJ0aWZhY3QnOgogICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dGVSZXR1cm5BcnRpZmFjdChpdGVtLCB0YXJnZXQpOwogICAgICBjYXNlICdjYW5jZWxfYXVjdGlvbic6CiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZUNhbmNlbEF1Y3Rpb24oaXRlbSwgdGFyZ2V0KTsKICAgICAgY2FzZSAnZXh0ZW5kX3RpbWUnOgogICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dGVFeHRlbmRUaW1lKGl0ZW0sIHRhcmdldCk7CiAgICAgIGNhc2UgJ3N0ZWFsX2VuZXJneSc6CiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZVN0ZWFsRW5lcmd5KGl0ZW0sIHRhcmdldCk7CiAgICAgIGNhc2UgJ2RvdWJsZV9hdWN0aW9uJzoKICAgICAgICByZXR1cm4gdGhpcy5leGVjdXRlRG91YmxlQXVjdGlvbihpdGVtLCB0YXJnZXQpOwogICAgICBkZWZhdWx0OgogICAgICAgIHRocm93IG5ldyBFcnJvcign5pyq55+l55qE6YGT5YW35pWI5p6cJyk7CiAgICB9CiAgfQoKICAvKioNCiAgICog5omn6KGM5pe256m65Lmx5rWB5pWI5p6cDQogICAqLwogIGV4ZWN1dGVSZXR1cm5BcnRpZmFjdChpdGVtLCB0YXJnZXQpIHsKICAgIHJldHVybiB7CiAgICAgIGVmZmVjdDogJ3JldHVybl9hcnRpZmFjdCcsCiAgICAgIG1lc3NhZ2U6ICfml7bnqbrkubHmtYHlj5HliqjvvIHnm67moIflpYfnianooqvpgIHlm57niYzloIYnLAogICAgICB0YXJnZXQ6IHRhcmdldAogICAgfTsKICB9CgogIC8qKg0KICAgKiDmiafooYzotZ3lk4HpibTlrprmlYjmnpwNCiAgICovCiAgZXhlY3V0ZUNhbmNlbEF1Y3Rpb24oaXRlbSwgdGFyZ2V0KSB7CiAgICByZXR1cm4gewogICAgICBlZmZlY3Q6ICdjYW5jZWxfYXVjdGlvbicsCiAgICAgIG1lc3NhZ2U6ICfotZ3lk4HpibTlrprvvIHlvZPliY3mi43ljZbooqvlj5bmtognLAogICAgICB0YXJnZXQ6IHRhcmdldAogICAgfTsKICB9CgogIC8qKg0KICAgKiDmiafooYzml7bpl7Tlhrvnu5PmlYjmnpwNCiAgICovCiAgZXhlY3V0ZUV4dGVuZFRpbWUoaXRlbSwgdGFyZ2V0KSB7CiAgICByZXR1cm4gewogICAgICBlZmZlY3Q6ICdleHRlbmRfdGltZScsCiAgICAgIG1lc3NhZ2U6ICfml7bpl7Tlhrvnu5PvvIHmi43ljZbml7bpl7Tlu7bplb8zMOenkicsCiAgICAgIHRhcmdldDogdGFyZ2V0LAogICAgICBleHRlbmRUaW1lOiAzMAogICAgfTsKICB9CgogIC8qKg0KICAgKiDmiafooYzog73ph4/nqoPlj5bmlYjmnpwNCiAgICovCiAgZXhlY3V0ZVN0ZWFsRW5lcmd5KGl0ZW0sIHRhcmdldCkgewogICAgcmV0dXJuIHsKICAgICAgZWZmZWN0OiAnc3RlYWxfZW5lcmd5JywKICAgICAgbWVzc2FnZTogJ+iDvemHj+eqg+WPlu+8geS7juebruagh+eOqeWutuWkhOeqg+WPljXngrnog73ph48nLAogICAgICB0YXJnZXQ6IHRhcmdldCwKICAgICAgc3RlYWxBbW91bnQ6IDUKICAgIH07CiAgfQoKICAvKioNCiAgICog5omn6KGM5Y+M5YCN5ouN5ZOB5pWI5p6cDQogICAqLwogIGV4ZWN1dGVEb3VibGVBdWN0aW9uKGl0ZW0sIHRhcmdldCkgewogICAgcmV0dXJuIHsKICAgICAgZWZmZWN0OiAnZG91YmxlX2F1Y3Rpb24nLAogICAgICBtZXNzYWdlOiAn5Y+M5YCN5ouN5ZOB77yB5LiL5qyh5ouN5Y2W5bCG5Ye6546w5Lik5byg5aWH54mpJywKICAgICAgdGFyZ2V0OiB0YXJnZXQKICAgIH07CiAgfQoKICAvKioNCiAgICog6I635Y+W546p5a626YGT5YW35pWw6YePDQogICAqLwogIGdldFBsYXllckl0ZW1Db3VudChwbGF5ZXJJZCkgewogICAgY29uc3QgcGxheWVySXRlbUxpc3QgPSB0aGlzLnBsYXllckl0ZW1zLmdldChwbGF5ZXJJZCkgfHwgW107CiAgICByZXR1cm4gcGxheWVySXRlbUxpc3QubGVuZ3RoOwogIH0KCiAgLyoqDQogICAqIOiOt+WPlueOqeWutuafkOexu+Wei+mBk+WFt+aVsOmHjw0KICAgKi8KICBnZXRQbGF5ZXJJdGVtQ291bnRCeVR5cGUocGxheWVySWQsIHR5cGUpIHsKICAgIGNvbnN0IHBsYXllckl0ZW1MaXN0ID0gdGhpcy5wbGF5ZXJJdGVtcy5nZXQocGxheWVySWQpIHx8IFtdOwogICAgcmV0dXJuIHBsYXllckl0ZW1MaXN0LmZpbHRlcihpdGVtID0+IGl0ZW0udHlwZSA9PT0gdHlwZSkubGVuZ3RoOwogIH0KCiAgLyoqDQogICAqIOiOt+WPlueOqeWutumBk+WFt+WIl+ihqA0KICAgKi8KICBnZXRQbGF5ZXJJdGVtcyhwbGF5ZXJJZCkgewogICAgcmV0dXJuIHRoaXMucGxheWVySXRlbXMuZ2V0KHBsYXllcklkKSB8fCBbXTsKICB9Cn0KZXhwb3J0IGRlZmF1bHQgbmV3IEl0ZW1TZXJ2aWNlKCk7"},{"version":3,"names":["ItemService","constructor","items","playerItems","Map","loadItems","getSupabase","supabase","data","error","from","select","Array","isArray","console","getItems","getItemById","itemId","find","item","id","buyItem","playerId","playerEnergy","Error","price","playerItemCount","getPlayerItemCount","sameTypeCount","getPlayerItemCountByType","type","has","set","get","push","purchaseTime","Date","now","success","remainingEnergy","useItem","target","playerItemList","playerItem","validateUseTiming","result","executeItemEffect","index","findIndex","splice","effect","executeReturnArtifact","executeCancelAuction","executeExtendTime","executeStealEnergy","executeDoubleAuction","message","extendTime","stealAmount","length","filter","getPlayerItems"],"sources":["D:/大学生活/大三/全栈ai/项目/-Time-Traveler-Auction/src/services/item-service.js"],"sourcesContent":["/**\r\n * 道具服务\r\n */\r\nclass ItemService {\r\n  constructor() {\r\n    this.items = []\r\n    this.playerItems = new Map() // 玩家道具库存\r\n    this.loadItems()\r\n  }\r\n\r\n  /**\r\n   * 加载道具数据\r\n   */\r\n  async loadItems() {\r\n    try {\r\n      const { getSupabase } = await import('./supabase-client')\r\n      const supabase = getSupabase()\r\n      const { data, error } = await supabase.from('items').select('*')\r\n      if (error) throw error\r\n      this.items = Array.isArray(data) ? data : []\r\n    } catch (error) {\r\n      console.error('加载道具数据失败:', error)\r\n      this.items = []\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取所有道具\r\n   */\r\n  getItems() {\r\n    return this.items\r\n  }\r\n\r\n  /**\r\n   * 根据ID获取道具\r\n   */\r\n  getItemById(itemId) {\r\n    return this.items.find(item => item.id === itemId)\r\n  }\r\n\r\n  /**\r\n   * 购买道具\r\n   * @param {string} playerId - 玩家ID\r\n   * @param {string} itemId - 道具ID\r\n   * @param {number} playerEnergy - 玩家当前能量\r\n   */\r\n  buyItem(playerId, itemId, playerEnergy) {\r\n    const item = this.getItemById(itemId)\r\n    if (!item) {\r\n      throw new Error('道具不存在')\r\n    }\r\n\r\n    if (playerEnergy < item.price) {\r\n      throw new Error('能量不足')\r\n    }\r\n\r\n    // 检查道具栏上限\r\n    const playerItemCount = this.getPlayerItemCount(playerId)\r\n    if (playerItemCount >= 5) {\r\n      throw new Error('道具栏已满')\r\n    }\r\n\r\n    // 检查同类道具持有上限\r\n    const sameTypeCount = this.getPlayerItemCountByType(playerId, item.type)\r\n    if (sameTypeCount >= 2) {\r\n      throw new Error('同类道具持有已达上限')\r\n    }\r\n\r\n    // 添加道具到玩家库存\r\n    if (!this.playerItems.has(playerId)) {\r\n      this.playerItems.set(playerId, [])\r\n    }\r\n    \r\n    this.playerItems.get(playerId).push({\r\n      ...item,\r\n      purchaseTime: Date.now()\r\n    })\r\n\r\n    return {\r\n      success: true,\r\n      item: item,\r\n      remainingEnergy: playerEnergy - item.price\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 使用道具\r\n   * @param {string} playerId - 玩家ID\r\n   * @param {string} itemId - 道具ID\r\n   * @param {Object} target - 目标对象\r\n   */\r\n  useItem(playerId, itemId, target = null) {\r\n    const playerItemList = this.playerItems.get(playerId) || []\r\n    const playerItem = playerItemList.find(item => item.id === itemId)\r\n    \r\n    if (!playerItem) {\r\n      throw new Error('道具不存在')\r\n    }\r\n\r\n    // 验证使用时机\r\n    if (!this.validateUseTiming(playerItem, target)) {\r\n      throw new Error('当前时机不能使用此道具')\r\n    }\r\n\r\n    // 执行道具效果\r\n    const result = this.executeItemEffect(playerItem, target)\r\n    \r\n    // 移除已使用的道具\r\n    const index = playerItemList.findIndex(item => item.id === itemId)\r\n    playerItemList.splice(index, 1)\r\n\r\n    return result\r\n  }\r\n\r\n  /**\r\n   * 验证使用时机\r\n   */\r\n  validateUseTiming(item, target) {\r\n    // 这里可以根据游戏状态和道具类型进行验证\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 执行道具效果\r\n   */\r\n  executeItemEffect(item, target) {\r\n    switch (item.effect) {\r\n      case 'return_artifact':\r\n        return this.executeReturnArtifact(item, target)\r\n      case 'cancel_auction':\r\n        return this.executeCancelAuction(item, target)\r\n      case 'extend_time':\r\n        return this.executeExtendTime(item, target)\r\n      case 'steal_energy':\r\n        return this.executeStealEnergy(item, target)\r\n      case 'double_auction':\r\n        return this.executeDoubleAuction(item, target)\r\n      default:\r\n        throw new Error('未知的道具效果')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 执行时空乱流效果\r\n   */\r\n  executeReturnArtifact(item, target) {\r\n    return {\r\n      effect: 'return_artifact',\r\n      message: '时空乱流发动！目标奇物被送回牌堆',\r\n      target: target\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 执行赝品鉴定效果\r\n   */\r\n  executeCancelAuction(item, target) {\r\n    return {\r\n      effect: 'cancel_auction',\r\n      message: '赝品鉴定！当前拍卖被取消',\r\n      target: target\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 执行时间冻结效果\r\n   */\r\n  executeExtendTime(item, target) {\r\n    return {\r\n      effect: 'extend_time',\r\n      message: '时间冻结！拍卖时间延长30秒',\r\n      target: target,\r\n      extendTime: 30\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 执行能量窃取效果\r\n   */\r\n  executeStealEnergy(item, target) {\r\n    return {\r\n      effect: 'steal_energy',\r\n      message: '能量窃取！从目标玩家处窃取5点能量',\r\n      target: target,\r\n      stealAmount: 5\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 执行双倍拍品效果\r\n   */\r\n  executeDoubleAuction(item, target) {\r\n    return {\r\n      effect: 'double_auction',\r\n      message: '双倍拍品！下次拍卖将出现两张奇物',\r\n      target: target\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取玩家道具数量\r\n   */\r\n  getPlayerItemCount(playerId) {\r\n    const playerItemList = this.playerItems.get(playerId) || []\r\n    return playerItemList.length\r\n  }\r\n\r\n  /**\r\n   * 获取玩家某类型道具数量\r\n   */\r\n  getPlayerItemCountByType(playerId, type) {\r\n    const playerItemList = this.playerItems.get(playerId) || []\r\n    return playerItemList.filter(item => item.type === type).length\r\n  }\r\n\r\n  /**\r\n   * 获取玩家道具列表\r\n   */\r\n  getPlayerItems(playerId) {\r\n    return this.playerItems.get(playerId) || []\r\n  }\r\n}\r\n\r\nexport default new ItemService()\r\n"],"mappings":"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","ignoreList":[]}]}