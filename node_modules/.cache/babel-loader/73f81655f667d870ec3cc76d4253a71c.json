{"remainingRequest":"D:\\大学生活\\大三\\全栈ai\\项目\\node_modules\\babel-loader\\lib\\index.js!D:\\大学生活\\大三\\全栈ai\\项目\\-Time-Traveler-Auction\\src\\features\\game\\ui.helpers.js","dependencies":[{"path":"D:\\大学生活\\大三\\全栈ai\\项目\\-Time-Traveler-Auction\\src\\features\\game\\ui.helpers.js","mtime":1762153938044},{"path":"D:\\大学生活\\大三\\全栈ai\\项目\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1762215254891},{"path":"D:\\大学生活\\大三\\全栈ai\\项目\\node_modules\\babel-loader\\lib\\index.js","mtime":1762215256120}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gVUkg6L6F5Yqp77ya5aS05YOP44CB5pi156ew44CB5pe26Ze05qC85byP5YyWCgpleHBvcnQgZnVuY3Rpb24gZm9ybWF0TWVzc2FnZVRpbWUodGltZXN0YW1wKSB7CiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7CiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsKICBjb25zdCBkaWZmID0gbm93IC0gZGF0ZTsKICBpZiAoZGlmZiA8IDYwMDAwKSByZXR1cm4gJ+WImuWImic7CiAgaWYgKGRpZmYgPCAzNjAwMDAwKSByZXR1cm4gTWF0aC5mbG9vcihkaWZmIC8gNjAwMDApICsgJ+WIhumSn+WJjSc7CiAgcmV0dXJuIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCd6aC1DTicsIHsKICAgIGhvdXI6ICcyLWRpZ2l0JywKICAgIG1pbnV0ZTogJzItZGlnaXQnCiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldEF2YXRhckZvcih7CiAgcHJvZmlsZU1hcCwKICB1c2VySWQKfSkgewogIGNvbnN0IHByb2YgPSBwcm9maWxlTWFwICYmIHByb2ZpbGVNYXBbdXNlcklkXTsKICBpZiAocHJvZiAmJiBwcm9mLmF2YXRhcikgcmV0dXJuIHByb2YuYXZhdGFyOwogIGNvbnN0IGNvZGUgPSAocHJvZiAmJiBwcm9mLnVzZXJuYW1lID8gcHJvZi51c2VybmFtZSA6IHVzZXJJZCB8fCAnVScpLnRvU3RyaW5nKCkuc2xpY2UoMCwgMikudG9VcHBlckNhc2UoKTsKICBjb25zdCBiZyA9ICczMzQxNTUnOwogIGNvbnN0IGZnID0gJ2UyZThmMCc7CiAgY29uc3Qgc3ZnID0gZW5jb2RlVVJJQ29tcG9uZW50KCI8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzQwJyBoZWlnaHQ9JzQwJz48cmVjdCB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyBmaWxsPScjIiArIGJnICsgIicvPjx0ZXh0IHg9JzUwJScgeT0nNTUlJyBkb21pbmFudC1iYXNlbGluZT0nbWlkZGxlJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBmb250LXNpemU9JzE2JyBmaWxsPScjIiArIGZnICsgIicgZm9udC1mYW1pbHk9J0FyaWFsLCBzYW5zLXNlcmlmJz4iICsgY29kZSArICI8L3RleHQ+PC9zdmc+Iik7CiAgcmV0dXJuICdkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwnICsgc3ZnOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXROYW1lRm9yKHsKICBwcm9maWxlTWFwLAogIHJvb20sCiAgdXNlcklkCn0pIHsKICBjb25zdCBwcm9mID0gcHJvZmlsZU1hcCAmJiBwcm9maWxlTWFwW3VzZXJJZF07CiAgaWYgKHByb2YgJiYgcHJvZi51c2VybmFtZSkgcmV0dXJuIHByb2YudXNlcm5hbWU7CiAgaWYgKHJvb20gJiYgcm9vbS5vd25lcl9pZCA9PT0gdXNlcklkKSByZXR1cm4gJ+aIv+S4uyc7CiAgcmV0dXJuICh1c2VySWQgfHwgJycpLnNsaWNlKDAsIDYpOwp9"},{"version":3,"names":["formatMessageTime","timestamp","date","Date","now","diff","Math","floor","toLocaleTimeString","hour","minute","getAvatarFor","profileMap","userId","prof","avatar","code","username","toString","slice","toUpperCase","bg","fg","svg","encodeURIComponent","getNameFor","room","owner_id"],"sources":["D:/大学生活/大三/全栈ai/项目/-Time-Traveler-Auction/src/features/game/ui.helpers.js"],"sourcesContent":["// UI 辅助：头像、昵称、时间格式化\r\n\r\nexport function formatMessageTime(timestamp) {\r\n  const date = new Date(timestamp)\r\n  const now = new Date()\r\n  const diff = now - date\r\n  if (diff < 60000) return '刚刚'\r\n  if (diff < 3600000) return Math.floor(diff / 60000) + '分钟前'\r\n  return date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })\r\n}\r\n\r\nexport function getAvatarFor({ profileMap, userId }) {\r\n  const prof = profileMap && profileMap[userId]\r\n  if (prof && prof.avatar) return prof.avatar\r\n  const code = ((prof && prof.username) ? prof.username : (userId || 'U')).toString().slice(0, 2).toUpperCase()\r\n  const bg = '334155'\r\n  const fg = 'e2e8f0'\r\n  const svg = encodeURIComponent(\"<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40'><rect width='100%' height='100%' fill='#\" + bg + \"'/><text x='50%' y='55%' dominant-baseline='middle' text-anchor='middle' font-size='16' fill='#\" + fg + \"' font-family='Arial, sans-serif'>\" + code + \"</text></svg>\")\r\n  return 'data:image/svg+xml;charset=utf-8,' + svg\r\n}\r\n\r\nexport function getNameFor({ profileMap, room, userId }) {\r\n  const prof = profileMap && profileMap[userId]\r\n  if (prof && prof.username) return prof.username\r\n  if (room && room.owner_id === userId) return '房主'\r\n  return (userId || '').slice(0, 6)\r\n}\r\n\r\n\r\n\r\n"],"mappings":"AAAA;;AAEA,OAAO,SAASA,iBAAiBA,CAACC,SAAS,EAAE;EAC3C,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,SAAS,CAAC;EAChC,MAAMG,GAAG,GAAG,IAAID,IAAI,CAAC,CAAC;EACtB,MAAME,IAAI,GAAGD,GAAG,GAAGF,IAAI;EACvB,IAAIG,IAAI,GAAG,KAAK,EAAE,OAAO,IAAI;EAC7B,IAAIA,IAAI,GAAG,OAAO,EAAE,OAAOC,IAAI,CAACC,KAAK,CAACF,IAAI,GAAG,KAAK,CAAC,GAAG,KAAK;EAC3D,OAAOH,IAAI,CAACM,kBAAkB,CAAC,OAAO,EAAE;IAAEC,IAAI,EAAE,SAAS;IAAEC,MAAM,EAAE;EAAU,CAAC,CAAC;AACjF;AAEA,OAAO,SAASC,YAAYA,CAAC;EAAEC,UAAU;EAAEC;AAAO,CAAC,EAAE;EACnD,MAAMC,IAAI,GAAGF,UAAU,IAAIA,UAAU,CAACC,MAAM,CAAC;EAC7C,IAAIC,IAAI,IAAIA,IAAI,CAACC,MAAM,EAAE,OAAOD,IAAI,CAACC,MAAM;EAC3C,MAAMC,IAAI,GAAG,CAAEF,IAAI,IAAIA,IAAI,CAACG,QAAQ,GAAIH,IAAI,CAACG,QAAQ,GAAIJ,MAAM,IAAI,GAAI,EAAEK,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EAC7G,MAAMC,EAAE,GAAG,QAAQ;EACnB,MAAMC,EAAE,GAAG,QAAQ;EACnB,MAAMC,GAAG,GAAGC,kBAAkB,CAAC,yGAAyG,GAAGH,EAAE,GAAG,iGAAiG,GAAGC,EAAE,GAAG,oCAAoC,GAAGN,IAAI,GAAG,eAAe,CAAC;EACvT,OAAO,mCAAmC,GAAGO,GAAG;AAClD;AAEA,OAAO,SAASE,UAAUA,CAAC;EAAEb,UAAU;EAAEc,IAAI;EAAEb;AAAO,CAAC,EAAE;EACvD,MAAMC,IAAI,GAAGF,UAAU,IAAIA,UAAU,CAACC,MAAM,CAAC;EAC7C,IAAIC,IAAI,IAAIA,IAAI,CAACG,QAAQ,EAAE,OAAOH,IAAI,CAACG,QAAQ;EAC/C,IAAIS,IAAI,IAAIA,IAAI,CAACC,QAAQ,KAAKd,MAAM,EAAE,OAAO,IAAI;EACjD,OAAO,CAACA,MAAM,IAAI,EAAE,EAAEM,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AACnC","ignoreList":[]}]}